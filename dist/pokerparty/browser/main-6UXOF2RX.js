import{A as Sl,B as vd,C as kt,D as Jt,a as P,b as be,c as eC,d as Og,e as w,f as tC,g as md,h as nC,i as iC,j as rC,k as sC,l as Fg,m as oC,n as gd,o as aC,p as yd,q as lC,r as cC,s as ze,t as os,u as si,v as _d,w as Tl,x as Lg,y as uC,z as dC}from"./chunk-FK5WFCJI.js";var hC=null;var Vg=1;function Ot(t){let e=hC;return hC=t,e}var fC={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gL(t){if(!(Ug(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vg)){if(!t.producerMustRecompute(t)&&!jg(t)){t.dirty=!1,t.lastCleanEpoch=Vg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vg}}function pC(t){return t&&(t.nextProducerIndex=0),Ot(t)}function mC(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ug(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jg(t){wd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(gL(n),i!==n.version))return!0}return!1}function gC(t){if(wd(t),Ug(t))for(let e=0;e<t.producerNode.length;e++)Bg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bg(t,e){if(yL(t),wd(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Bg(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];wd(r),r.producerIndexOfThis[i]=e}}function Ug(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yL(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _L(){throw new Error}var vL=_L;function yC(t){vL=t}function W(t){return typeof t=="function"}function So(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var bd=So(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function as(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(W(i))try{i()}catch(s){e=s instanceof bd?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{_C(s)}catch(o){e=e??[],o instanceof bd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_C(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&as(n,e)}remove(e){let{_finalizers:n}=this;n&&as(n,e),e instanceof t&&e._removeParent(this)}};ge.EMPTY=(()=>{let t=new ge;return t.closed=!0,t})();var $g=ge.EMPTY;function Ed(t){return t instanceof ge||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function _C(t){W(t)?t():t.unsubscribe()}var Bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ao={setTimeout(t,e,...n){let{delegate:i}=Ao;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ao;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Id(t){Ao.setTimeout(()=>{let{onUnhandledError:e}=Bn;if(e)e(t);else throw t})}function Al(){}var vC=(()=>zg("C",void 0,void 0))();function wC(t){return zg("E",void 0,t)}function bC(t){return zg("N",t,void 0)}function zg(t,e,n){return{kind:t,value:e,error:n}}var ls=null;function Mo(t){if(Bn.useDeprecatedSynchronousErrorHandling){let e=!ls;if(e&&(ls={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ls;if(ls=null,n)throw i}}else t()}function EC(t){Bn.useDeprecatedSynchronousErrorHandling&&ls&&(ls.errorThrown=!0,ls.error=t)}var cs=class extends ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ed(e)&&e.add(this)):this.destination=EL}static create(e,n,i){return new Vi(e,n,i)}next(e){this.isStopped?qg(bC(e),this):this._next(e)}error(e){this.isStopped?qg(wC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qg(vC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wL=Function.prototype.bind;function Hg(t,e){return wL.call(t,e)}var Gg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Dd(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Dd(i)}else Dd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dd(n)}}},Vi=class extends cs{constructor(e,n,i){super();let r;if(W(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Bn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Hg(e.next,s),error:e.error&&Hg(e.error,s),complete:e.complete&&Hg(e.complete,s)}):r=e}this.destination=new Gg(r)}};function Dd(t){Bn.useDeprecatedSynchronousErrorHandling?EC(t):Id(t)}function bL(t){throw t}function qg(t,e){let{onStoppedNotification:n}=Bn;n&&Ao.setTimeout(()=>n(t,e))}var EL={closed:!0,next:Al,error:bL,complete:Al};var Ro=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Ft(t){return t}function Cd(...t){return Wg(t)}function Wg(t){return t.length===0?Ft:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=DL(n)?n:new Vi(n,i,r);return Mo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=IC(i),new i((r,s)=>{let o=new Vi({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ro](){return this}pipe(...n){return Wg(n)(this)}toPromise(n){return n=IC(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function IC(t){var e;return(e=t??Bn.Promise)!==null&&e!==void 0?e:Promise}function IL(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function DL(t){return t&&t instanceof cs||IL(t)&&Ed(t)}function Kg(t){return W(t?.lift)}function te(t){return e=>{if(Kg(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,n,i,r){return new Qg(t,e,n,i,r)}var Qg=class extends cs{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Po(){return te((t,e)=>{let n=null;t._refCount++;let i=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var No=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ge;let n=this.getSubject();e.add(this.source.subscribe(J(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ge.EMPTY)}return e}refCount(){return Po()(this)}};var ko={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:i}=ko;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);let r=e(s=>{n=void 0,t(s)});return new ge(()=>n?.(r))},requestAnimationFrame(...t){let{delegate:e}=ko;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=ko;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var DC=So(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new xd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new DC}next(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?$g:(this.currentObservers=null,s.push(n),new ge(()=>{this.currentObservers=null,as(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new xd(e,n),t})(),xd=class extends z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:$g}};var yt=class extends z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ml={now(){return(Ml.delegate||Date).now()},delegate:void 0};var Td=class extends z{constructor(e=1/0,n=1/0,i=Ml){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Sd=class extends ge{constructor(e,n){super()}schedule(e,n=0){return this}};var Rl={setInterval(t,e,...n){let{delegate:i}=Rl;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Rl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ur=class extends Sd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Rl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Rl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,as(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Oo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Oo.now=Ml.now;var dr=class extends Oo{constructor(e,n=Oo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var xn=new dr(ur),Yg=xn;var Ad=class extends ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Md=class extends dr{};var Zg=new Md(Ad);var Rd=class extends ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return i!==null&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=ko.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);let{actions:s}=e;n!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==n&&(ko.cancelAnimationFrame(n),e._scheduled=void 0)}};var Pd=class extends dr{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}};var Nd=new Pd(Rd);var Ct=new $(t=>t.complete());function kd(t){return t&&W(t.schedule)}function Xg(t){return t[t.length-1]}function Od(t){return W(Xg(t))?t.pop():void 0}function oi(t){return kd(Xg(t))?t.pop():void 0}function CC(t,e){return typeof Xg(t)=="number"?t.pop():e}var Fo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fd(t){return W(t?.then)}function Ld(t){return W(t[Ro])}function Vd(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function jd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bd=CL();function Ud(t){return W(t?.[Bd])}function $d(t){return nC(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield md(n.read());if(r)return yield md(void 0);yield yield md(i)}}finally{n.releaseLock()}})}function zd(t){return W(t?.getReader)}function De(t){if(t instanceof $)return t;if(t!=null){if(Ld(t))return xL(t);if(Fo(t))return TL(t);if(Fd(t))return SL(t);if(Vd(t))return xC(t);if(Ud(t))return AL(t);if(zd(t))return ML(t)}throw jd(t)}function xL(t){return new $(e=>{let n=t[Ro]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TL(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function SL(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Id)})}function AL(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xC(t){return new $(e=>{RL(t,e).catch(n=>e.error(n))})}function ML(t){return xC($d(t))}function RL(t,e){var n,i,r,s;return tC(this,void 0,void 0,function*(){try{for(n=iC(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function en(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function cn(t,e=0){return te((n,i)=>{n.subscribe(J(i,r=>en(i,t,()=>i.next(r),e),()=>en(i,t,()=>i.complete(),e),r=>en(i,t,()=>i.error(r),e)))})}function Tn(t,e=0){return te((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function TC(t,e){return De(t).pipe(Tn(e),cn(e))}function SC(t,e){return De(t).pipe(Tn(e),cn(e))}function AC(t,e){return new $(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function MC(t,e){return new $(n=>{let i;return en(n,e,()=>{i=t[Bd](),en(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>W(i?.return)&&i.return()})}function Hd(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{en(n,e,()=>{let i=t[Symbol.asyncIterator]();en(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function RC(t,e){return Hd($d(t),e)}function PC(t,e){if(t!=null){if(Ld(t))return TC(t,e);if(Fo(t))return AC(t,e);if(Fd(t))return SC(t,e);if(Vd(t))return Hd(t,e);if(Ud(t))return MC(t,e);if(zd(t))return RC(t,e)}throw jd(t)}function he(t,e){return e?PC(t,e):De(t)}function V(...t){let e=oi(t);return he(t,e)}function hr(t,e){let n=W(t)?t:()=>t,i=r=>r.error(n());return new $(e?r=>e.schedule(i,0,r):i)}function qd(t){return!!t&&(t instanceof $||W(t.lift)&&W(t.subscribe))}var ji=So(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function NC(t){return t instanceof Date&&!isNaN(t)}function F(t,e){return te((n,i)=>{let r=0;n.subscribe(J(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:PL}=Array;function NL(t,e){return PL(e)?t(...e):t(e)}function Lo(t){return F(e=>NL(t,e))}var{isArray:kL}=Array,{getPrototypeOf:OL,prototype:FL,keys:LL}=Object;function Gd(t){if(t.length===1){let e=t[0];if(kL(e))return{args:e,keys:null};if(VL(e)){let n=LL(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function VL(t){return t&&typeof t=="object"&&OL(t)===FL}function Wd(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function us(...t){let e=oi(t),n=Od(t),{args:i,keys:r}=Gd(t);if(i.length===0)return he([],e);let s=new $(jL(i,e,r?o=>Wd(r,o):Ft));return n?s.pipe(Lo(n)):s}function jL(t,e,n=Ft){return i=>{kC(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)kC(e,()=>{let c=he(t[l],e),u=!1;c.subscribe(J(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function kC(t,e,n){t?en(n,t,e):e()}function OC(t,e,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;De(n(m,u++)).subscribe(J(e,b=>{r?.(b),s?f(b):e.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){let b=l.shift();o?en(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(J(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ge(t,e,n=1/0){return W(e)?Ge((i,r)=>F((s,o)=>e(i,s,r,o))(De(t(i,r))),n):(typeof e=="number"&&(n=e),te((i,r)=>OC(i,r,t,n)))}function fr(t=1/0){return Ge(Ft,t)}function FC(){return fr(1)}function pr(...t){return FC()(he(t,oi(t)))}function Kd(t){return new $(e=>{De(t()).subscribe(e)})}function Pl(...t){let e=Od(t),{args:n,keys:i}=Gd(t),r=new $(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;De(n[u]).subscribe(J(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?Wd(i,a):a),s.complete())}))}});return e?r.pipe(Lo(e)):r}var BL=["addListener","removeListener"],UL=["addEventListener","removeEventListener"],$L=["on","off"];function Vo(t,e,n,i){if(W(n)&&(i=n,n=void 0),i)return Vo(t,e,n).pipe(Lo(i));let[r,s]=qL(t)?UL.map(o=>a=>t[o](e,a,n)):zL(t)?BL.map(LC(t,e)):HL(t)?$L.map(LC(t,e)):[];if(!r&&Fo(t))return Ge(o=>Vo(o,e,n))(De(t));if(!r)throw new TypeError("Invalid event target");return new $(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function LC(t,e){return n=>i=>t[n](e,i)}function zL(t){return W(t.addListener)&&W(t.removeListener)}function HL(t){return W(t.on)&&W(t.off)}function qL(t){return W(t.addEventListener)&&W(t.removeEventListener)}function Qd(t=0,e,n=Yg){let i=-1;return e!=null&&(kd(e)?n=e:i=e),new $(r=>{let s=NC(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Jg(t=0,e=xn){return t<0&&(t=0),Qd(t,t,e)}function Un(...t){let e=oi(t),n=CC(t,1/0),i=t;return i.length?i.length===1?De(i[0]):fr(n)(he(i,e)):Ct}function ke(t,e){return te((n,i)=>{let r=0;n.subscribe(J(i,s=>t.call(e,s,r++)&&i.next(s)))})}function VC(t){return te((e,n)=>{let i=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let c=r;r=null,n.next(c)}o&&n.complete()},l=()=>{s=null,o&&n.complete()};e.subscribe(J(n,c=>{i=!0,r=c,s||De(t(c)).subscribe(s=J(n,a,l))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}function Yd(t,e=xn){return VC(()=>Qd(t,e))}function ai(t){return te((e,n)=>{let i=null,r=!1,s;i=e.subscribe(J(n,void 0,void 0,o=>{s=De(t(o,ai(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function jC(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(J(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Bi(t,e){return W(e)?Ge(t,e,1):Ge(t,1)}function ey(t,e=xn){return te((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+t,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}n.subscribe(J(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function mr(t){return te((e,n)=>{let i=!1;e.subscribe(J(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function xt(t){return t<=0?()=>Ct:te((e,n)=>{let i=0;e.subscribe(J(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function ty(t){return F(()=>t)}function ds(t,e=Ft){return t=t??GL,te((n,i)=>{let r,s=!0;n.subscribe(J(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function GL(t,e){return t===e}function Zd(t=WL){return te((e,n)=>{let i=!1;e.subscribe(J(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function WL(){return new ji}function gr(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function un(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ke((r,s)=>t(r,s,i)):Ft,xt(1),n?mr(e):Zd(()=>new ji))}function jo(t){return t<=0?()=>Ct:te((e,n)=>{let i=[];e.subscribe(J(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function ny(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ke((r,s)=>t(r,s,i)):Ft,jo(1),n?mr(e):Zd(()=>new ji))}function hs(){return te((t,e)=>{let n,i=!1;t.subscribe(J(e,r=>{let s=n;n=r,i&&e.next([s,r]),i=!0}))})}function yr(t,e){return te(jC(t,e,arguments.length>=2,!0))}function fs(t={}){let{connector:e=()=>new z,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{let m=o;f(),m?.unsubscribe()};return te((m,g)=>{c++,!d&&!u&&h();let b=l=l??e();g.add(()=>{c--,c===0&&!d&&!u&&(a=iy(p,r))}),b.subscribe(g),!o&&c>0&&(o=new Vi({next:A=>b.next(A),error:A=>{d=!0,h(),a=iy(f,n,A),b.error(A)},complete:()=>{u=!0,h(),a=iy(f,i),b.complete()}}),De(m).subscribe(o))})(s)}}function iy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Vi({next:()=>{i.unsubscribe(),t()}});return De(e(...n)).subscribe(i)}function ps(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,fs({connector:()=>new Td(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ry(t){return ke((e,n)=>t<=n)}function Lt(...t){let e=oi(t);return te((n,i)=>{(e?pr(t,n,e):pr(t,n)).subscribe(i)})}function Se(t,e){return te((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(J(i,l=>{r?.unsubscribe();let c=0,u=s++;De(t(l,u)).subscribe(r=J(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Xd(t,e){return W(e)?Se(()=>t,e):Se(()=>t)}function _t(t){return te((e,n)=>{De(t).subscribe(J(n,()=>n.complete(),Al)),!n.closed&&e.subscribe(n)})}function Ae(t,e,n){let i=W(t)||e||n?{next:t,error:e,complete:n}:t;return i?te((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(J(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ft}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function Jd(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function BC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KL=Pe({__forward_ref__:Pe});function ql(t){return t.__forward_ref__=ql,t.toString=function(){return jt(this())},t}function Vt(t){return xx(t)?t():t}function xx(t){return typeof t=="function"&&t.hasOwnProperty(KL)&&t.__forward_ref__===ql}function Tx(t){return t&&!!t.\u0275providers}var Sx="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(jh(e,n)),this.code=e}};function jh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var QL=Pe({\u0275cmp:Pe}),YL=Pe({\u0275dir:Pe}),ZL=Pe({\u0275pipe:Pe}),XL=Pe({\u0275mod:Pe}),ph=Pe({\u0275fac:Pe}),kl=Pe({__NG_ELEMENT_ID__:Pe}),UC=Pe({__NG_ENV_ID__:Pe});function E_(t){return typeof t=="string"?t:t==null?"":String(t)}function JL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():E_(t)}function eV(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}function I_(t,e){let n=e?` in ${e}`:"";throw new x(-201,!1)}function tV(t,e){t==null&&nV(e,t,null,"!=")}function nV(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Y(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bh(t){return $C(t,Mx)||$C(t,Rx)}function Ax(t){return Bh(t)!==null}function $C(t,e){return t.hasOwnProperty(e)?t[e]:null}function iV(t){let e=t&&(t[Mx]||t[Rx]);return e||null}function zC(t){return t&&(t.hasOwnProperty(HC)||t.hasOwnProperty(rV))?t[HC]:null}var Mx=Pe({\u0275prov:Pe}),HC=Pe({\u0275inj:Pe}),Rx=Pe({ngInjectableDef:Pe}),rV=Pe({ngInjectorDef:Pe}),le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{}),by;function Px(){return by}function Sn(t){let e=by;return by=t,e}function Nx(t,e,n){let i=Bh(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&le.Optional)return null;if(e!==void 0)return e;I_(jt(t),"Injector")}var Bt=globalThis;var C=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var sV={},Fl=sV,Ey="__NG_DI_FLAG__",mh="ngTempTokenPath",oV="ngTokenPath",aV=/\n/gm,lV="\u0275",qC="__source",Ho;function cV(){return Ho}function _r(t){let e=Ho;return Ho=t,e}function uV(t,e=le.Default){if(Ho===void 0)throw new x(-203,!1);return Ho===null?Nx(t,void 0,e):Ho.get(t,e&le.Optional?null:void 0,e)}function v(t,e=le.Default){return(Px()||uV)(Vt(t),e)}function T(t,e=le.Default){return v(t,Uh(e))}function Uh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Iy(t){let e=[];for(let n=0;n<t.length;n++){let i=Vt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new x(900,!1);let r,s=le.Default;for(let o=0;o<i.length;o++){let a=i[o],l=dV(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(v(r,s))}else e.push(v(i))}return e}function kx(t,e){return t[Ey]=e,t.prototype[Ey]=e,t}function dV(t){return t[Ey]}function hV(t,e,n,i){let r=t[mh];throw e[qC]&&r.unshift(e[qC]),t.message=fV(`
`+t.message,r,n,i),t[oV]=r,t[mh]=null,t}function fV(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lV?t.slice(2):t;let r=jt(e);if(Array.isArray(e))r=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(aV,`
  `)}`}function Gl(t){return{toString:t}.toString()}var Ox=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ox||{}),di=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(di||{}),Go={},dn=[];function Fx(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function Dy(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];pV(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function Lx(t){return t===3||t===4||t===6}function pV(t){return t.charCodeAt(0)===64}function Ll(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?GC(t,n,r,null,e[++i]):GC(t,n,r,null,null))}}return t}function GC(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var Vx="ng-template";function mV(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&Fx(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function jx(t){return t.type===4&&t.value!==Vx}function gV(t,e,n){let i=t.type===4&&!n?Vx:t.value;return e===i}function yV(t,e,n){let i=4,r=t.attrs||[],s=wV(r),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!$n(i)&&!$n(l))return!1;if(o&&$n(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!gV(t,l,n)||l===""&&e.length===1){if($n(i))return!1;o=!0}}else{let c=i&8?l:e[++a];if(i&8&&t.attrs!==null){if(!mV(t.attrs,c,n)){if($n(i))return!1;o=!0}continue}let u=i&8?"class":l,d=_V(u,r,jx(t),n);if(d===-1){if($n(i))return!1;o=!0;continue}if(c!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&Fx(f,c,0)!==-1||i&2&&c!==h){if($n(i))return!1;o=!0}}}}return $n(i)||o}function $n(t){return(t&1)===0}function _V(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return bV(e,t)}function Bx(t,e,n=!1){for(let i=0;i<e.length;i++)if(yV(t,e[i],n))return!0;return!1}function vV(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function wV(t){for(let e=0;e<t.length;e++){let n=t[e];if(Lx(n))return e}return t.length}function bV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function EV(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function WC(t,e){return t?":not("+e.trim()+")":e}function IV(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!$n(o)&&(e+=WC(s,r),r=""),i=o,s=s||!$n(i);n++}return r!==""&&(e+=WC(s,r)),e}function DV(t){return t.map(IV).join(",")}function CV(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!$n(r))break;r=s}i++}return{attrs:e,classes:n}}function $t(t){return Gl(()=>{let e=qx(t),n=be(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ox.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||di.Emulated,styles:t.styles||dn,_:null,schemas:t.schemas||null,tView:null,id:""});Gx(n);let i=t.dependencies;return n.directiveDefs=QC(i,!1),n.pipeDefs=QC(i,!0),n.id=SV(n),n})}function xV(t){return wr(t)||Ux(t)}function TV(t){return t!==null}function Z(t){return Gl(()=>({type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KC(t,e){if(t==null)return Go;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}function Me(t){return Gl(()=>{let e=qx(t);return Gx(e),e})}function wr(t){return t[QL]||null}function Ux(t){return t[YL]||null}function $x(t){return t[ZL]||null}function zx(t){let e=wr(t)||Ux(t)||$x(t);return e!==null?e.standalone:!1}function Hx(t,e){let n=t[XL]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function qx(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Go,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KC(t.inputs,e),outputs:KC(t.outputs),debugInfo:null}}function Gx(t){t.features?.forEach(e=>e(t))}function QC(t,e){if(!t)return null;let n=e?$x:xV;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(TV)}function SV(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var hn=0,re=1,X=2,Xe=3,zn=4,pn=5,hi=6,Vl=7,Hn=8,Wo=9,jl=10,He=11,Bl=12,YC=13,ea=14,fn=15,Wl=16,Bo=17,ui=18,$h=19,Wx=20,vr=21,sy=22,gs=23,vt=25,Kx=1,Ul=6,$i=7,gh=8,Ko=9,Ut=10,Qo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Qo||{});function Ui(t){return Array.isArray(t)&&typeof t[Kx]=="object"}function An(t){return Array.isArray(t)&&t[Kx]===!0}function Qx(t){return(t.flags&4)!==0}function Kl(t){return t.componentOffset>-1}function D_(t){return(t.flags&1)===1}function br(t){return!!t.template}function Yx(t){return(t[X]&512)!==0}function Yo(t,e){let n=t.hasOwnProperty(ph);return n?t[ph]:null}var Cy=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function mn(){return Zx}function Zx(t){return t.type.prototype.ngOnChanges&&(t.setInput=MV),AV}mn.ngInherit=!0;function AV(){let t=Jx(this),e=t?.current;if(e){let n=t.previous;if(n===Go)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function MV(t,e,n,i){let r=this.declaredInputs[n],s=Jx(t)||RV(t,{previous:Go,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new Cy(l&&l.currentValue,e,a===Go),t[i]=e}var Xx="__ngSimpleChanges__";function Jx(t){return t[Xx]||null}function RV(t,e){return t[Xx]=e}var ZC=null;var li=function(t,e,n){ZC?.(t,e,n)},PV="svg",NV="math";function qn(t){for(;Array.isArray(t);)t=t[hn];return t}function eT(t,e){return qn(e[t])}function gn(t,e){return qn(e[t.index])}function C_(t,e){return t.data[e]}function kV(t,e){return t[e]}function Ds(t,e){let n=e[t];return Ui(n)?n:n[hn]}function OV(t){return(t[X]&4)===4}function x_(t){return(t[X]&128)===128}function FV(t){return An(t[Xe])}function yh(t,e){return e==null?null:t[e]}function tT(t){t[Bo]=0}function LV(t){t[X]&1024||(t[X]|=1024,x_(t)&&zh(t))}function VV(t,e){for(;t>0;)e=e[ea],t--;return e}function nT(t){return t[X]&9216||t[gs]?.dirty}function iT(t){nT(t)&&zh(t)}function zh(t){let e=t[Xe];for(;e!==null&&!(An(e)&&e[X]&Qo.HasChildViewsToRefresh||Ui(e)&&e[X]&8192);){if(An(e))e[X]|=Qo.HasChildViewsToRefresh;else if(e[X]|=8192,!x_(e))break;e=e[Xe]}}function rT(t,e){if((t[X]&256)===256)throw new x(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function jV(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}var ce={lFrame:hT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BV(){return ce.lFrame.elementDepthCount}function UV(){ce.lFrame.elementDepthCount++}function $V(){ce.lFrame.elementDepthCount--}function sT(){return ce.bindingsEnabled}function ta(){return ce.skipHydrationRootTNode!==null}function zV(t){return ce.skipHydrationRootTNode===t}function HV(t){ce.skipHydrationRootTNode=t}function qV(){ce.skipHydrationRootTNode=null}function Ce(){return ce.lFrame.lView}function Tt(){return ce.lFrame.tView}function yn(){let t=oT();for(;t!==null&&t.type===64;)t=t.parent;return t}function oT(){return ce.lFrame.currentTNode}function GV(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ql(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function aT(){return ce.lFrame.isParent}function lT(){ce.lFrame.isParent=!1}function WV(){return ce.lFrame.contextLView}function KV(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QV(t){return ce.lFrame.bindingIndex=t}function Yl(){return ce.lFrame.bindingIndex++}function YV(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ZV(){return ce.lFrame.inI18n}function XV(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,xy(e)}function JV(){return ce.lFrame.currentDirectiveIndex}function xy(t){ce.lFrame.currentDirectiveIndex=t}function ej(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cT(){return ce.lFrame.currentQueryIndex}function T_(t){ce.lFrame.currentQueryIndex=t}function tj(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[pn]:null}function uT(t,e,n){if(n&le.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&le.Host);)if(r=tj(s),r===null||(s=s[ea],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ce.lFrame=dT();return i.currentTNode=e,i.lView=t,!0}function S_(t){let e=dT(),n=t[re];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dT(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?hT(t):e}function hT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fT(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pT=fT;function A_(){let t=fT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nj(t){return(ce.lFrame.contextLView=VV(t,ce.lFrame.contextLView))[Hn]}function na(){return ce.lFrame.selectedIndex}function ys(t){ce.lFrame.selectedIndex=t}function M_(){let t=ce.lFrame;return C_(t.tView,t.selectedIndex)}function mT(){return ce.lFrame.currentNamespace}var gT=!0;function R_(){return gT}function Cr(t){gT=t}function ij(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=Zx(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function P_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function lh(t,e,n){yT(t,e,3,n)}function ch(t,e,n,i){(t[X]&3)===n&&yT(t,e,n,i)}function oy(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function yT(t,e,n,i){let r=i!==void 0?t[Bo]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[Bo]+=65536),(a<s||s==-1)&&(rj(t,n,e,l),t[Bo]=(t[Bo]&4294901760)+l+2),l++}function XC(t,e){li(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),li(5,t,e)}}function rj(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[X]>>14<t[Bo]>>16&&(t[X]&3)===e&&(t[X]+=16384,XC(a,s)):XC(a,s)}var qo=-1,_s=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function sj(t){return t instanceof _s}function oj(t){return(t.flags&8)!==0}function aj(t){return(t.flags&16)!==0}function _T(t){return t!==qo}function _h(t){let e=t&32767;return t&32767}function lj(t){return t>>16}function vh(t,e){let n=lj(t),i=e;for(;n>0;)i=i[ea],n--;return i}var Ty=!0;function JC(t){let e=Ty;return Ty=t,e}var cj=256,vT=cj-1,wT=5,uj=0,ci={};function dj(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(kl)&&(i=n[kl]),i==null&&(i=n[kl]=uj++);let r=i&vT,s=1<<r;e.data[t+(r>>wT)]|=s}function wh(t,e){let n=bT(t,e);if(n!==-1)return n;let i=e[re];i.firstCreatePass&&(t.injectorIndex=e.length,ay(i.data,t),ay(e,null),ay(i.blueprint,null));let r=N_(t,e),s=t.injectorIndex;if(_T(r)){let o=_h(r),a=vh(r,e),l=a[re].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function ay(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function N_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=xT(r),i===null)return qo;if(n++,r=r[ea],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return qo}function Sy(t,e,n){dj(t,e,n)}function hj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(Lx(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function ET(t,e,n){if(n&le.Optional||t!==void 0)return t;I_(e,"NodeInjector")}function IT(t,e,n,i){if(n&le.Optional&&i===void 0&&(i=null),!(n&(le.Self|le.Host))){let r=t[Wo],s=Sn(void 0);try{return r?r.get(e,i,n&le.Optional):Nx(e,i,n&le.Optional)}finally{Sn(s)}}return ET(i,e,n)}function DT(t,e,n,i=le.Default,r){if(t!==null){if(e[X]&2048&&!(i&le.Self)){let o=gj(t,e,n,i,ci);if(o!==ci)return o}let s=CT(t,e,n,i,ci);if(s!==ci)return s}return IT(e,n,i,r)}function CT(t,e,n,i,r){let s=pj(n);if(typeof s=="function"){if(!uT(e,t,i))return i&le.Host?ET(r,n,i):IT(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&le.Optional))I_(n);else return o}finally{pT()}}else if(typeof s=="number"){let o=null,a=bT(t,e),l=qo,c=i&le.Host?e[fn][pn]:null;for((a===-1||i&le.SkipSelf)&&(l=a===-1?N_(t,e):e[a+8],l===qo||!tx(i,!1)?a=-1:(o=e[re],a=_h(l),e=vh(l,e)));a!==-1;){let u=e[re];if(ex(s,a,u.data)){let d=fj(a,e,n,o,i,c);if(d!==ci)return d}l=e[a+8],l!==qo&&tx(i,e[re].data[a+8]===c)&&ex(s,a,e)?(o=u,a=_h(l),e=vh(l,e)):a=-1}}return r}function fj(t,e,n,i,r,s){let o=e[re],a=o.data[t+8],l=i==null?Kl(a)&&Ty:i!=o&&(a.type&3)!==0,c=r&le.Host&&s===a,u=uh(a,o,n,l,c);return u!==null?vs(e,o,u,a):ci}function uh(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=o[l];if(f&&br(f)&&f.type===n)return l}return null}function vs(t,e,n,i){let r=t[n],s=e.data;if(sj(r)){let o=r;o.resolving&&eV(JL(s[n]));let a=JC(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Sn(o.injectImpl):null,u=uT(t,i,le.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&ij(n,s[n],e)}finally{c!==null&&Sn(c),JC(a),o.resolving=!1,pT()}}return r}function pj(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(kl)?t[kl]:void 0;return typeof e=="number"?e>=0?e&vT:mj:e}function ex(t,e,n){let i=1<<t;return!!(n[e+(t>>wT)]&i)}function tx(t,e){return!(t&le.Self)&&!(t&le.Host&&e)}var ms=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return DT(this._tNode,this._lView,e,Uh(i),n)}};function mj(){return new ms(yn(),Ce())}function Hh(t){return Gl(()=>{let e=t.prototype.constructor,n=e[ph]||Ay(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[ph]||Ay(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ay(t){return xx(t)?()=>{let e=Ay(Vt(t));return e&&e()}:Yo(t)}function gj(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=CT(s,o,n,i|le.Self,ci);if(a!==ci)return a;let l=s.parent;if(!l){let c=o[Wx];if(c){let u=c.get(n,ci,i);if(u!==ci)return u}l=xT(o),o=o[ea]}s=l}return r}function xT(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[pn]:null}function Zl(t){return hj(yn(),t)}var eh="__parameters__";function yj(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function TT(t,e,n){return Gl(()=>{let i=yj(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(eh)?l[eh]:Object.defineProperty(l,eh,{value:[]})[eh];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function _j(t){let e=Bt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function vj(t){return typeof t=="function"}function wj(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function bj(t){return t.flat(Number.POSITIVE_INFINITY)}function k_(t,e){t.forEach(n=>Array.isArray(n)?k_(n,e):e(n))}function ST(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AT(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function Ej(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function Ij(t,e,n){let i=Xl(t,e);return i>=0?t[i|1]=n:(i=~i,Ej(t,i,e,n)),i}function ly(t,e){let n=Xl(t,e);if(n>=0)return t[n|1]}function Xl(t,e){return Dj(t,e,1)}function Dj(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var zt=kx(TT("Optional"),8);var qh=kx(TT("SkipSelf"),4);function Cj(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(Aj))}return s}return Eh.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>Mj(s));e.push(l)}),Tj(),Promise.all(e).then(()=>{})}var Eh=new Map,xj=new Set;function Tj(){let t=Eh;return Eh=new Map,t}function Sj(){return Eh.size===0}function Aj(t){return typeof t=="string"?t:t.text()}function Mj(t){xj.delete(t)}var ia=new C("ENVIRONMENT_INITIALIZER"),MT=new C("INJECTOR",-1),RT=new C("INJECTOR_DEF_TYPES"),Ih=class{get(e,n=Fl){if(n===Fl){let i=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw i.name="NullInjectorError",i}return n}};function Jl(t){return{\u0275providers:t}}function Rj(...t){return{\u0275providers:PT(!0,t),\u0275fromNgModule:!0}}function PT(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return k_(e,o=>{let a=o;My(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&NT(r,s),n}function NT(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];O_(r,s=>{e(s,i)})}}function My(t,e,n,i){if(t=Vt(t),!t)return!1;let r=null,s=zC(t),o=!s&&wr(t);if(!s&&!o){let l=t.ngModule;if(s=zC(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)My(c,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{k_(s.imports,u=>{My(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&NT(c,e)}if(!a){let c=Yo(r)||(()=>new r);e({provide:r,useFactory:c,deps:dn},r),e({provide:RT,useValue:r,multi:!0},r),e({provide:ia,useValue:()=>v(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;O_(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function O_(t,e){for(let n of t)Tx(n)&&(n=n.\u0275providers),Array.isArray(n)?O_(n,e):e(n)}var Pj=Pe({provide:String,useValue:Pe});function kT(t){return t!==null&&typeof t=="object"&&Pj in t}function Nj(t){return!!(t&&t.useExisting)}function kj(t){return!!(t&&t.useFactory)}function Zo(t){return typeof t=="function"}function Oj(t){return!!t.useClass}var Gh=new C("Set Injector scope."),dh={},Fj={},cy;function F_(){return cy===void 0&&(cy=new Ih),cy}var tn=class{},$l=class extends tn{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Py(e,o=>this.processProvider(o)),this.records.set(MT,Uo(void 0,this)),r.has("environment")&&this.records.set(tn,Uo(void 0,this));let s=this.records.get(Gh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(RT,dn,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_r(this),i=Sn(void 0),r;try{return e()}finally{_r(n),Sn(i)}}get(e,n=Fl,i=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(UC))return e[UC](this);i=Uh(i);let r,s=_r(this),o=Sn(void 0);try{if(!(i&le.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=Uj(e)&&Bh(e);c&&this.injectableDefInScope(c)?l=Uo(Ry(e),dh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&le.Self?F_():this.parent;return n=i&le.Optional&&n===Fl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[mh]=a[mh]||[]).unshift(jt(e)),s)throw a;return hV(a,e,"R3InjectorError",this.source)}else throw a}finally{Sn(o),_r(s)}}resolveInjectorInitializers(){let e=_r(this),n=Sn(void 0),i;try{let r=this.get(ia,dn,le.Self);for(let s of r)s()}finally{_r(e),Sn(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(jt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=Vt(e);let n=Zo(e)?e:Vt(e&&e.provide),i=Vj(e);if(!Zo(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Uo(void 0,dh,!0),r.factory=()=>Iy(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}else{let r=this.records.get(n)}this.records.set(n,i)}hydrate(e,n){return n.value===dh&&(n.value=Fj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Bj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ry(t){let e=Bh(t),n=e!==null?e.factory:Yo(t);if(n!==null)return n;if(t instanceof C)throw new x(204,!1);if(t instanceof Function)return Lj(t);throw new x(204,!1)}function Lj(t){let e=t.length;if(e>0){let i=AT(e,"?");throw new x(204,!1)}let n=iV(t);return n!==null?()=>n.factory(t):()=>new t}function Vj(t){if(kT(t))return Uo(void 0,t.useValue);{let e=OT(t);return Uo(e,dh)}}function OT(t,e,n){let i;if(Zo(t)){let r=Vt(t);return Yo(r)||Ry(r)}else if(kT(t))i=()=>Vt(t.useValue);else if(kj(t))i=()=>t.useFactory(...Iy(t.deps||[]));else if(Nj(t))i=()=>v(Vt(t.useExisting));else{let r=Vt(t&&(t.useClass||t.provide));if(jj(t))i=()=>new r(...Iy(t.deps));else return Yo(r)||Ry(r)}return i}function Uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jj(t){return!!t.deps}function Bj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Uj(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function Py(t,e){for(let n of t)Array.isArray(n)?Py(n,e):n&&Tx(n)?Py(n.\u0275providers,e):e(n)}function qi(t,e){t instanceof $l&&t.assertNotDestroyed();let n,i=_r(t),r=Sn(void 0);try{return e()}finally{_r(i),Sn(r)}}function $j(t){if(!Px()&&!cV())throw new x(-203,!1)}function nx(t,e=null,n=null,i){let r=FT(t,e,n,i);return r.resolveInjectorInitializers(),r}function FT(t,e=null,n=null,i,r=new Set){let s=[n||dn,Rj(t)];return i=i||(typeof t=="object"?void 0:jt(t)),new $l(s,e||F_(),i||null,r)}var ht=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return nx({name:""},r,i,"");{let s=i.name??"";return nx({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Fl,e.NULL=new Ih,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>v(MT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Ny;function LT(t){Ny=t}function Wh(){if(Ny!==void 0)return Ny;if(typeof document<"u")return document;throw new x(210,!1)}var ra=new C("AppId",{providedIn:"root",factory:()=>zj}),zj="ng",L_=new C("Platform Initializer"),ct=new C("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Cs=new C("AnimationModuleType"),ec=new C("CSP nonce",{providedIn:"root",factory:()=>Wh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Hj(t){return t.ownerDocument.body}function VT(t){return t instanceof Function?t():t}function Nl(t){return(t??T(ht)).get(ct)==="browser"}var qj="ngSkipHydration",Gj="ngskiphydration";function jT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let i=e[n];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===Gj)return!0}return!1}function BT(t){return t.hasAttribute(qj)}function Dh(t){return(t.flags&128)===128}function Wj(t){if(Dh(t))return!0;let e=t.parent;for(;e;){if(Dh(t)||jT(e))return!0;e=e.parent}return!1}var zi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zi||{}),Kj=/^>|^->|<!--|-->|--!>|<!-$/g,Qj=/(<|>)/g,Yj="\u200B$1\u200B";function Zj(t){return t.replace(Kj,e=>e.replace(Qj,Yj))}var UT=new Map,Xj=0;function Jj(){return Xj++}function e2(t){UT.set(t[$h],t)}function t2(t){UT.delete(t[$h])}var ix="__ngContext__";function ws(t,e){Ui(e)?(t[ix]=e[$h],e2(e)):t[ix]=e}var n2;function V_(t,e){return n2(t,e)}function j_(t){let e=t[Xe];return An(e)?e[Xe]:e}function $T(t){return HT(t[Bl])}function zT(t){return HT(t[zn])}function HT(t){for(;t!==null&&!An(t);)t=t[zn];return t}function $o(t,e,n,i,r){if(i!=null){let s,o=!1;An(i)?s=i:Ui(i)&&(o=!0,i=i[hn]);let a=qn(i);t===0&&n!==null?r==null?QT(e,n,a):xh(e,n,a,r||null,!0):t===1&&n!==null?xh(e,n,a,r||null,!0):t===2?XT(e,a,o):t===3&&e.destroyNode(a),s!=null&&_2(e,t,s,n,r)}}function qT(t,e){return t.createText(e)}function i2(t,e,n){t.setValue(e,n)}function GT(t,e){return t.createComment(Zj(e))}function B_(t,e,n){return t.createElement(e,n)}function r2(t,e){let n=e[He];tc(t,e,n,2,null,null),e[hn]=null,e[pn]=null}function s2(t,e,n,i,r,s){i[hn]=r,i[pn]=e,tc(t,i,n,1,r,s)}function o2(t,e){tc(t,e,e[He],2,null,null)}function a2(t){let e=t[Bl];if(!e)return uy(t[re],t);for(;e;){let n=null;if(Ui(e))n=e[Bl];else{let i=e[Ut];i&&(n=i)}if(!n){for(;e&&!e[zn]&&e!==t;)Ui(e)&&uy(e[re],e),e=e[Xe];e===null&&(e=t),Ui(e)&&uy(e[re],e),n=e&&e[zn]}e=n}}function l2(t,e,n,i){let r=Ut+i,s=n.length;i>0&&(n[r-1][zn]=e),i<s-Ut?(e[zn]=n[r],ST(n,Ut+i,e)):(n.push(e),e[zn]=null),e[Xe]=n;let o=e[Wl];o!==null&&n!==o&&c2(o,e);let a=e[ui];a!==null&&a.insertView(t),iT(e),e[X]|=128}function c2(t,e){let n=t[Ko],r=e[Xe][Xe][fn];e[fn]!==r&&(t[X]|=Qo.HasTransplantedViews),n===null?t[Ko]=[e]:n.push(e)}function WT(t,e){let n=t[Ko],i=n.indexOf(e),r=e[Xe];n.splice(i,1)}function Ch(t,e){if(t.length<=Ut)return;let n=Ut+e,i=t[n];if(i){let r=i[Wl];r!==null&&r!==t&&WT(r,i),e>0&&(t[n-1][zn]=i[zn]);let s=bh(t,Ut+e);r2(i[re],i);let o=s[ui];o!==null&&o.detachView(s[re]),i[Xe]=null,i[zn]=null,i[X]&=-129}return i}function U_(t,e){if(!(e[X]&256)){let n=e[He];n.destroyNode&&tc(t,e,n,3,null,null),a2(e)}}function uy(t,e){if(!(e[X]&256)){e[X]&=-129,e[X]|=256,e[gs]&&gC(e[gs]),d2(t,e),u2(t,e),e[re].type===1&&e[He].destroy();let n=e[Wl];if(n!==null&&An(e[Xe])){n!==e[Xe]&&WT(n,e);let i=e[ui];i!==null&&i.detachView(t)}t2(e)}}function u2(t,e){let n=t.cleanup,i=e[Vl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Vl]=null);let r=e[vr];if(r!==null){e[vr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function d2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof _s)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];li(4,a,l);try{l.call(a)}finally{li(5,a,l)}}else{li(4,r,s);try{s.call(r)}finally{li(5,r,s)}}}}}function KT(t,e,n){return h2(t,e.parent,n)}function h2(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[hn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===di.None||s===di.Emulated)return null}return gn(i,n)}}function xh(t,e,n,i,r){t.insertBefore(e,n,i,r)}function QT(t,e,n){t.appendChild(e,n)}function rx(t,e,n,i,r){i!==null?xh(t,e,n,i,r):QT(t,e,n)}function f2(t,e,n,i){t.removeChild(e,n,i)}function $_(t,e){return t.parentNode(e)}function p2(t,e){return t.nextSibling(e)}function YT(t,e,n){return g2(t,e,n)}function m2(t,e,n){return t.type&40?gn(t,n):null}var g2=m2,sx;function z_(t,e,n,i){let r=KT(t,i,e),s=e[He],o=i.parent||e[pn],a=YT(o,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)rx(s,r,n[l],a,!1);else rx(s,r,n,a,!1);sx!==void 0&&sx(s,i,e,n,r)}function hh(t,e){if(e!==null){let n=e.type;if(n&3)return gn(e,t);if(n&4)return ky(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return hh(t,i);{let r=t[e.index];return An(r)?ky(-1,r):qn(r)}}else{if(n&32)return V_(e,t)()||qn(t[e.index]);{let i=ZT(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=j_(t[fn]);return hh(r,i)}else return hh(t,e.next)}}}return null}function ZT(t,e){if(e!==null){let i=t[fn][pn],r=e.projection;return i.projection[r]}return null}function ky(t,e){let n=Ut+t+1;if(n<e.length){let i=e[n],r=i[re].firstChild;if(r!==null)return hh(i,r)}return e[$i]}function XT(t,e,n){let i=$_(t,e);i&&f2(t,i,e,n)}function JT(t){t.textContent=""}function H_(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&e===0&&(a&&ws(qn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)H_(t,e,n.child,i,r,s,!1),$o(e,t,r,a,s);else if(l&32){let c=V_(n,i),u;for(;u=c();)$o(e,t,r,u,s);$o(e,t,r,a,s)}else l&16?eS(t,e,i,n,r,s):$o(e,t,r,a,s);n=o?n.projectionNext:n.next}}function tc(t,e,n,i,r,s){H_(n,i,t.firstChild,e,r,s,!1)}function y2(t,e,n){let i=e[He],r=KT(t,n,e),s=n.parent||e[pn],o=YT(s,n,e);eS(i,0,e,n,r,o)}function eS(t,e,n,i,r,s){let o=n[fn],l=o[pn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];$o(e,t,r,u,s)}else{let c=l,u=o[Xe];Dh(i)&&(c.flags|=128),H_(t,e,c,u,r,s,!0)}}function _2(t,e,n,i,r){let s=n[$i],o=qn(n);s!==o&&$o(e,t,i,s,r);for(let a=Ut;a<n.length;a++){let l=n[a];tc(l[re],l,t,e,i,s)}}function v2(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:zi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=zi.Important),t.setStyle(n,i,r,s))}}function w2(t,e,n){t.setAttribute(e,"style",n)}function tS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nS(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Dy(t,e,i),r!==null&&tS(t,e,r),s!==null&&w2(t,e,s)}var th;function b2(){if(th===void 0&&(th=null,Bt.trustedTypes))try{th=Bt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return th}function Kh(t){return b2()?.createHTML(t)||t}var Hi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sx})`}},Oy=class extends Hi{getTypeName(){return"HTML"}},Fy=class extends Hi{getTypeName(){return"Style"}},Ly=class extends Hi{getTypeName(){return"Script"}},Vy=class extends Hi{getTypeName(){return"URL"}},jy=class extends Hi{getTypeName(){return"ResourceURL"}};function xr(t){return t instanceof Hi?t.changingThisBreaksApplicationSecurity:t}function sa(t,e){let n=E2(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sx})`)}return n===e}function E2(t){return t instanceof Hi&&t.getTypeName()||null}function iS(t){return new Oy(t)}function rS(t){return new Fy(t)}function sS(t){return new Ly(t)}function oS(t){return new Vy(t)}function aS(t){return new jy(t)}function I2(t){let e=new Uy(t);return D2()?new By(e):e}var By=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Kh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Uy=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Kh(e),n}};function D2(){try{return!!new window.DOMParser().parseFromString(Kh(""),"text/html")}catch{return!1}}var C2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function q_(t){return t=String(t),t.match(C2)?t:"unsafe:"+t}function Gi(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function nc(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var lS=Gi("area,br,col,hr,img,wbr"),cS=Gi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uS=Gi("rp,rt"),x2=nc(uS,cS),T2=nc(cS,Gi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),S2=nc(uS,Gi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ox=nc(lS,T2,S2,x2),dS=Gi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),A2=Gi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M2=Gi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),R2=nc(dS,A2,M2),P2=Gi("script,style,template"),$y=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!ox.hasOwnProperty(n))return this.sanitizedSomething=!0,!P2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!R2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;dS[a]&&(l=q_(l)),this.buf.push(" ",o,'="',ax(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();ox.hasOwnProperty(n)&&!lS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ax(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},N2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k2=/([^\#-~ |!])/g;function ax(t){return t.replace(/&/g,"&amp;").replace(N2,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(k2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var nh;function hS(t,e){let n=null;try{nh=nh||I2(t);let i=e?String(e):"";n=nh.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=nh.getInertBodyElement(i)}while(i!==s);let a=new $y().sanitizeChildren(lx(n)||n);return Kh(a)}finally{if(n){let i=lx(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function lx(t){return"content"in t&&O2(t)?t.content:null}function O2(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var rn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rn||{});function F2(){let t=new xs;return T(ct)==="browser"&&(t.store=L2(Wh(),T(ra))),t}var xs=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(i,r){return this.store[i]!==void 0?this.store[i]:r}set(i,r){this.store[i]=r}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(i,r){this.onSerializeCallbacks[i]=r}toJson(){for(let i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=S({token:e,providedIn:"root",factory:F2});let t=e;return t})();function L2(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}var fS="h",pS="b",zy=function(t){return t.FirstChild="f",t.NextSibling="n",t}(zy||{}),V2="e",j2="t",G_="c",mS="x",Th="r",B2="i",U2="n",$2="d",z2="__nghData__",gS=z2,dy="ngh",H2="nghm",yS=(t,e,n)=>null;function q2(t,e,n=!1){let i=t.getAttribute(dy);if(i==null)return null;let[r,s]=i.split("|");if(i=n?s:r,!i)return null;let o=n?r:s?`|${s}`:"",a={};if(i!==""){let c=e.get(xs,null,{optional:!0});c!==null&&(a=c.get(gS,[])[Number(i)])}let l={data:a,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Qh(l,0,t.nextSibling)),o?t.setAttribute(dy,o):t.removeAttribute(dy),l}function G2(){yS=q2}function W_(t,e,n=!1){return yS(t,e,n)}function W2(t){let e=t._lView;return e[re].type===2?null:(Yx(e)&&(e=e[vt]),e)}function K2(t){return t.textContent?.replace(/\s/gm,"")}function Q2(t){let e=Wh(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=K2(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,r=[];for(;i=n.nextNode();)r.push(i);for(let s of r)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Qh(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Hy(t,e){return t.segmentHeads?.[e]??null}function Y2(t,e){let n=t.data,i=n[V2]?.[e]??null;return i===null&&n[G_]?.[e]&&(i=K_(t,e)),i}function _S(t,e){return t.data[G_]?.[e]??null}function K_(t,e){let n=_S(t,e)??[],i=0;for(let r of n)i+=r[Th]*(r[mS]??1);return i}function Yh(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[$2];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var qy=class{},Sh=class{};function Z2(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[X2]=t,e}var X2="ngComponent";var Gy=class{resolveComponentFactory(e){throw Z2(e)}},Zh=(()=>{let e=class e{};e.NULL=new Gy;let t=e;return t})();function J2(){return oa(yn(),Ce())}function oa(t,e){return new Ee(gn(t,e))}var Ee=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=J2;let t=e;return t})();function eB(t){return t instanceof Ee?t.nativeElement:t}var bs=class{};var tB=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),fi=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},ic=new fi("17.0.7"),hy={};function vS(t){return iB(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function iB(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Wy=class{constructor(){}supports(e){return vS(e)}create(e){return new Ky(e)}},rB=(t,e)=>e,Ky=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rB}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<cx(i,r,s)?n:i,a=cx(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vS(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,nB(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Qy(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ah),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ah),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Ah=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Yy,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cx(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function ux(){return new Xh([new Wy])}var Xh=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ux()),deps:[[e,new qh,new zt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new x(901,!1)}};e.\u0275prov=S({token:e,providedIn:"root",factory:ux});let t=e;return t})();function Mh(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(qn(s)),An(s)&&sB(s,i);let o=n.type;if(o&8)Mh(t,e,n.child,i);else if(o&32){let a=V_(n,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=ZT(e,n);if(Array.isArray(a))i.push(...a);else{let l=j_(e[fn]);Mh(l[re],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function sB(t,e){for(let n=Ut;n<t.length;n++){let i=t[n],r=i[re].firstChild;r!==null&&Mh(i[re],i,r,e)}t[$i]!==t[hn]&&e.push(t[$i])}var wS=[];function oB(t){return t[gs]??aB(t)}function aB(t){let e=wS.pop()??Object.create(cB);return e.lView=t,e}function lB(t){t.lView[gs]!==t&&(t.lView=null,wS.push(t))}var cB=be(P({},fC),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zh(t.lView)},consumerOnSignalRead(){this.lView[gs]=this}}),uB="ngOriginalError";function fy(t){return t[uB]}var nn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fy(e);for(;n&&fy(n);)n=fy(n);return n||null}},bS=new C("",{providedIn:"root",factory:()=>T(nn).handleError.bind(void 0)}),ih=new C(""),ES=!1,IS=new C("",{providedIn:"root",factory:()=>ES});var Ts={};function Re(t){DS(Tt(),Ce(),na()+t,!1)}function DS(t,e,n,i){if(!i)if((e[X]&3)===3){let s=t.preOrderCheckHooks;s!==null&&lh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ch(e,s,0,n)}ys(n)}function M(t,e=le.Default){let n=Ce();if(n===null)return v(t,e);let i=yn();return DT(i,n,Vt(t),e)}function CS(){let t="invalid";throw new Error(t)}function dB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ys(~r);else{let s=r,o=n[++i],a=n[++i];XV(o,s);let l=e[s];a(2,l)}}}finally{ys(-1)}}function Jh(t,e,n,i,r,s,o,a,l,c,u){let d=e.blueprint.slice();return d[hn]=r,d[X]=i|4|128|8,(c!==null||t&&t[X]&2048)&&(d[X]|=2048),tT(d),d[Xe]=d[ea]=t,d[Hn]=n,d[jl]=o||t&&t[jl],d[He]=a||t&&t[He],d[Wo]=l||t&&t[Wo]||null,d[pn]=s,d[$h]=Jj(),d[hi]=u,d[Wx]=c,d[fn]=e.type==2?t[fn]:d,d}function rc(t,e,n,i,r){let s=t.data[e];if(s===null)s=hB(t,e,n,i,r),ZV()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=GV();s.injectorIndex=o===null?-1:o.injectorIndex}return Ql(s,!0),s}function hB(t,e,n,i,r){let s=oT(),o=aT(),a=o?s:s&&s.parent,l=t.data[e]=vB(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function xS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function TS(t,e,n,i,r){let s=na(),o=i&2;try{ys(-1),o&&e.length>vt&&DS(t,e,vt,!1),li(o?2:0,r),n(i,r)}finally{ys(s),li(o?3:1,r)}}function SS(t,e,n){if(Qx(e)){let i=Ot(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ot(i)}}}function AS(t,e,n){sT()&&(CB(t,e,n,gn(n,e)),(n.flags&64)===64&&FS(t,e,n))}function MS(t,e,n=gn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function RS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Q_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Q_(t,e,n,i,r,s,o,a,l,c,u){let d=vt+i,h=d+r,f=fB(d,h),p=typeof c=="function"?c():c;return f[re]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function fB(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ts);return n}function pB(t,e,n,i){let s=i.get(IS,ES)||n===di.ShadowDom,o=t.selectRootElement(e,s);return mB(o),o}function mB(t){PS(t)}var PS=t=>null;function gB(t){BT(t)?JT(t):Q2(t)}function yB(){PS=gB}function _B(t,e,n,i){let r=BS(e);r.push(n),t.firstCreatePass&&US(t).push(i,r.length-1)}function vB(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return ta()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dx(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=n===null?{}:n;let s=t[r];i===null?hx(n,e,r,s):i.hasOwnProperty(r)&&hx(n,e,i[r],s)}return n}function hx(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function wB(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=dx(d.inputs,u,l,f),c=dx(d.outputs,u,c,p);let m=l!==null&&o!==null&&!jx(e)?FB(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function bB(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function NS(t,e,n,i,r,s,o,a){let l=gn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(Y_(t,n,u,i,r),Kl(e)&&EB(n,e.index)):e.type&3?(i=bB(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function EB(t,e){let n=Ds(e,t);n[X]&16||(n[X]|=64)}function kS(t,e,n,i){if(sT()){let r=i===null?null:{"":-1},s=TB(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&OS(t,e,n,o,r,a),r&&SB(n,i,r)}n.mergedAttrs=Ll(n.mergedAttrs,n.attrs)}function OS(t,e,n,i,r,s){for(let c=0;c<i.length;c++)Sy(wh(n,e),t,i[c].type);MB(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=xS(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ll(n.mergedAttrs,u.hostAttrs),RB(t,n,e,l,u),AB(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}wB(t,n,s)}function IB(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;DB(o)!=a&&o.push(a),o.push(n,i,s)}}function DB(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function CB(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Kl(n)&&PB(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||wh(n,e),ws(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=vs(e,t,a,n);if(ws(c,e),o!==null&&OB(e,a-r,c,l,n,o),br(l)){let u=Ds(n.index,e);u[Hn]=vs(e,t,a,n)}}}function FS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=JV();try{ys(s);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];xy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&xB(l,c)}}finally{ys(-1),xy(o)}}function xB(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TB(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Bx(e,o.selectors,!1))if(i||(i=[]),br(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;Zy(t,e,l)}else i.unshift(o),Zy(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Zy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SB(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new x(-301,!1);i.push(e[r],s)}}}function AB(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;br(e)&&(n[""]=t)}}function MB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RB(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Yo(r.type,!0)),o=new _s(s,br(r),M);t.blueprint[i]=o,n[i]=o,IB(t,e,i,xS(t,n,r.hostVars,Ts),r)}function PB(t,e,n){let i=gn(e,t),r=RS(n),s=t[jl].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ef(t,Jh(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function NB(t,e,n,i,r,s){let o=gn(t,e);kB(e[He],o,s,t.value,n,i,r)}function kB(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?E_(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function OB(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++];LS(i,n,l,c,u)}}function LS(t,e,n,i,r){let s=Ot(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),t.setInput!==null?t.setInput(e,r,n,i):e[i]=r}finally{Ot(s)}}function FB(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],n[r+1]);break}}r+=2}return i}function VS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function jS(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];T_(s),a.contentQueries(2,e[o],o)}}}finally{Ot(i)}}}function ef(t,e){return t[Bl]?t[YC][zn]=e:t[Bl]=e,t[YC]=e,e}function Xy(t,e,n){T_(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function BS(t){return t[Vl]||(t[Vl]=[])}function US(t){return t.cleanup||(t.cleanup=[])}function $S(t,e){let n=t[Wo],i=n?n.get(nn,null):null;i&&i.handleError(e)}function Y_(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=e[o],c=t.data[o];LS(c,l,i,a,r)}}function LB(t,e,n){let i=eT(e,t);i2(t[He],i,n)}var VB=100;function jB(t,e=!0){let n=t[jl],i=n.rendererFactory,r=n.afterRenderEventManager,s=!1;s||(i.begin?.(),r?.begin());try{BB(t)}catch(o){throw e&&$S(t,o),o}finally{s||(i.end?.(),n.inlineEffectRunner?.flush(),r?.end())}}function BB(t){Jy(t,0);let e=0;for(;nT(t);){if(e===VB)throw new x(103,!1);e++,Jy(t,1)}}function UB(t,e,n,i){let r=e[X];if((r&256)===256)return;let s=!1;!s&&e[jl].inlineEffectRunner?.flush(),S_(e);let o=null,a=null;!s&&$B(t)&&(a=oB(e),o=pC(a));try{tT(e),QV(t.bindingStartIndex),n!==null&&TS(t,e,n,2,i);let l=(r&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&lh(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ch(e,d,0,null),oy(e,0)}if(zB(e),zS(e,0),t.contentQueries!==null&&jS(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&lh(e,d)}else{let d=t.contentHooks;d!==null&&ch(e,d,1),oy(e,1)}dB(t,e);let c=t.components;c!==null&&qS(e,c,0);let u=t.viewQuery;if(u!==null&&Xy(2,u,i),!s)if(l){let d=t.viewCheckHooks;d!==null&&lh(e,d)}else{let d=t.viewHooks;d!==null&&ch(e,d,2),oy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[sy]){for(let d of e[sy])d();e[sy]=null}s||(e[X]&=-73)}catch(l){throw zh(e),l}finally{a!==null&&(mC(a,o),lB(a)),A_()}}function $B(t){return t.type!==2}function zS(t,e){for(let n=$T(t);n!==null;n=zT(n)){n[X]&=~Qo.HasChildViewsToRefresh;for(let i=Ut;i<n.length;i++){let r=n[i];HS(r,e)}}}function zB(t){for(let e=$T(t);e!==null;e=zT(e)){if(!(e[X]&Qo.HasTransplantedViews))continue;let n=e[Ko];for(let i=0;i<n.length;i++){let r=n[i],s=r[Xe];LV(r)}}}function HB(t,e,n){let i=Ds(e,t);HS(i,n)}function HS(t,e){x_(t)&&Jy(t,e)}function Jy(t,e){let i=t[re],r=t[X],s=t[gs],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&jg(s)),s&&(s.dirty=!1),t[X]&=-9217,o)UB(i,t,i.template,t[Hn]);else if(r&8192){zS(t,1);let a=i.components;a!==null&&qS(t,a,1)}}function qS(t,e,n){for(let i=0;i<e.length;i++)HB(t,e[i],n)}function Z_(t){for(;t;){t[X]|=64;let e=j_(t);if(Yx(t)&&!e)return t;t=e}return null}var Es=class{get rootNodes(){let e=this._lView,n=e[re];return Mh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Hn]}set context(e){this._lView[Hn]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(An(e)){let n=e[gh],i=n?n.indexOf(this):-1;i>-1&&(Ch(e,i),bh(n,i))}this._attachedToViewContainer=!1}U_(this._lView[re],this._lView)}onDestroy(e){rT(this._lView,e)}markForCheck(){Z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){iT(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,jB(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,o2(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}},Mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qB;let t=e;return t})();function qB(t){return GB(yn(),Ce(),(t&16)===16)}function GB(t,e,n){if(Kl(t)&&!n){let i=Ds(t.index,e);return new Es(i,i)}else if(t.type&47){let i=e[fn];return new Es(i,e)}return null}var GS=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WB,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),e_=class extends GS{constructor(e){super(),this._lView=e}onDestroy(e){return rT(this._lView,e),()=>jV(this._lView,e)}};function WB(){return new e_(Ce())}var fx=new Set;function Ss(t){fx.has(t)||(fx.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var t_=class extends z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=py(s),r&&(r=py(r)),o&&(o=py(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof ge&&e.add(a),a}};function py(t){return e=>{setTimeout(t,void 0,e)}}var ue=t_;function px(...t){}function KB(){let t=typeof Bt.requestAnimationFrame=="function",e=Bt[t?"requestAnimationFrame":"setTimeout"],n=Bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var j=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=KB().nativeRequestAnimationFrame,ZB(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,QB,px,px);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},QB={};function X_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function YB(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,n_(t),t.isCheckStableRunning=!0,X_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),n_(t))}function ZB(t){let e=()=>{YB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(XB(a))return n.invokeTask(r,s,o,a);try{return mx(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),gx(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return mx(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),gx(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,n_(t),X_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function n_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gx(t){t._nesting--,X_(t)}var i_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}},WS=new C("",{providedIn:"root",factory:KS});function KS(){let t=T(j),e=!0,n=new $(r=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(e),r.complete()})}),i=new $(r=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});let o=t.onUnstable.subscribe(()=>{j.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Un(n,i.pipe(fs()))}function XB(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function JB(t="zone.js",e){return t==="noop"?new i_:t==="zone.js"?new j(e):t}var zo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zo||{}),eU={destroy(){}};function J_(t,e){!e&&$j(J_);let n=e?.injector??T(ht);if(!Nl(n))return eU;Ss("NgAfterNextRender");let i=n.get(QS),r=i.handler??=new s_,s=e?.phase??zo.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(GS).onDestroy(o),l=new r_(n,s,()=>{o(),t()});return r.register(l),{destroy:o}}var r_=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(j),this.errorHandler=e.get(nn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},s_=class{constructor(){this.executingCallbacks=!1,this.buckets={[zo.EarlyRead]:new Set,[zo.Write]:new Set,[zo.MixedReadWrite]:new Set,[zo.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new x(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},QS=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let i of this.internalCallbacks)i();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function tU(t,e){let n=Ds(e,t),i=n[re];nU(i,n);let r=n[hn];r!==null&&n[hi]===null&&(n[hi]=W_(r,n[Wo])),ev(i,n,n[Hn])}function nU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ev(t,e,n){S_(e);try{let i=t.viewQuery;i!==null&&Xy(1,i,n);let r=t.template;r!==null&&TS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jS(t,e),t.staticViewQueries&&Xy(2,t.viewQuery,n);let s=t.components;s!==null&&iU(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[X]&=-5,A_()}}function iU(t,e){for(let n=0;n<e.length;n++)tU(t,e[n])}function o_(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=BC(r,a);else if(s==2){let l=a,c=e[++o];i=BC(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Rh=class extends Zh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new Xo(n,this.ngModule)}};function yx(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push({propName:i,templateName:n})}return e}function rU(t){let e=t.toLowerCase();return e==="svg"?PV:e==="math"?NV:null}var a_=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Uh(i);let r=this.injector.get(e,hy,i);return r!==hy||n===hy?r:this.parentInjector.get(e,n,i)}},Xo=class extends Sh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=yx(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return yx(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let s=r instanceof tn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new a_(e,s):e,a=o.get(bs,null);if(a===null)throw new x(407,!1);let l=o.get(tB,null),c=o.get(QS,null),u={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?pB(d,i,this.componentDef.encapsulation,o):B_(d,h,rU(h)),p=4608,m=this.componentDef.onPush?576:528,g=this.componentDef.signals?p:m,b=null;f!==null&&(b=W_(f,o,!0));let A=Q_(0,null,null,1,0,null,null,null,null,null,null),D=Jh(null,A,null,g,null,null,u,d,o,null,b);S_(D);let O,K;try{let q=this.componentDef,ne,Ve=null;q.findHostDirectiveDefs?(ne=[],Ve=new Map,q.findHostDirectiveDefs(q,ne,Ve),ne.push(q)):ne=[q];let an=sU(D,f),Xt=oU(an,f,q,ne,D,u,d);K=C_(A,vt),f&&cU(d,q,f,i),n!==void 0&&uU(K,this.ngContentSelectors,n),O=lU(Xt,q,ne,Ve,D,[dU]),ev(A,D,null)}finally{A_()}return new l_(this.componentType,O,oa(K,D),D,K)}},l_=class extends qy{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Es(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Y_(s[re],s,r,e,n),this.previousInputValues.set(e,n);let o=Ds(this._tNode.index,s);Z_(o)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sU(t,e){let n=t[re],i=vt;return t[i]=e,rc(n,i,2,"#host",null)}function oU(t,e,n,i,r,s,o){let a=r[re];aU(i,t,e,o);let l=null;e!==null&&(l=W_(e,r[Wo]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Jh(r,RS(n),null,u,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Zy(a,t,i.length-1),ef(r,d),r[t.index]=d}function aU(t,e,n,i){for(let r of t)e.mergedAttrs=Ll(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(o_(e,e.mergedAttrs,!0),n!==null&&nS(i,n,e))}function lU(t,e,n,i,r,s){let o=yn(),a=r[re],l=gn(o,r);OS(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=vs(r,a,d,o);ws(h,r)}FS(a,r,o),l&&ws(l,r);let c=vs(r,a,o.directiveStart+o.componentOffset,o);if(t[Hn]=r[Hn]=c,s!==null)for(let u of s)u(c,e);return SS(a,o,t),c}function cU(t,e,n,i){if(i)Dy(t,n,["ng-version",ic.full]);else{let{attrs:r,classes:s}=CV(e.selectors[0]);r&&Dy(t,n,r),s&&s.length>0&&tS(t,n,s.join(" "))}}function uU(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function dU(){let t=yn();P_(Ce()[re],t)}function hU(t){return Object.getPrototypeOf(t.prototype).constructor}function Gn(t){let e=hU(t.type),n=!0,i=[t];for(;e;){let r;if(br(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=rh(t.inputs),o.inputTransforms=rh(t.inputTransforms),o.declaredInputs=rh(t.declaredInputs),o.outputs=rh(t.outputs);let a=r.hostBindings;a&&gU(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&pU(t,l),c&&mU(t,c),Jd(t.inputs,r.inputs),Jd(t.declaredInputs,r.declaredInputs),Jd(t.outputs,r.outputs),r.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Jd(o.inputTransforms,r.inputTransforms)),br(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Gn&&(n=!1)}}e=Object.getPrototypeOf(e)}fU(i)}function fU(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ll(r.hostAttrs,n=Ll(n,r.hostAttrs))}}function rh(t){return t===Go?{}:t===dn?[]:t}function pU(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function mU(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function gU(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function pi(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[2]&&(n[i]=r[2])}t.inputTransforms=n}function yU(t,e,n){return t[e]=n}function Er(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function _U(t,e,n,i){let r=Er(t,e,n);return Er(t,e+1,i)||r}function sn(t,e,n,i){let r=Ce(),s=Yl();if(Er(r,s,e)){let o=Tt(),a=M_();NB(a,r,t,e,n,i)}return sn}function vU(t,e,n,i){return Er(t,Yl(),n)?e+E_(n)+i:Ts}function sh(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function wU(t){return(t&2)==2}function bU(t,e){return t&131071|e<<17}function c_(t){return t|2}function Jo(t){return(t&131068)>>2}function my(t,e){return t&-131069|e<<2}function EU(t){return(t&1)===1}function u_(t){return t|1}function IU(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Is(o),l=Jo(o);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Xl(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Is(t[a+1]);t[i+1]=sh(h,a),h!==0&&(t[h+1]=my(t[h+1],i)),t[a+1]=bU(t[a+1],i)}else t[i+1]=sh(a,0),a!==0&&(t[a+1]=my(t[a+1],i)),a=i;else t[i+1]=sh(l,0),a===0?a=i:t[l+1]=my(t[l+1],i),l=i;c&&(t[i+1]=c_(t[i+1])),_x(t,u,i,!0,s),_x(t,u,i,!1,s),DU(e,u,t,i,s),o=sh(a,l),s?e.classBindings=o:e.styleBindings=o}function DU(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Xl(s,e)>=0&&(n[i+1]=u_(n[i+1]))}function _x(t,e,n,i,r){let s=t[n+1],o=e===null,a=i?Is(s):Jo(s),l=!1;for(;a!==0&&(l===!1||o);){let c=t[a],u=t[a+1];CU(c,e)&&(l=!0,t[a+1]=i?u_(u):c_(u)),a=i?Is(u):Jo(u)}l&&(t[n+1]=i?c_(s):u_(s))}function CU(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xl(t,e)>=0:!1}function wt(t,e,n){let i=Ce(),r=Yl();if(Er(i,r,e)){let s=Tt(),o=M_();NS(s,o,i,t,e,i[He],n,!1)}return wt}function vx(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Y_(t,n,s[o],o,i)}function We(t,e){return xU(t,e,null,!0),We}function xU(t,e,n,i){let r=Ce(),s=Tt(),o=YV(2);if(s.firstUpdatePass&&SU(s,t,o,i),e!==Ts&&Er(r,o,e)){let a=s.data[na()];NU(s,a,r,r[He],t,r[o+1]=kU(e,n),i,o)}}function TU(t,e){return e>=t.expandoStartIndex}function SU(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[na()],o=TU(t,n);OU(s,i)&&e===null&&!o&&(e=!1),e=AU(r,s,e,i),IU(r,s,e,n,o,i)}}function AU(t,e,n,i){let r=ej(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=gy(null,t,e,n,i),n=zl(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=gy(r,t,e,n,i),s===null){let l=MU(t,e,i);l!==void 0&&Array.isArray(l)&&(l=gy(null,t,e,l[1],i),l=zl(l,e.attrs,i),RU(t,e,i,l))}else s=PU(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function MU(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Jo(i)!==0)return t[Is(i)]}function RU(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Is(r)]=i}function PU(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=zl(i,o,n)}return zl(i,e.attrs,n)}function gy(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=zl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function zl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ij(t,o,n?!0:e[++s]))}return t===void 0?null:t}function NU(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=EU(c)?wx(l,e,n,r,Jo(c),o):void 0;if(!Ph(u)){Ph(s)||wU(c)&&(s=wx(l,null,n,r,a,o));let d=eT(na(),n);v2(i,o,d,r,s)}}function wx(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Ts&&(h=d?dn:void 0);let f=d?ly(h,i):u===i?h:void 0;if(c&&!Ph(f)&&(f=ly(l,i)),Ph(f)&&(a=f,o))return a;let p=t[r+1];r=o?Is(p):Jo(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=ly(l,i))}return a}function Ph(t){return t!==void 0}function kU(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(xr(t)))),t}function OU(t,e){return(t.flags&(e?8:16))!==0}function YS(t){let e=t[Ul]??[],i=t[Xe][He];for(let r of e)FU(r,i);t[Ul]=dn}function FU(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[Th];for(;n<r;){let s=i.nextSibling;XT(e,i,!1),i=s,n++}}}function ZS(t){YS(t);for(let e=Ut;e<t.length;e++)Nh(t[e])}function Nh(t){let e=t[re];for(let n=vt;n<e.bindingStartIndex;n++)if(An(t[n])){let i=t[n];ZS(i)}else Ui(t[n])&&Nh(t[n])}function LU(t){let e=t._views;for(let n of e){let i=W2(n);if(i!==null&&i[hn]!==null)if(Ui(i))Nh(i);else{let r=i[hn];Nh(r),ZS(i)}}}var VU=new RegExp(`^(\\d+)*(${pS}|${fS})*(.*)`);function jU(t){let e=t.match(VU),[n,i,r,s]=e,o=i?parseInt(i,10):r,a=[];for(let[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}function BU(t){return!t.prev&&t.parent?.type===8}function yy(t){return t.index-vt}function tf(t,e,n,i){let r=null,s=yy(i),o=t.data[U2];if(o?.[s])r=$U(o[s],n);else if(e.firstChild===i)r=t.firstChild;else{let a=i.prev===null,l=i.prev??i.parent;if(BU(i)){let c=yy(i.parent);r=Hy(t,c)}else{let c=gn(l,n);if(a)r=c.firstChild;else{let u=yy(l),d=Hy(t,u);if(l.type===2&&d){let f=K_(t,u)+1;r=nf(f,d)}else r=c.nextSibling}}}return r}function nf(t,e){let n=e;for(let i=0;i<t;i++)n=n.nextSibling;return n}function UU(t,e){let n=t;for(let i=0;i<e.length;i+=2){let r=e[i],s=e[i+1];for(let o=0;o<s;o++)switch(r){case zy.FirstChild:n=n.firstChild;break;case zy.NextSibling:n=n.nextSibling;break}}return n}function $U(t,e){let[n,...i]=jU(t),r;if(n===fS)r=e[fn][hn];else if(n===pS)r=Hj(e[fn][hn]);else{let s=Number(n);r=qn(e[s+vt])}return UU(r,i)}function zU(t,e){let n=[];for(let i of e)for(let r=0;r<(i[mS]??1);r++){let s={data:i,firstChild:null};i[Th]>0&&(s.firstChild=t,t=nf(i[Th],t)),n.push(s)}return[t,n]}var XS=(t,e)=>null;function HU(t,e){let n=t[Ul];return!e||n===null||n.length===0?null:n[0].data[B2]===e?n.shift():(YS(t),null)}function qU(){XS=HU}function d_(t,e){return XS(t,e)}function JS(t,e,n,i){let r=e.tView,o=t[X]&4096?4096:16,a=Jh(t,r,n,o,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),l=t[e.index];a[Wl]=l;let c=t[ui];return c!==null&&(a[ui]=c.createEmbeddedView(r)),ev(r,a,n),a}function GU(t,e){let n=Ut+e;if(n<t.length)return t[n]}function h_(t,e){return!e||e.firstChild===null||Dh(t)}function eA(t,e,n,i=!0){let r=e[re];if(l2(r,e,t,n),i){let o=ky(n,t),a=e[He],l=$_(a,t[$i]);l!==null&&s2(r,t[pn],a,e,l,o)}let s=e[hi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function WU(t,e){let n=Ch(t,e);return n!==void 0&&U_(n[re],n),n}var Wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KU;let t=e;return t})();function KU(){let t=yn();return nA(t,Ce())}var QU=Wn,tA=class extends QU{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){let e=N_(this._hostTNode,this._hostLView);if(_T(e)){let n=vh(e,this._hostLView),i=_h(e),r=n[re].data[i+8];return new ms(r,n)}else return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bx(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=d_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,h_(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!vj(e),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new Xo(wr(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(tn,null);m&&(s=m)}let u=wr(l.componentType??{}),d=d_(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,h_(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(FV(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Xe],c=new tA(l,l[pn],l[Xe]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return eA(o,r,s,i),e.attachToViewContainerRef(),ST(_y(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bx(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Ch(this._lContainer,n);i&&(bh(_y(this._lContainer),n),U_(i[re],i))}detach(e){let n=this._adjustIndex(e,-1),i=Ch(this._lContainer,n);return i&&bh(_y(this._lContainer),n)!=null?new Es(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function bx(t){return t[gh]}function _y(t){return t[gh]||(t[gh]=[])}function nA(t,e){let n,i=e[t.index];return An(i)?n=i:(n=VS(i,e,null,t),e[t.index]=n,ef(e,n)),iA(n,e,t,i),new tA(n,t,e)}function YU(t,e){let n=t[He],i=n.createComment(""),r=gn(e,t),s=$_(n,r);return xh(n,s,i,p2(n,r),!1),i}var iA=rA,tv=(t,e,n)=>!1;function ZU(t,e,n){return tv(t,e,n)}function rA(t,e,n,i){if(t[$i])return;let r;n.type&8?r=qn(i):r=YU(e,n),t[$i]=r}function XU(t,e,n){if(t[$i]&&t[Ul])return!0;let i=n[hi],r=e.index-vt;if(!i||Wj(e)||Yh(i,r))return!1;let o=Hy(i,r),a=i.data[G_]?.[r],[l,c]=zU(o,a);return t[$i]=l,t[Ul]=c,!0}function JU(t,e,n,i){tv(t,n,e)||rA(t,e,n,i)}function e$(){iA=JU,tv=XU}function t$(t,e,n,i,r,s,o,a,l){let c=e.consts,u=rc(e,t,4,o||null,yh(c,a));kS(e,n,u,yh(c,l)),P_(e,u);let d=u.tView=Q_(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function nt(t,e,n,i,r,s,o,a){let l=Ce(),c=Tt(),u=t+vt,d=c.firstCreatePass?t$(u,c,l,e,n,i,r,s,o):c.data[u];Ql(d,!1);let h=sA(c,l,d,t);R_()&&z_(c,l,h,d),ws(h,l);let f=VS(h,l,h,d);return l[u]=f,ef(l,f),ZU(f,d,l),D_(d)&&AS(c,l,d),o!=null&&MS(l,d,a),nt}var sA=oA;function oA(t,e,n,i){return Cr(!0),e[He].createComment("")}function n$(t,e,n,i){let r=e[hi],s=!r||ta()||Yh(r,i);if(Cr(s),s)return oA(t,e,n,i);let o=r.data[j2]?.[i]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=tf(r,t,e,n);Qh(r,i,a);let l=K_(r,i);return nf(l,a)}function i$(){sA=n$}function Ht(t,e,n){Ss("NgControlFlow");let i=Ce(),r=Yl(),s=r$(i,vt+t),o=0;if(Er(i,r,e)){let a=Ot(null);try{if(WU(s,o),e!==-1){let l=s$(i[re],vt+e),c=d_(s,l.tView.ssrId),u=JS(i,l,n,{dehydratedView:c});eA(s,u,o,h_(l,c))}}finally{Ot(a)}}else{let a=GU(s,o);a!==void 0&&(a[Hn]=n)}}function r$(t,e){return t[e]}function s$(t,e){return C_(t,e)}function o$(t,e,n,i,r,s){let o=e.consts,a=yh(o,r),l=rc(e,t,2,i,a);return kS(e,n,l,yh(o,s)),l.attrs!==null&&o_(l,l.attrs,!1),l.mergedAttrs!==null&&o_(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function _e(t,e,n,i){let r=Ce(),s=Tt(),o=vt+t,a=r[He],l=s.firstCreatePass?o$(o,s,r,e,n,i):s.data[o],c=aA(s,r,l,a,e,t);r[o]=c;let u=D_(l);return Ql(l,!0),nS(a,c,l),(l.flags&32)!==32&&R_()&&z_(s,r,c,l),BV()===0&&ws(c,r),UV(),u&&(AS(s,r,l),SS(s,l,r)),i!==null&&MS(r,l),_e}function ve(){let t=yn();aT()?lT():(t=t.parent,Ql(t,!1));let e=t;zV(e)&&qV(),$V();let n=Tt();return n.firstCreatePass&&(P_(n,t),Qx(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oj(e)&&vx(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aj(e)&&vx(n,e,Ce(),e.stylesWithoutHost,!1),ve}function Rn(t,e,n,i){return _e(t,e,n,i),ve(),Rn}var aA=(t,e,n,i,r,s)=>(Cr(!0),B_(i,r,mT()));function a$(t,e,n,i,r,s){let o=e[hi],a=!o||ta()||Yh(o,s);if(Cr(a),a)return B_(i,r,mT());let l=tf(o,t,e,n);return _S(o,s)&&Qh(o,s,l.nextSibling),o&&(jT(n)||BT(l))&&Kl(n)&&(HV(n),JT(l)),l}function l$(){aA=a$}var c$=(t,e,n,i)=>(Cr(!0),GT(e[He],""));function u$(t,e,n,i){let r,s=e[hi],o=!s||ta();if(Cr(o),o)return GT(e[He],"");let a=tf(s,t,e,n),l=Y2(s,i);return Qh(s,i,a),r=nf(l,a),r}function d$(){c$=u$}function aa(t,e,n){let i=Ce(),r=Yl();if(Er(i,r,e)){let s=Tt(),o=M_();NS(s,o,i,t,e,i[He],n,!0)}return aa}var kh="en-US";var h$=kh;function f$(t){tV(t,"Expected localeId to be defined"),typeof t=="string"&&(h$=t.toLowerCase().replace(/_/g,"-"))}function As(t){return!!t&&typeof t.then=="function"}function lA(t){return!!t&&typeof t.subscribe=="function"}function St(t,e,n,i){let r=Ce(),s=Tt(),o=yn();return m$(s,r,r[He],o,t,e,i),St}function p$(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Vl],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function m$(t,e,n,i,r,s,o){let a=D_(i),c=t.firstCreatePass&&US(t),u=e[Hn],d=BS(e),h=!0;if(i.type&3||o){let m=gn(i,e),g=o?o(m):m,b=d.length,A=o?O=>o(qn(O[i.index])):i.index,D=null;if(!o&&a&&(D=p$(t,e,r,i.index)),D!==null){let O=D.__ngLastListenerFn__||D;O.__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1}else{s=Ix(i,e,u,s,!1);let O=n.listen(g,r,s);d.push(s,O),c&&c.push(r,A,b,b+1)}}else s=Ix(i,e,u,s,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let g=0;g<m;g+=2){let b=p[g],A=p[g+1],K=e[b][A].subscribe(s),q=d.length;d.push(s,K),c&&c.push(r,i.index,q,-(q+1))}}}function Ex(t,e,n,i){try{return li(6,e,n),n(i)!==!1}catch(r){return $S(t,r),!1}finally{li(7,e,n)}}function Ix(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?Ds(t.index,e):e;Z_(a);let l=Ex(e,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=Ex(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function mi(t=1){return nj(t)}function g$(t,e){let n=null,i=vV(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?Bx(t,s,!0):EV(i,s))return r}return n}function Kn(t){let e=Ce()[fn][pn];if(!e.projection){let n=t?t.length:1,i=e.projection=AT(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?g$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function it(t,e=0,n){let i=Ce(),r=Tt(),s=rc(r,vt+t,16,null,n||null);s.projection===null&&(s.projection=e),lT(),(!i[hi]||ta())&&(s.flags&32)!==32&&y2(r,i,s)}function Ms(t){let e=WV();return kV(e,vt+t)}function gi(t,e=""){let n=Ce(),i=Tt(),r=t+vt,s=i.firstCreatePass?rc(i,r,1,e,null):i.data[r],o=cA(i,n,s,e,t);n[r]=o,R_()&&z_(i,n,o,s),Ql(s,!1)}var cA=(t,e,n,i,r)=>(Cr(!0),qT(e[He],i));function y$(t,e,n,i,r){let s=e[hi],o=!s||ta()||Yh(s,r);return Cr(o),o?qT(e[He],i):tf(s,t,e,n)}function _$(){cA=y$}function Rs(t){return nv("",t,""),Rs}function nv(t,e,n){let i=Ce(),r=vU(i,t,e,n);return r!==Ts&&LB(i,na(),r),nv}function v$(t,e,n){let i=Tt();if(i.firstCreatePass){let r=br(t);f_(n,i.data,i.blueprint,r,!0),f_(e,i.data,i.blueprint,r,!1)}}function f_(t,e,n,i,r){if(t=Vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)f_(t[s],e,n,i,r);else{let s=Tt(),o=Ce(),a=yn(),l=Zo(t)?t:Vt(t.provide),c=OT(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Zo(t)||!t.multi){let f=new _s(c,r,M),p=wy(l,e,r?u:u+h,d);p===-1?(Sy(wh(a,o),s,l),vy(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=wy(l,e,u+h,d),p=wy(l,e,u,u+h),m=f>=0&&n[f],g=p>=0&&n[p];if(r&&!g||!r&&!m){Sy(wh(a,o),s,l);let b=E$(r?b$:w$,n.length,r,i,c);!r&&g&&(n[p].providerFactory=b),vy(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=uA(n[r?p:f],c,!r&&i);vy(s,t,f>-1?f:p,b)}!r&&i&&g&&n[p].componentProviders++}}}function vy(t,e,n,i){let r=Zo(e),s=Oj(e);if(r||s){let l=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function uA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wy(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function w$(t,e,n,i){return p_(this.multi,[])}function b$(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=vs(n,n[re],this.providerFactory.index,i);s=a.slice(0,o),p_(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],p_(r,s);return s}function p_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function E$(t,e,n,i,r){let s=new _s(t,n,M);return s.multi=[],s.index=e,s.componentProviders=0,uA(s,r,i&&!n),s}function _n(t,e=[]){return n=>{n.providersResolver=(i,r)=>v$(i,r?r(t):t,e)}}var Ir=class{},Hl=class{};var Oh=class extends Ir{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rh(this);let r=Hx(e);this._bootstrapComponents=VT(r.bootstrap),this._r3Injector=FT(e,n,[{provide:Ir,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver},...i],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fh=class extends Hl{constructor(e){super(),this.moduleType=e}create(e){return new Oh(this.moduleType,e,[])}};function I$(t,e,n){return new Oh(t,e,n)}var m_=class extends Ir{constructor(e){super(),this.componentFactoryResolver=new Rh(this),this.instance=null;let n=new $l([...e.providers,{provide:Ir,useValue:this},{provide:Zh,useValue:this.componentFactoryResolver}],e.parent||F_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rf(t,e,n=null){return new m_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var D$=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=PT(!1,i.type),s=r.length>0?rf([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(v(tn))});let t=e;return t})();function iv(t){Ss("NgStandalone"),t.getStandaloneInjector=e=>e.get(D$).getOrCreateStandaloneInjector(t)}function sf(t,e,n,i,r){return x$(Ce(),KV(),t,e,n,i,r)}function C$(t,e){let n=t[e];return n===Ts?void 0:n}function x$(t,e,n,i,r,s,o){let a=e+n;return _U(t,a,r,s)?yU(t,a+2,o?i.call(o,r,s):i(r,s)):C$(t,a+2)}function T$(){return this._results[Symbol.iterator]()}var Lh=class t{get changes(){return this._changes??=new ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=T$)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=bj(e);(this._changesDetected=!wj(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=M$;let t=e;return t})(),S$=Dr,A$=class extends S${constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=JS(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Es(r)}};function M$(){return of(yn(),Ce())}function of(t,e){return t.type&4?new A$(e,t,oa(t,e)):null}var g_=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},y_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)pA(e,n).matches!==null&&this.queries[n].setDirty()}},Vh=class{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}},__=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},v_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,R$(n,s)),this.matchTNodeWithReadOption(e,n,uh(n,e,s,!1,!1))}else i===Dr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,uh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Ee||r===Wn||r===Dr&&n.type&4)this.addMatch(n.index,-2);else{let s=uh(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function R$(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function P$(t,e){return t.type&11?oa(t,e):t.type&4?of(t,e):null}function N$(t,e,n,i){return n===-1?P$(e,t):n===-2?k$(t,e,i):vs(t,t[re],n,e)}function k$(t,e,n){if(n===Ee)return oa(e,t);if(n===Dr)return of(e,t);if(n===Wn)return nA(e,t)}function dA(t,e,n,i){let r=e[ui].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(N$(e,u,o[l+1],n.metadata.read))}}r.matches=a}return r.matches}function w_(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=dA(t,e,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=Ut;d<u.length;d++){let h=u[d];h[Wl]===h[Xe]&&w_(h[re],h,c,i)}if(u[Ko]!==null){let d=u[Ko];for(let h=0;h<d.length;h++){let f=d[h];w_(f[re],f,c,i)}}}}}return i}function je(t){let e=Ce(),n=Tt(),i=cT();T_(i+1);let r=pA(n,i);if(t.dirty&&OV(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=r.crossesNgTemplate?w_(n,e,i,[]):dA(n,e,r,i);t.reset(s,eB),t.notifyOnChanges()}return!0}return!1}function yi(t,e,n){let i=Tt();i.firstCreatePass&&(fA(i,new Vh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),hA(i,Ce(),e)}function qt(t,e,n,i){let r=Tt();if(r.firstCreatePass){let s=yn();fA(r,new Vh(e,n,i),s.index),F$(r,t),(n&2)===2&&(r.staticContentQueries=!0)}hA(r,Ce(),n)}function Be(){return O$(Ce(),cT())}function O$(t,e){return t[ui].queries[e].queryList}function hA(t,e,n){let i=new Lh((n&4)===4);_B(t,e,i,i.destroy),e[ui]===null&&(e[ui]=new y_),e[ui].queries.push(new g_(i))}function fA(t,e,n){t.queries===null&&(t.queries=new __),t.queries.track(new v_(e,n))}function F$(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function pA(t,e){return t.queries.getByIndex(e)}function mA(t,e){return of(t,e)}var oh=null;function L$(t){oh!==null&&(t.defaultEncapsulation!==oh.defaultEncapsulation||t.preserveWhitespaces!==oh.preserveWhitespaces)||(oh=t)}var af=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),lf=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yt(!1)}add(){this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cf=(()=>{let e=class e{compileModuleSync(i){return new Fh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=Hx(i),o=VT(s.declarations).reduce((a,l)=>{let c=wr(l);return c&&a.push(new Xo(c)),a},[]);return new b_(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V$=new C("compilerOptions");var rv=new C(""),sc=new C(""),uf=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sv||(j$(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(v(j),v(df),v(sc))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),df=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return sv?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function j$(t){sv=t}var sv,hf=new C("Application Initializer"),gA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=T(hf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(As(o))i.push(o);else if(lA(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),la=new C("appBootstrapListener");function B$(t,e,n){let i=new Fh(n);return Promise.resolve(i)}function U$(){yC(()=>{throw new x(600,!1)})}function $$(t){return t.isBoundToModule}function z$(t,e,n){try{let i=n();return As(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function yA(t,e){return Array.isArray(e)?e.reduce(yA,t):P(P({},t),e)}var Qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(bS),this.zoneIsStable=T(WS),this.componentTypes=[],this.components=[],this.isStable=T(lf).hasPendingTasks.pipe(Se(i=>i?V(!1):this.zoneIsStable),ds()),this._injector=T(tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Sh;if(!this._injector.get(gA).done){let p="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&zx(i)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new x(405,!1)}let a;s?a=i:a=this._injector.get(Zh).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=$$(a)?void 0:this._injector.get(Ir),c=r||a.selector,u=a.create(ht.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(rv,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),fh(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;fh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(la,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>fh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new x(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Dx(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var ah;function ov(t){ah??=new WeakMap;let e=ah.get(t);if(e)return e;let n=t.isStable.pipe(un(i=>i)).toPromise().then(()=>{});return ah.set(t,n),t.onDestroy(()=>ah?.delete(t)),n}var H$=(()=>{let e=class e{constructor(){this.zone=T(j),this.applicationRef=T(Qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q$(t){return[{provide:j,useFactory:t},{provide:ia,multi:!0,useFactory:()=>{let e=T(H$,{optional:!0});return()=>e.initialize()}},{provide:bS,useFactory:G$},{provide:WS,useFactory:KS}]}function G$(){let t=T(j),e=T(nn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function W$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function K$(){return typeof $localize<"u"&&$localize.locale||kh}var ff=new C("LocaleId",{providedIn:"root",factory:()=>T(ff,le.Optional|le.SkipSelf)||K$()});var _A=new C("PlatformDestroyListeners"),vA=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=JB(r?.ngZone,W$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=I$(i.moduleType,this.injector,q$(()=>s)),a=o.injector.get(nn,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{fh(this._modules,o),l.unsubscribe()})}),z$(a,s,()=>{let l=o.injector.get(gA);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(ff,kh);return f$(c||kh),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=yA({},r);return B$(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Qn);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new x(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(_A,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(v(ht))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ol=null,wA=new C("AllowMultipleToken");function Q$(t){if(Ol&&!Ol.get(wA,!1))throw new x(400,!1);U$(),Ol=t;let e=t.get(vA);return X$(t),e}function av(t,e,n=[]){let i=`Platform: ${e}`,r=new C(i);return(s=[])=>{let o=bA();if(!o||o.injector.get(wA,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):Q$(Y$(a,i))}return Z$(r)}}function Y$(t=[],e){return ht.create({name:e,providers:[{provide:Gh,useValue:"platform"},{provide:_A,useValue:new Set([()=>Ol=null])},...t]})}function Z$(t){let e=bA();if(!e)throw new x(401,!1);return e}function bA(){return Ol?.get(vA)??null}function X$(t){t.get(L_,null)?.forEach(n=>n())}function lv(){return!1}var EA=av(null,"core",[]),IA=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(v(Qn))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var Cx=!1;function J$(){Cx||(Cx=!0,G2(),l$(),_$(),d$(),i$(),e$(),qU(),yB())}function ez(t,e){return ov(t)}function DA(){return Jl([{provide:ih,useFactory:()=>{let t=!0;return Nl()&&(t=!!T(xs,{optional:!0})?.get(gS,null)),t&&Ss("NgHydration"),t}},{provide:ia,useValue:()=>{Nl()&&T(ih)&&(tz(),J$())},multi:!0},{provide:IS,useFactory:()=>Nl()&&T(ih)},{provide:la,useFactory:()=>{if(Nl()&&T(ih)){let t=T(Qn),e=T(ht);return()=>{ez(t,e).then(()=>{j.assertInAngularZone(),LU(t)})}}return()=>{}},multi:!0}])}function tz(){let t=Wh(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===H2){e=n;break}if(!e)throw new x(-507,!1)}function _i(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function CA(t){let e=wr(t);if(!e)return null;let n=new Xo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cv=null;function Ps(){return cv}function AA(t){cv||(cv=t)}var pf=class{},ae=new C("DocumentToken"),fv=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(iz))(),providedIn:"platform"});let t=e;return t})(),MA=new C("Location Initialized"),iz=(()=>{let e=class e extends fv{constructor(){super(),this._doc=T(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(i){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function pv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Wi(t){return t&&t[0]!=="?"?"?"+t:t}var Ns=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(mv))(),providedIn:"root"});let t=e;return t})(),RA=new C("appBaseHref"),mv=(()=>{let e=class e extends Ns{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??T(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return pv(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Wi(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Wi(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Wi(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(fv),v(RA,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PA=(()=>{let e=class e extends Ns{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=pv(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Wi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Wi(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(fv),v(RA,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ca=(()=>{let e=class e{constructor(i){this._subject=new ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=oz(xA(TA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Wi(r))}normalize(i){return e.stripTrailingSlash(sz(this._basePath,TA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Wi(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Wi(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Wi,e.joinWithSlash=pv,e.stripTrailingSlash=xA,e.\u0275fac=function(r){return new(r||e)(v(Ns))},e.\u0275prov=S({token:e,factory:()=>rz(),providedIn:"root"});let t=e;return t})();function rz(){return new ca(v(Ns))}function sz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function TA(t){return t.replace(/\/index.html$/,"")}function oz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function NA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var uv=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kA=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(!1)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new uv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),SA(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);SA(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(M(Wn),M(Dr),M(Xh))},e.\u0275dir=Me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function SA(t,e){t.context.$implicit=e.item}var OA=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(M(Wn))},e.\u0275dir=Me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[mn]});let t=e;return t})();var ua=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),gv="browser",az="server";function FA(t){return t===gv}function ks(t){return t===az}var LA=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new dv(v(ae),window)});let t=e;return t})(),dv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=lz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function lz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var mf=class{};var _v=class{};var Os=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var vv=class{encodeKey(e){return jA(e)}encodeValue(e){return jA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function uz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var dz=/%(\d[a-f0-9])/gi,hz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jA(t){return encodeURIComponent(t).replace(dz,(e,n)=>hz[n]??e)}function gf(t){return`${t}`}var Tr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=uz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(gf):[gf(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(gf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(gf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function fz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function UA(t){return typeof Blob<"u"&&t instanceof Blob}function $A(t){return typeof FormData<"u"&&t instanceof FormData}function pz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var oc=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(fz(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Os),this.context||(this.context=new wv),!this.params)this.params=new Tr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:BA(this.body)||UA(this.body)||$A(this.body)||pz(this.body)||typeof this.body=="string"?this.body:this.body instanceof Tr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$A(this.body)?null:UA(this.body)?this.body.type||null:BA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Tr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new t(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}},QA=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(QA||{}),bv=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Os,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var ac=class t extends bv{constructor(e={}){super(e),this.type=QA.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function yv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var YA=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof oc)o=i;else{let c;s.headers instanceof Os?c=s.headers:c=new Os(s.headers);let u;s.params&&(s.params instanceof Tr?u=s.params:u=new Tr({fromObject:s.params})),o=new oc(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=V(o).pipe(Bi(c=>this.handler.handle(c)));if(i instanceof oc||s.observe==="events")return a;let l=a.pipe(ke(c=>c instanceof ac));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(F(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Tr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,yv(s,r))}post(i,r,s={}){return this.request("POST",i,yv(s,r))}put(i,r,s={}){return this.request("PUT",i,yv(s,r))}};e.\u0275fac=function(r){return new(r||e)(v(_v))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var mz=new C("");var zA="b",HA="h",qA="s",GA="st",WA="u",KA="rt",yf=new C(""),gz=["GET","HEAD"];function yz(t,e){let u=T(yf),{isCacheActive:n}=u,i=eC(u,["isCacheActive"]),{transferCache:r,method:s}=t;if(!n||s==="POST"&&!i.includePostRequests&&!r||s!=="POST"&&!gz.includes(s)||r===!1||i.filter?.(t)===!1)return e(t);let o=T(xs),a=vz(t),l=o.get(a,null),c=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(c=r.includeHeaders),l){let{[zA]:d,[KA]:h,[HA]:f,[qA]:p,[GA]:m,[WA]:g}=l,b=d;switch(h){case"arraybuffer":b=new TextEncoder().encode(d).buffer;break;case"blob":b=new Blob([d]);break}let A=new Os(f);return V(new ac({body:b,headers:A,status:p,statusText:m,url:g}))}return e(t).pipe(Ae(d=>{d instanceof ac&&o.set(a,{[zA]:d.body,[HA]:_z(d.headers,c),[qA]:d.status,[GA]:d.statusText,[WA]:d.url||"",[KA]:t.responseType})}))}function _z(t,e){if(!e)return{};let n={};for(let i of e){let r=t.getAll(i);r!==null&&(n[i]=r)}return n}function vz(t){let{params:e,method:n,responseType:i,url:r}=t,s=e.keys().sort().map(l=>`${l}=${e.getAll(l)}`).join("&"),o=n+"."+i+"."+r+"?"+s,a=wz(o);return a}function wz(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function ZA(t){return[{provide:yf,useFactory:()=>(Ss("NgHttpTransferCache"),P({isCacheActive:!0},t))},{provide:mz,useValue:yz,multi:!0,deps:[xs,yf]},{provide:la,multi:!0,useFactory:()=>{let e=T(Qn),n=T(yf);return()=>{ov(e).then(()=>{n.isCacheActive=!1})}}}]}var Dv=class extends pf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cv=class t extends Dv{static makeCurrent(){AA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ez();return n==null?null:Iz(n)}resetBaseElement(){lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NA(document.cookie,e)}},lc=null;function Ez(){return lc=lc||document.querySelector("base"),lc?lc.getAttribute("href"):null}function Iz(t){return new URL(t,document.baseURI).pathname}var xv=class{addToWindow(e){Bt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new x(5103,!1);return s},Bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Bt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Bt.getAllAngularTestabilities(),s=r.length,o=!1,a=function(l){o=o||l,s--,s==0&&i(o)};r.forEach(l=>{l.whenStable(a)})};Bt.frameworkStabilizers||(Bt.frameworkStabilizers=[]),Bt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Ps().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Dz=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Tv=new C("EventManagerPlugins"),eM=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(v(Tv),v(j))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),_f=class{constructor(e){this._doc=e}},Ev="ng-app-id",tM=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ks(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Ev}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Ev),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Ev,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(v(ae),v(ra),v(ec,8),v(ct))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Av=/%COMP%/g,nM="%COMP%",Cz=`_nghost-${nM}`,xz=`_ngcontent-${nM}`,Tz=!0,Sz=new C("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Tz});function Az(t){return xz.replace(Av,t)}function Mz(t){return Cz.replace(Av,t)}function iM(t,e){return e.map(n=>n.replace(Av,t))}var vf=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ks(l),this.defaultRenderer=new cc(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===di.ShadowDom&&(r=be(P({},r),{encapsulation:di.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof wf?s.applyToHost(i):s instanceof uc&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case di.Emulated:o=new wf(c,u,r,this.appId,d,a,l,h);break;case di.ShadowDom:return new Sv(c,u,i,r,a,l,this.nonce,h);default:o=new uc(c,u,r,d,a,l,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(v(eM),v(tM),v(ra),v(Sz),v(ae),v(ct),v(j),v(ec))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),cc=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Iv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(XA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new x(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Iv[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Iv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(zi.DashCase|zi.Important)?e.style.setProperty(n,i,r&zi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&zi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ps().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function XA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sv=class extends cc{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=iM(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uc=class extends cc{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?iM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wf=class extends uc{constructor(e,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=Az(c),this.hostAttr=Mz(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Rz=(()=>{let e=class e extends _f{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(v(ae))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),JA=["alt","control","meta","shift"],Pz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kz=(()=>{let e=class e extends _f{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),JA.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=Pz[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),JA.forEach(a=>{if(a!==s){let l=Nz[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(v(ae))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function Oz(){Cv.makeCurrent()}function Fz(){return new nn}function Lz(){return LT(document),document}var Vz=[{provide:ct,useValue:gv},{provide:L_,useValue:Oz,multi:!0},{provide:ae,useFactory:Lz,deps:[]}],rM=av(EA,"browser",Vz),jz=new C(""),Bz=[{provide:sc,useClass:xv,deps:[]},{provide:rv,useClass:uf,deps:[j,df,sc]},{provide:uf,useClass:uf,deps:[j,df,sc]}],Uz=[{provide:Gh,useValue:"root"},{provide:nn,useFactory:Fz,deps:[]},{provide:Tv,useClass:Rz,multi:!0,deps:[ae,j,ct]},{provide:Tv,useClass:kz,multi:!0,deps:[ae]},vf,tM,eM,{provide:bs,useExisting:vf},{provide:mf,useClass:Dz,deps:[]},[]],bf=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:ra,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(v(jz,12))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[...Uz,...Bz],imports:[ua,IA]});let t=e;return t})();function $z(){return new Mv(v(ae))}var Mv=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(v(ae))},e.\u0275prov=S({token:e,factory:function(r){let s=null;return r?s=new r:s=$z(),s},providedIn:"root"});let t=e;return t})();var Rv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=v(sM),s},providedIn:"root"});let t=e;return t})();function zz(t){return new sM(t.get(ae))}var sM=(()=>{let e=class e extends Rv{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case rn.NONE:return r;case rn.HTML:return sa(r,"HTML")?xr(r):hS(this._doc,String(r)).toString();case rn.STYLE:return sa(r,"Style")?xr(r):r;case rn.SCRIPT:if(sa(r,"Script"))return xr(r);throw new x(5200,!1);case rn.URL:return sa(r,"URL")?xr(r):q_(String(r));case rn.RESOURCE_URL:if(sa(r,"ResourceURL"))return xr(r);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(i){return iS(i)}bypassSecurityTrustStyle(i){return rS(i)}bypassSecurityTrustScript(i){return sS(i)}bypassSecurityTrustUrl(i){return oS(i)}bypassSecurityTrustResourceUrl(i){return aS(i)}};e.\u0275fac=function(r){return new(r||e)(v(ae))},e.\u0275prov=S({token:e,factory:function(r){let s=null;return r?s=new r:s=zz(v(ht)),s},providedIn:"root"});let t=e;return t})();function oM(...t){let e=[],n=new Set,i=n.has(1);for(let{\u0275providers:r,\u0275kind:s}of t)n.add(s),r.length&&e.push(r);return Jl([[],DA(),n.has(0)||i?[]:ZA({}),e])}var oe="primary",Cc=Symbol("RouteTitle"),Lv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ma(t){return new Lv(t)}function Hz(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function qz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vi(t[n],e[n]))return!1;return!0}function vi(t,e){let n=t?Vv(t):void 0,i=e?Vv(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!mM(t[r],e[r]))return!1;return!0}function Vv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function mM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function gM(t){return t.length>0?t[t.length-1]:null}function Rr(t){return qd(t)?t:As(t)?he(Promise.resolve(t)):V(t)}var Gz={exact:_M,subset:vM},yM={exact:Wz,subset:Kz,ignored:()=>!0};function aM(t,e,n){return Gz[n.paths](t.root,e.root,n.matrixParams)&&yM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Wz(t,e){return vi(t,e)}function _M(t,e,n){if(!Ls(t.segments,e.segments)||!Df(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!_M(t.children[i],e.children[i],n))return!1;return!0}function Kz(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mM(t[n],e[n]))}function vM(t,e,n){return wM(t,e,e.segments,n)}function wM(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Ls(r,n)||e.hasChildren()||!Df(r,n,i))}else if(t.segments.length===n.length){if(!Ls(t.segments,n)||!Df(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!vM(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ls(t.segments,r)||!Df(t.segments,r,i)||!t.children[oe]?!1:wM(t.children[oe],e,s,i)}}function Df(t,e,n){return e.every((i,r)=>yM[n](t[r].parameters,i.parameters))}var Sr=class{constructor(e=new Ie([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){return Zz.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}},Fs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ma(this.parameters)),this._parameterMap}toString(){return EM(this)}};function Qz(t,e){return Ls(t,e)&&t.every((n,i)=>vi(n.parameters,e[i].parameters))}function Ls(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function Yz(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===oe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==oe&&(n=n.concat(e(r,i)))}),n}var xc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>new yc)(),providedIn:"root"});let t=e;return t})(),yc=class{parse(e){let n=new Bv(e);return new Sr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${dc(e.root,!0)}`,i=eH(e.queryParams),r=typeof e.fragment=="string"?`#${Xz(e.fragment)}`:"";return`${n}${i}${r}`}},Zz=new yc;function Cf(t){return t.segments.map(e=>EM(e)).join("/")}function dc(t,e){if(!t.hasChildren())return Cf(t);if(e){let n=t.children[oe]?dc(t.children[oe],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==oe&&i.push(`${r}:${dc(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Yz(t,(i,r)=>r===oe?[dc(t.children[oe],!1)]:[`${r}:${dc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Cf(t)}/${n[0]}`:`${Cf(t)}/(${n.join("//")})`}}function bM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(t){return bM(t).replace(/%3B/gi,";")}function Xz(t){return encodeURI(t)}function jv(t){return bM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xf(t){return decodeURIComponent(t)}function lM(t){return xf(t.replace(/\+/g,"%20"))}function EM(t){return`${jv(t.path)}${Jz(t.parameters)}`}function Jz(t){return Object.keys(t).map(e=>`;${jv(e)}=${jv(t[e])}`).join("")}function eH(t){let e=Object.keys(t).map(n=>{let i=t[n];return Array.isArray(i)?i.map(r=>`${Ef(n)}=${Ef(r)}`).join("&"):`${Ef(n)}=${Ef(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var tH=/^[^\/()?;#]+/;function Nv(t){let e=t.match(tH);return e?e[0]:""}var nH=/^[^\/()?;=#]+/;function iH(t){let e=t.match(nH);return e?e[0]:""}var rH=/^[^=?&#]+/;function sH(t){let e=t.match(rH);return e?e[0]:""}var oH=/^[^&#]+/;function aH(t){let e=t.match(oH);return e?e[0]:""}var Bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[oe]=new Ie(e,n)),i}parseSegment(){let e=Nv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Fs(xf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=iH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Nv(this.remaining);r&&(i=r,this.capture(i))}e[xf(n)]=xf(i)}parseQueryParam(e){let n=sH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=aH(this.remaining);o&&(i=o,this.capture(i))}let r=lM(n),s=lM(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Nv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new x(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[oe]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function IM(t){return t.segments.length>0?new Ie([],{[oe]:t}):t}function DM(t){let e={};for(let i of Object.keys(t.children)){let r=t.children[i],s=DM(r);if(i===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Ie(t.segments,e);return lH(n)}function lH(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Ie(t.segments.concat(e.segments),e.children)}return t}function ga(t){return t instanceof Sr}function cH(t,e,n=null,i=null){let r=CM(t);return xM(r,e,n,i)}function CM(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new Ie(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=IM(i);return e??r}function xM(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return kv(r,r,r,n,i);let s=uH(e);if(s.toRoot())return kv(r,r,new Ie([],{}),n,i);let o=dH(s,r,t),a=o.processChildren?pc(o.segmentGroup,o.index,s.commands):SM(o.segmentGroup,o.index,s.commands);return kv(r,o.segmentGroup,a,n,i)}function Tf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _c(t){return typeof t=="object"&&t!=null&&t.outlets}function kv(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=TM(t,e,n);let a=IM(DM(o));return new Sr(a,s,r)}function TM(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=TM(s,e,n)}),new Ie(t.segments,i)}var Sf=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Tf(i[0]))throw new x(4003,!1);let r=i.find(_c);if(r&&r!==gM(i))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Sf(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Sf(n,e,i)}var fa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function dH(t,e,n){if(t.isAbsolute)return new fa(e,!0,0);if(!n)return new fa(e,!1,NaN);if(n.parent===null)return new fa(n,!0,0);let i=Tf(t.commands[0])?0:1,r=n.segments.length-1+i;return hH(n,r,t.numberOfDoubleDots)}function hH(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new x(4005,!1);r=i.segments.length}return new fa(i,!1,r-s)}function fH(t){return _c(t[0])?t[0].outlets:{[oe]:t}}function SM(t,e,n){if(t||(t=new Ie([],{})),t.segments.length===0&&t.hasChildren())return pc(t,e,n);let i=pH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,i.pathIndex),{});return s.children[oe]=new Ie(t.segments.slice(i.pathIndex),t.children),pc(s,0,r)}else return i.match&&r.length===0?new Ie(t.segments,{}):i.match&&!t.hasChildren()?Uv(t,e,n):i.match?pc(t,0,r):Uv(t,e,n)}function pc(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let i=fH(n),r={};if(Object.keys(i).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=pc(t.children[oe],e,n);return new Ie(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=SM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ie(t.segments,r)}}function pH(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(_c(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!uM(l,c,o))return s;i+=2}else{if(!uM(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Uv(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(_c(s)){let l=mH(s.outlets);return new Ie(i,l)}if(r===0&&Tf(n[0])){let l=t.segments[e];i.push(new Fs(l.path,cM(n[0]))),r++;continue}let o=_c(s)?s.outlets[oe]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Tf(a)?(i.push(new Fs(o,cM(a))),r+=2):(i.push(new Fs(o,{})),r++)}return new Ie(i,{})}function mH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Uv(new Ie([],{}),0,i))}),e}function cM(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function uM(t,e,n){return t==n.path&&vi(e,n.parameters)}var mc="imperative",Pn=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends Pn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ki=class extends Pn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ar=class extends Pn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends Pn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}},vc=class extends Pn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Af=class extends Pn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends Pn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends Pn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hv=class extends Pn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends Pn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wv=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kv=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qv=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wc=class{},bc=class{constructor(e){this.url=e}};var Xv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tc,this.attachRef=null}},Tc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Xv,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jv(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Jv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ew(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ew(e,this._root).map(n=>n.value)}};function Jv(t,e){if(t===e.value)return e;for(let n of e.children){let i=Jv(t,n);if(i)return i}return null}function ew(t,e){if(t===e.value)return[e];for(let n of e.children){let i=ew(t,n);if(i.length)return i.unshift(e),i}return[]}var vn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ha(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pf=class extends Rf{constructor(e,n){super(e),this.snapshot=n,uw(this,e)}toString(){return this.snapshot.toString()}};function AM(t,e){let n=gH(t,e),i=new yt([new Fs("",{})]),r=new yt({}),s=new yt({}),o=new yt({}),a=new yt(""),l=new _a(i,r,o,a,s,oe,e,n.root);return l.snapshot=n.root,new Pf(new vn(l,[]),n)}function gH(t,e){let n={},i={},r={},s="",o=new Ec([],n,r,s,i,oe,e,null,{});return new Nf("",new vn(o,[]))}var _a=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(F(c=>c[Cc]))??V(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(e=>ma(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(e=>ma(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),r?.data),t._resolvedData)}:i={params:t.params,data:t.data,resolve:P(P({},t.data),t._resolvedData??{})},r&&RM(r)&&(i.resolve[Cc]=r.title),i}var Ec=class{get title(){return this.data?.[Cc]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ma(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ma(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nf=class extends Rf{constructor(e,n){super(n),this.url=e,uw(this,n)}toString(){return MM(this._root)}};function uw(t,e){e.value._routerState=t,e.children.forEach(n=>uw(t,n))}function MM(t){let e=t.children.length>0?` { ${t.children.map(MM).join(", ")} } `:"";return`${t.value}${e}`}function Ov(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vi(e.params,n.params)||t.paramsSubject.next(n.params),qz(e.url,n.url)||t.urlSubject.next(n.url),vi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tw(t,e){let n=vi(t.params,e.params)&&Qz(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||tw(t.parent,e.parent))}function RM(t){return typeof t.title=="string"||t.title===null}var yH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new ue,this.deactivateEvents=new ue,this.attachEvents=new ue,this.detachEvents=new ue,this.parentContexts=T(Tc),this.location=T(Wn),this.changeDetector=T(Mn),this.environmentInjector=T(tn),this.inputBinder=T(Vf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new nw(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]});let t=e;return t})(),nw=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===_a?this.route:e===Tc?this.childContexts:this.parent.get(e,n)}},Vf=new C(""),dM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=us([r.queryParams,r.params,r.data]).pipe(Se(([o,a,l],c)=>(l=P(P(P({},o),a),l),c===0?V(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=CA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function _H(t,e,n){let i=Ic(t,e._root,n?n._root:void 0);return new Pf(i,e)}function Ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=vH(t,e,n);return new vn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ic(t,a)),o}}let i=wH(e.value),r=e.children.map(s=>Ic(t,s));return new vn(i,r)}}function vH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ic(t,i,r);return Ic(t,i)})}function wH(t){return new _a(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var PM="ngNavigationCancelingError";function NM(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=kM(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function kM(t,e,n){let i=new Error("NavigationCancelingError: "+(t||""));return i[PM]=!0,i.cancellationCode=e,n&&(i.url=n),i}function bH(t){return OM(t)&&ga(t.url)}function OM(t){return t&&t[PM]}var EH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$t({type:e,selectors:[["ng-component"]],standalone:!0,features:[iv],decls:1,vars:0,template:function(r,s){r&1&&Rn(0,"router-outlet")},dependencies:[yH],encapsulation:2});let t=e;return t})();function IH(t,e){return t.providers&&!t._injector&&(t._injector=rf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dw(t){let e=t.children&&t.children.map(dw),n=e?be(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=EH),n}function wi(t){return t.outlet||oe}function DH(t,e){let n=t.filter(i=>wi(i)===e);return n.push(...t.filter(i=>wi(i)!==e)),n}function Sc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var CH=(t,e,n,i)=>F(r=>(new iw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),iw=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Ov(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=ha(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ha(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=ha(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=ha(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Zv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Qv(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Ov(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ov(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Sc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},kf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pa=class{constructor(e,n){this.component=e,this.route=n}};function xH(t,e,n){let i=t._root,r=e?e._root:null;return hc(i,r,n,[i.value])}function TH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function wa(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!Ax(t)?t:e.get(t):i}function hc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ha(e);return t.children.forEach(o=>{SH(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>gc(a,n.getContext(o),r)),r}function SH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=AH(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new kf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?hc(t,e,a?a.children:null,i,r):hc(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new pa(a.outlet.component,o))}else o&&gc(e,a,r),r.canActivateChecks.push(new kf(i)),s.component?hc(t,null,a?a.children:null,i,r):hc(t,null,n,i,r);return r}function AH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ls(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ls(t.url,e.url)||!vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tw(t,e)||!vi(t.queryParams,e.queryParams);case"paramsChange":default:return!tw(t,e)}}function gc(t,e,n){let i=ha(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?gc(o,e.children.getContext(s),n):gc(o,null,n):gc(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new pa(e.outlet.component,r)):n.canDeactivateChecks.push(new pa(null,r)):n.canDeactivateChecks.push(new pa(null,r))}function Ac(t){return typeof t=="function"}function MH(t){return typeof t=="boolean"}function RH(t){return t&&Ac(t.canLoad)}function PH(t){return t&&Ac(t.canActivate)}function NH(t){return t&&Ac(t.canActivateChild)}function kH(t){return t&&Ac(t.canDeactivate)}function OH(t){return t&&Ac(t.canMatch)}function FM(t){return t instanceof ji||t?.name==="EmptyError"}var If=Symbol("INITIAL_VALUE");function va(){return Se(t=>us(t.map(e=>e.pipe(xt(1),Lt(If)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===If)return If;if(n===!1||n instanceof Sr)return n}return!0}),ke(e=>e!==If),xt(1)))}function FH(t,e){return Ge(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(be(P({},n),{guardsResult:!0})):LH(o,i,r,t).pipe(Ge(a=>a&&MH(a)?VH(i,s,t,e):V(a)),F(a=>be(P({},n),{guardsResult:a})))})}function LH(t,e,n,i){return he(t).pipe(Ge(r=>zH(r.component,r.route,n,e,i)),un(r=>r!==!0,!0))}function VH(t,e,n,i){return he(e).pipe(Bi(r=>pr(BH(r.route.parent,i),jH(r.route,i),$H(t,r.path,n),UH(t,r.route,n))),un(r=>r!==!0,!0))}function jH(t,e){return t!==null&&e&&e(new Yv(t)),V(!0)}function BH(t,e){return t!==null&&e&&e(new Kv(t)),V(!0)}function UH(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return V(!0);let r=i.map(s=>Kd(()=>{let o=Sc(e)??n,a=wa(s,o),l=PH(a)?a.canActivate(e,t):qi(o,()=>a(e,t));return Rr(l).pipe(un())}));return V(r).pipe(va())}function $H(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TH(o)).filter(o=>o!==null).map(o=>Kd(()=>{let a=o.guards.map(l=>{let c=Sc(o.node)??n,u=wa(l,c),d=NH(u)?u.canActivateChild(i,t):qi(c,()=>u(i,t));return Rr(d).pipe(un())});return V(a).pipe(va())}));return V(s).pipe(va())}function zH(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let l=Sc(e)??r,c=wa(a,l),u=kH(c)?c.canDeactivate(t,e,n,i):qi(l,()=>c(t,e,n,i));return Rr(u).pipe(un())});return V(o).pipe(va())}function HH(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return V(!0);let s=r.map(o=>{let a=wa(o,t),l=RH(a)?a.canLoad(e,n):qi(t,()=>a(e,n));return Rr(l)});return V(s).pipe(va(),LM(i))}function LM(t){return Cd(Ae(e=>{if(ga(e))throw NM(t,e)}),F(e=>e===!0))}function qH(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return V(!0);let s=r.map(o=>{let a=wa(o,t),l=OH(a)?a.canMatch(e,n):qi(t,()=>a(e,n));return Rr(l)});return V(s).pipe(va(),LM(i))}var Dc=class{constructor(e){this.segmentGroup=e||null}},Of=class extends Error{constructor(e){super(),this.urlTree=e}};function da(t){return hr(new Dc(t))}function GH(t){return hr(new x(4e3,!1))}function WH(t){return hr(kM(!1,3))}var rw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return V(i);if(r.numberOfChildren>1||!r.children[oe])return GH(e.redirectTo);r=r.children[oe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Of(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Sr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Ie(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new x(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KH(t,e,n,i,r){let s=hw(t,e,n);return s.matched?(i=IH(e,i),qH(i,e,n,r).pipe(F(o=>o===!0?s:P({},sw)))):V(s)}function hw(t,e,n){if(e.path==="**")return QH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},sw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Hz)(n,t,e);if(!r)return P({},sw);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?P(P({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function QH(t){return{matched:!0,parameters:t.length>0?gM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hM(t,e,n,i){return n.length>0&&XH(t,n,i)?{segmentGroup:new Ie(e,ZH(i,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&JH(t,n,i)?{segmentGroup:new Ie(t.segments,YH(t,e,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function YH(t,e,n,i,r){let s={};for(let o of i)if(jf(t,n,o)&&!r[wi(o)]){let a=new Ie([],{});s[wi(o)]=a}return P(P({},r),s)}function ZH(t,e){let n={};n[oe]=e;for(let i of t)if(i.path===""&&wi(i)!==oe){let r=new Ie([],{});n[wi(i)]=r}return n}function XH(t,e,n){return n.some(i=>jf(t,e,i)&&wi(i)!==oe)}function JH(t,e,n){return n.some(i=>jf(t,e,i))}function jf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eq(t,e,n,i){return wi(t)!==i&&(i===oe||!jf(e,n,t))?!1:hw(e,t,n).matched}function tq(t,e,n){return e.length===0&&!t.children[n]}var ow=class{};function nq(t,e,n,i,r,s,o="emptyOnly"){return new aw(t,e,n,i,r,o,s).recognize()}var iq=31,aw=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=hM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(n=>{let i=new Ec([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),r=new vn(i,n),s=new Nf("",r),o=cH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(ai(i=>{if(i instanceof Of)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Dc?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=cw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(F(s=>s instanceof vn?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return he(r).pipe(Bi(s=>{let o=i.children[s],a=DH(n,s);return this.processSegmentGroup(e,a,o,s)}),yr((s,o)=>(s.push(...o),s)),mr(null),ny(),Ge(s=>{if(s===null)return da(i);let o=VM(s);return rq(o),V(o)}))}processSegment(e,n,i,r,s,o){return he(n).pipe(Bi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(ai(l=>{if(l instanceof Dc)return V(null);throw l}))),un(a=>!!a),ai(a=>{if(FM(a))return tq(i,r,s)?V(new ow):da(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return eq(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):da(r):da(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=hw(n,r,s);if(!a)return da(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iq&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ge(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=KH(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Se(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Se(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Ec(u,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,oq(i),wi(i),i.component??i._loadedComponent??null,i,aq(i)),{segmentGroup:p,slicedSegments:m}=hM(n,u,d,l);if(m.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(F(b=>b===null?null:new vn(f,b)));if(l.length===0&&m.length===0)return V(new vn(f,[]));let g=wi(i)===s;return this.processSegment(c,l,p,m,g?oe:s,!0).pipe(F(b=>new vn(f,b instanceof vn?[b]:[])))}))):da(n)))}getChildConfig(e,n,i){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):HH(e,n,i,this.urlSerializer).pipe(Ge(r=>r?this.configLoader.loadChildren(e,n).pipe(Ae(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):WH(n))):V({routes:[],injector:e})}};function rq(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function sq(t){let e=t.value.routeConfig;return e&&e.path===""}function VM(t){let e=[],n=new Set;for(let i of t){if(!sq(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=VM(i.children);e.push(new vn(i.value,r))}return e.filter(i=>!n.has(i))}function oq(t){return t.data||{}}function aq(t){return t.resolve||{}}function lq(t,e,n,i,r,s){return Ge(o=>nq(t,e,n,i,o.extractedUrl,r,s).pipe(F(({state:a,tree:l})=>be(P({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function cq(t,e){return Ge(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return V(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of jM(l))o.add(c);let a=0;return he(o).pipe(Bi(l=>s.has(l)?uq(l,i,t,e):(l.data=cw(l,l.parent,t).resolve,V(void 0))),Ae(()=>a++),jo(1),Ge(l=>a===o.size?V(n):Ct))})}function jM(t){let e=t.children.map(n=>jM(n)).flat();return[t,...e]}function uq(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!RM(r)&&(s[Cc]=r.title),dq(s,t,e,i).pipe(F(o=>(t._resolvedData=o,t.data=cw(t,t.parent,n).resolve,null)))}function dq(t,e,n,i){let r=Vv(t);if(r.length===0)return V({});let s={};return he(r).pipe(Ge(o=>hq(t[o],e,n,i).pipe(un(),Ae(a=>{s[o]=a}))),jo(1),ty(s),ai(o=>FM(o)?Ct:hr(o)))}function hq(t,e,n,i){let r=Sc(e)??i,s=wa(t,r),o=s.resolve?s.resolve(e,n):qi(r,()=>s(e,n));return Rr(o)}function Fv(t){return Se(e=>{let n=t(e);return n?he(n).pipe(F(()=>e)):V(e)})}var BM=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(i){return i.data[Cc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(fq))(),providedIn:"root"});let t=e;return t})(),fq=(()=>{let e=class e extends BM{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(v(Mv))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mc=new C("",{providedIn:"root",factory:()=>({})}),Ff=new C("ROUTES"),fw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(cf)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return V(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Rr(i.loadComponent()).pipe(F(UM),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),gr(()=>{this.componentLoaders.delete(i)})),s=new No(r,()=>new z).pipe(Po());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pq(r,this.compiler,i,this.onLoadEndListener).pipe(gr(()=>{this.childrenLoaders.delete(r)})),a=new No(o,()=>new z).pipe(Po());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pq(t,e,n,i){return Rr(t.loadChildren()).pipe(F(UM),Ge(r=>r instanceof Hl||Array.isArray(r)?V(r):he(e.compileModuleAsync(r))),F(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Ff,[],{optional:!0,self:!0}).flat()),{routes:o.map(dw),injector:s}}))}function mq(t){return t&&typeof t=="object"&&"default"in t}function UM(t){return mq(t)?t.default:t}var pw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(gq))(),providedIn:"root"});let t=e;return t})(),gq=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$M=new C(""),zM=new C("");function yq(t,e,n){let i=t.get(zM),r=t.get(ae);return t.get(j).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),_q(t))),{onViewTransitionCreated:l}=i;return l&&qi(t,()=>l({transition:a,from:e,to:n})),o})}function _q(t){return new Promise(e=>{J_(e,{injector:t})})}var mw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=T(fw),this.environmentInjector=T(tn),this.urlSerializer=T(xc),this.rootContexts=T(Tc),this.location=T(ca),this.inputBindingEnabled=T(Vf,{optional:!0})!==null,this.titleStrategy=T(BM),this.options=T(Mc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=T(pw),this.createViewTransition=T($M,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Gv(s)),r=s=>this.events.next(new Wv(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(be(P(P({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new yt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ke(o=>o.id!==0),F(o=>be(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Se(o=>{this.currentTransition=o;let a=!1,l=!1;return V(o).pipe(Ae(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?be(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Se(c=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Mr(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Se(h=>{let f=this.transitions?.getValue();return this.events.next(new ya(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ct:Promise.resolve(h)}),lq(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=be(P({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Af(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=c,b=new ya(h,this.urlSerializer.serialize(f),p,m);this.events.next(b);let A=AM(f,this.rootComponentType).snapshot;return this.currentTransition=o=be(P({},c),{targetSnapshot:A,urlAfterRedirects:f,extras:be(P({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new Mr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Ct}}),Ae(c=>{let u=new $v(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),F(c=>(this.currentTransition=o=be(P({},c),{guards:xH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),FH(this.environmentInjector,c=>this.events.next(c)),Ae(c=>{if(o.guardsResult=c.guardsResult,ga(c.guardsResult))throw NM(this.urlSerializer,c.guardsResult);let u=new zv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ke(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Fv(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(Ae(u=>{let d=new Hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Se(u=>{let d=!1;return V(u).pipe(cq(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Ae(u=>{let d=new qv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Fv(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ae(f=>{d.component=f}),F(()=>{})));for(let f of d.children)h.push(...u(f));return h};return us(u(c.targetSnapshot.root)).pipe(mr(),xt(1))}),Fv(()=>this.afterPreactivation()),Se(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?he(d).pipe(F(()=>o)):V(o)}),F(c=>{let u=_H(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=be(P({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ae(()=>{this.events.next(new wc)}),CH(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xt(1),Ae({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ki(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),_t(this.transitionAbortSubject.pipe(Ae(c=>{throw c}))),gr(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ai(c=>{if(l=!0,OM(c))this.events.next(new Ar(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),bH(c)?this.events.next(new bc(c.url)):o.resolve(!1);else{this.events.next(new vc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){o.reject(u)}}return Ct}))}))}cancelNavigationTransition(i,r,s){let o=new Ar(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vq(t){return t!==mc}var wq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(bq))(),providedIn:"root"});let t=e;return t})(),lw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},bq=(()=>{let e=class e extends lw{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hh(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>(()=>T(Eq))(),providedIn:"root"});let t=e;return t})(),Eq=(()=>{let e=class e extends HM{constructor(){super(...arguments),this.location=T(ca),this.urlSerializer=T(xc),this.options=T(Mc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=T(pw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Sr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=AM(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof ya)this.stateMemento=this.createStateMemento();else if(i instanceof Mr)this.rawUrlTree=r.initialUrl;else if(i instanceof Af){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof wc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Ar&&(i.code===3||i.code===2)?this.restoreHistory(r):i instanceof vc?this.restoreHistory(r,!0):i instanceof Ki&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Hh(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fc||{});function qM(t,e){t.events.pipe(ke(n=>n instanceof Ki||n instanceof Ar||n instanceof vc||n instanceof Mr),F(n=>n instanceof Ki||n instanceof Mr?fc.COMPLETE:(n instanceof Ar?n.code===0||n.code===1:!1)?fc.REDIRECTING:fc.FAILED),ke(n=>n!==fc.REDIRECTING),xt(1)).subscribe(()=>{e()})}function Iq(t){throw t}var Dq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vs=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=T(af),this.stateManager=T(HM),this.options=T(Mc,{optional:!0})||{},this.pendingTasks=T(lf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=T(mw),this.urlSerializer=T(xc),this.location=T(ca),this.urlHandlingStrategy=T(pw),this._events=new z,this.errorHandler=this.options.errorHandler||Iq,this.navigated=!1,this.routeReuseStrategy=T(wq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=T(Ff,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!T(Vf,{optional:!0}),this.eventsSubscription=new ge,this.isNgZoneEnabled=T(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ar&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof Ki)this.navigated=!0;else if(r instanceof bc){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vq(s.source)};this.scheduleNavigation(a,mc,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Tq(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)}))}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=P({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(dw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=CM(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return xM(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ga(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,mc,null,r)}navigate(i,r={skipLocationChange:!1}){return xq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=P({},Dq):r===!1?s=P({},Cq):s=r,ga(i))return aM(this.currentUrlTree,i,s);let o=this.parseUrl(i);return aM(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.keys(i).reduce((r,s)=>{let o=i[s];return o!=null&&(r[s]=o),r},{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return qM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function Tq(t){return!(t instanceof wc)&&!(t instanceof bc)}var Lf=class{};var Sq=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ke(i=>i instanceof Ki),Bi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=rf(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return he(s).pipe(fr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=V(null);let o=s.pipe(Ge(a=>a===null?V(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([o,a]).pipe(fr())}else return o})}};e.\u0275fac=function(r){return new(r||e)(v(Vs),v(cf),v(tn),v(Lf),v(fw))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GM=new C(""),Aq=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ki?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Mr&&i.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Mf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){CS()},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function Mq(t){return t.routerState.root}function Rc(t,e){return{\u0275kind:t,\u0275providers:e}}function Rq(){let t=T(ht);return e=>{let n=t.get(Qn);if(e!==n.components[0])return;let i=t.get(Vs),r=t.get(WM);t.get(gw)===1&&i.initialNavigation(),t.get(KM,null,le.Optional)?.setUpPreloading(),t.get(GM,null,le.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var WM=new C("",{factory:()=>new z}),gw=new C("",{providedIn:"root",factory:()=>1});function Pq(){return Rc(2,[{provide:gw,useValue:0},{provide:hf,multi:!0,deps:[ht],useFactory:e=>{let n=e.get(MA,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Vs),s=e.get(WM);qM(r,()=>{i(!0)}),e.get(mw).afterPreactivation=()=>(i(!0),s.closed?V(void 0):s),r.initialNavigation()}))}}])}function Nq(){return Rc(3,[{provide:hf,multi:!0,useFactory:()=>{let e=T(Vs);return()=>{e.setUpLocationChangeListener()}}},{provide:gw,useValue:2}])}var KM=new C("");function kq(t){return Rc(0,[{provide:KM,useExisting:Sq},{provide:Lf,useExisting:t}])}function Oq(){return Rc(8,[dM,{provide:Vf,useExisting:dM}])}function Fq(t){let e=[{provide:$M,useValue:yq},{provide:zM,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Rc(9,e)}var fM=new C("ROUTER_FORROOT_GUARD"),Lq=[ca,{provide:xc,useClass:yc},Vs,Tc,{provide:_a,useFactory:Mq,deps:[Vs]},fw,[]],yw=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Lq,[],{provide:Ff,multi:!0,useValue:i},{provide:fM,useFactory:Uq,deps:[[Vs,new zt,new qh]]},{provide:Mc,useValue:r||{}},r?.useHash?jq():Bq(),Vq(),r?.preloadingStrategy?kq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?$q(r):[],r?.bindToComponentInputs?Oq().\u0275providers:[],r?.enableViewTransitions?Fq().\u0275providers:[],zq()]}}static forChild(i){return{ngModule:e,providers:[{provide:Ff,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(v(fM,8))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();function Vq(){return{provide:GM,useFactory:()=>{let t=T(LA),e=T(j),n=T(Mc),i=T(mw),r=T(xc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Aq(r,i,t,e,n)}}}function jq(){return{provide:Ns,useClass:PA}}function Bq(){return{provide:Ns,useClass:mv}}function Uq(t){return"guarded"}function $q(t){return[t.initialNavigation==="disabled"?Nq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Pq().\u0275providers:[]]}var pM=new C("");function zq(){return[{provide:pM,useFactory:Rq},{provide:la,multi:!0,useExisting:pM}]}var Hq=[],QM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[yw.forRoot(Hq),yw]});let t=e;return t})();function Qi(t){return t!=null&&`${t}`!="false"}function ba(t,e=0){return qq(t)?Number(t):e}function qq(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Pc(t){return Array.isArray(t)?t:[t]}function Ke(t){return t instanceof Ee?t.nativeElement:t}var vw;try{vw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vw=!1}var At=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?FA(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||vw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(v(ct))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ea,YM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ww(){if(Ea)return Ea;if(typeof document!="object"||!document)return Ea=new Set(YM),Ea;let t=document.createElement("input");return Ea=new Set(YM.filter(e=>(t.setAttribute("type",e),t.type===e))),Ea}var Nc;function Gq(){if(Nc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nc=!0}))}finally{Nc=Nc||!1}return Nc}function Yi(t){return Gq()?t:!!t.capture}var _w;function Wq(){if(_w==null){let t=typeof document<"u"?document.head:null;_w=!!(t&&(t.createShadowRoot||t.attachShadow))}return _w}function bw(t){if(Wq()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function js(t){return t.composedPath?t.composedPath()[0]:t.target}function ZM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Kq=new C("cdk-dir-doc",{providedIn:"root",factory:Qq});function Qq(){return T(ae)}var Yq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Zq(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Yq.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var kc=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new ue,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=Zq(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(v(Kq,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ew=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var Xq=20,JM=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=Xq){return this._platform.isBrowser?new $(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(Yd(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):V()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(ke(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Ke(r),o=i.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Vo(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(v(j),v(At),v(ae,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jq=20,eR=(()=>{let e=class e{constructor(i,r,s){this._platform=i,this._change=new z,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect(),a=-o.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(i=Jq){return i>0?this._change.pipe(Yd(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(v(At),v(j),v(ae,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var t4=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[t4]});let t=e;return t})();var iR=new Set,Us,n4=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):r4}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&i4(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(v(At),v(ec,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i4(t,e){if(!iR.has(t))try{Us||(Us=document.createElement("style"),e&&(Us.nonce=e),Us.setAttribute("type","text/css"),document.head.appendChild(Us)),Us.sheet&&(Us.sheet.insertRule(`@media ${t} {body{ }}`,0),iR.add(t))}catch(n){console.error(n)}}function r4(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var sR=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return rR(Pc(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=rR(Pc(i)).map(a=>this._registerQuery(a).observable),o=us(s);return o=pr(o.pipe(xt(1)),o.pipe(ry(1),ey(0))),o.pipe(F(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new $(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Lt(r),F(({matches:a})=>({query:i,matches:a})),_t(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)(v(n4),v(j))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rR(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Bf(t){return t.buttons===0||t.detail===0}function Uf(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var oR="cdk-high-contrast-black-on-white",aR="cdk-high-contrast-white-on-black",Iw="cdk-high-contrast-active",lR=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=T(sR).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Iw,oR,aR),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?i.add(Iw,oR):r===2&&i.add(Iw,aR)}}};e.\u0275fac=function(r){return new(r||e)(v(At),v(ae))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mw(t,e,n){for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];r?t.setProperty(i,r,n?.has(i)?"important":""):t.removeProperty(i)}return t}function Ia(t,e){let n=e?"":"none";Mw(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function cR(t,e,n){Mw(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function qf(t,e){return e&&e!="none"?t+" "+e:t}function uR(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function o4(t){let e=getComputedStyle(t),n=Dw(e,"transition-property"),i=n.find(a=>a==="transform"||a==="all");if(!i)return 0;let r=n.indexOf(i),s=Dw(e,"transition-duration"),o=Dw(e,"transition-delay");return uR(s[r])+uR(o[r])}function Dw(t,e){return t.getPropertyValue(e).split(",").map(i=>i.trim())}function Rw(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function xw(t,e,n){let{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function Fc(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function dR(t,e,n,i){let{top:r,right:s,bottom:o,left:a,width:l,height:c}=t,u=l*e,d=c*e;return i>r-d&&i<o+d&&n>a-u&&n<s+u}var Gf=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Rw(n)})})}handleScroll(e){let n=js(e),i=this.positions.get(n);if(!i)return null;let r=i.scrollPosition,s,o;if(n===this._document){let c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=n.scrollTop,o=n.scrollLeft;let a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&n!==u&&n.contains(u)&&Fc(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function hR(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return i==="canvas"?mR(t,e):(i==="input"||i==="select"||i==="textarea")&&pR(t,e),fR("canvas",t,e,mR),fR("input, textarea, select",t,e,pR),e}function fR(t,e,n,i){let r=e.querySelectorAll(t);if(r.length){let s=n.querySelectorAll(t);for(let o=0;o<r.length;o++)i(r[o],s[o])}}var a4=0;function pR(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${a4++}`)}function mR(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}var gR=Yi({passive:!0}),$f=Yi({passive:!1}),l4=800,Cw=new Set(["position"]),Tw=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Ia(n,e)))}constructor(e,n,i,r,s,o){this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new z,this._pointerMoveSubscription=ge.EMPTY,this._pointerUpSubscription=ge.EMPTY,this._scrollSubscription=ge.EMPTY,this._resizeSubscription=ge.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new z,this.started=new z,this.released=new z,this.ended=new z,this.entered=new z,this.exited=new z,this.dropped=new z,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){let u=Math.abs(l.x-this._pickupPositionOnPage.x),d=Math.abs(l.y-this._pickupPositionOnPage.y);if(u+d>=this._config.dragStartThreshold){let f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f){this._endDragSequence(a);return}(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();let c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{let u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new Gf(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Ke(i)),this._handles.forEach(i=>Ia(i,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&n.add(i)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=Ke(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,$f),n.addEventListener("touchstart",this._pointerDown,gR),n.addEventListener("dragstart",this._nativeDragStart,$f)}),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Ke(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ia(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ia(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Oc(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._dropContainer;if(n){let i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),cR(i,!1,Cw),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let i=this.isDragging(),r=Oc(n),s=!r&&n.button!==0,o=this._rootElement,a=js(n),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+l4>Date.now(),c=r?Uf(n):Bf(n);if(a&&a.draggable&&n.type==="mousedown"&&n.preventDefault(),i||s||l||c)return;if(this._handles.length){let h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=Rw(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,n);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){cR(this._rootElement,!0,Cw),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,i=n.getItemIndex(this),r=this._getPointerPositionOnPage(e),s=this._getDragDistance(r),o=n._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:e}),n.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,n,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){let e=this._previewTemplate,n=this.previewClass,i=e?e.template:null,r;if(i&&e){let s=e.matchSize?this._initialClientRect:null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),r=_R(o,this._document),this._previewRef=o,e.matchSize?vR(r,s):r.style.transform=Hf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=hR(this._rootElement),vR(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Mw(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Cw),Ia(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(s=>r.classList.add(s)):r.classList.add(n)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=o4(this._preview);return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=o=>{(!o||js(o)===this._preview&&o.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,n*1.5);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,i;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),i=_R(this._placeholderRef,this._document)):i=hR(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,n,i){let r=n===this._rootElement?null:n,s=r?r.getBoundingClientRect():e,o=Oc(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),l=o.pageX-s.left-a.left,c=o.pageY-s.top-a.top;return{x:s.left-e.left+l,y:s.top-e.top+c}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),i=Oc(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-n.left,s=i.pageY-n.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o),h=a.left+s,f=a.right-(l-s);i=yR(i,h,f),r=yR(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(e){let{x:n,y:i}=e,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(n-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=n>s.x?1:-1,s.x=n),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ia(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,$f),e.removeEventListener("touchstart",this._pointerDown,gR),e.removeEventListener("dragstart",this._nativeDragStart,$f)}_applyRootElementTransform(e,n){let i=Hf(e,n),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=qf(i,this._initialTransform)}_applyPreviewTransform(e,n){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=Hf(e,n);this._preview.style.transform=qf(r,i)}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,r.height>i.height?(a>0&&(n+=a),l>0&&(n-=l)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:Oc(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let i=js(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Fc(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=bw(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let r=this._document;return n||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ke(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}};function Hf(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function yR(t,e,n){return Math.max(e,Math.min(n,t))}function Oc(t){return t.type[0]==="t"}function _R(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let i=e.createElement("div");return n.forEach(r=>i.appendChild(r)),i}function vR(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Hf(e.left,e.top)}function Pw(t,e,n){let i=Wf(e,t.length-1),r=Wf(n,t.length-1);if(i===r)return;let s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}function DR(t,e,n,i){let r=Wf(n,t.length-1),s=Wf(i,e.length);t.length&&e.splice(s,0,t.splice(r,1)[0])}function Wf(t,e){return Math.max(0,Math.min(e,t))}var Sw=class{constructor(e,n){this._element=e,this._dragDropRegistry=n,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,n,i,r){let s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,n,i,r);if(o===-1&&s.length>0)return null;let a=this.orientation==="horizontal",l=s.findIndex(g=>g.drag===e),c=s[o],u=s[l].clientRect,d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(u,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return Pw(s,l,o),s.forEach((g,b)=>{if(m[b]===g)return;let A=g.drag===e,D=A?f:p,O=A?e.getPlaceholderElement():g.drag.getRootElement();g.offset+=D,a?(O.style.transform=qf(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Fc(g.clientRect,0,D)):(O.style.transform=qf(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Fc(g.clientRect,D,0))}),this._previousSwap.overlaps=xw(d,n,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(e,n,i,r){let s=r==null||r<0?this._getItemIndexFromPointerPosition(e,n,i):r,o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement(),c=o[s];if(c===e&&(c=o[s+1]),!c&&(s==null||s===-1||s<o.length-1)&&this._shouldEnterAsFirstChild(n,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,e)}else Ke(this._element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{let n=e.getRootElement();if(n){let i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;n.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:i})=>{Fc(i,e,n)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let i=n.getVisibleElement();return{drag:n,offset:0,initialTransform:i.style.transform||"",clientRect:Rw(i)}}).sort((n,i)=>e?n.clientRect.left-i.clientRect.left:n.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,n,i){let r=this.orientation==="horizontal",s=r?n.left-e.left:n.top-e.top;return i===-1&&(s+=r?n.width-e.width:n.height-e.height),s}_getSiblingOffsetPx(e,n,i){let r=this.orientation==="horizontal",s=n[e].clientRect,o=n[e+i*-1],a=s[r?"width":"height"]*i;if(o){let l=r?"left":"top",c=r?"right":"bottom";i===-1?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let o=i[i.length-1].clientRect;return r?e>=o.right:n>=o.bottom}else{let o=i[0].clientRect;return r?e<=o.left:n<=o.top}}_getItemIndexFromPointerPosition(e,n,i,r){let s=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(r){let c=s?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return s?n>=Math.floor(l.left)&&n<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return o===-1||!this._sortPredicate(o,e)?-1:o}},wR=.05,CR=.05,Aw=class{constructor(e,n,i,r,s){this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new z,this.entered=new z,this.exited=new z,this.dropped=new z,this.sorted=new z,this.receivingStarted=new z,this.receivingStopped=new z,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=ge.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new z,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Jg(0,Nd).pipe(_t(this._stopScrollTimers)).subscribe(()=>{let o=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===1?o.scrollBy(0,-a):this._verticalScrollDirection===2&&o.scrollBy(0,a),this._horizontalScrollDirection===1?o.scrollBy(-a,0):this._horizontalScrollDirection===2&&o.scrollBy(a,0)})},this.element=Ke(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new Gf(i),this._sortStrategy=new Sw(this.element,n),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(n.filter(r=>r.isDragging()).every(r=>e.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){let n=Ke(this.element);return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,i,r){if(this.sortingDisabled||!this._clientRect||!dR(this._clientRect,wR,n,i))return;let s=this._sortStrategy.sort(e,n,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||dR(o.clientRect,wR,e,n)&&([r,s]=c4(a,o.clientRect,e,n),(r||s)&&(i=a))}),!r&&!s){let{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=xR(l,n),s=TR(l,e),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=Ke(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let e=Ke(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;let e=Ke(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,n){return this._clientRect!=null&&xw(this._clientRect,e,n)}_getSiblingContainerFromPosition(e,n,i){return this._siblings.find(r=>r._canReceive(e,n,i))}_canReceive(e,n,i){if(!this._clientRect||!xw(this._clientRect,n,i)||!this.enterPredicate(e,this))return!1;let r=this._getShadowRoot().elementFromPoint(n,i);if(!r)return!1;let s=Ke(this.element);return r===s||s.contains(r)}_startReceiving(e,n){let i=this._activeSiblings;!i.has(e)&&n.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=bw(Ke(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function xR(t,e){let{top:n,bottom:i,height:r}=t,s=r*CR;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function TR(t,e){let{left:n,right:i,width:r}=t,s=r*CR;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function c4(t,e,n,i){let r=xR(e,i),s=TR(e,n),o=0,a=0;if(r){let l=t.scrollTop;r===1?l>0&&(o=1):t.scrollHeight-l>t.clientHeight&&(o=2)}if(s){let l=t.scrollLeft;s===1?l>0&&(a=1):t.scrollWidth-l>t.clientWidth&&(a=2)}return[o,a]}var zf=Yi({passive:!1,capture:!0}),u4=(()=>{let e=class e{constructor(i,r){this._ngZone=i,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new z,this.pointerUp=new z,this.scroll=new z,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=r}registerDropContainer(i){this._dropInstances.has(i)||this._dropInstances.add(i)}registerDragItem(i){this._dragInstances.add(i),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zf)})}removeDropContainer(i){this._dropInstances.delete(i)}removeDragItem(i){this._dragInstances.delete(i),this.stopDragging(i),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zf)}startDragging(i,r){if(!(this._activeDragInstances.indexOf(i)>-1)&&(this._activeDragInstances.push(i),this._activeDragInstances.length===1)){let s=r.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zf}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:zf}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(i){let r=this._activeDragInstances.indexOf(i);r>-1&&(this._activeDragInstances.splice(r,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(i){return this._activeDragInstances.indexOf(i)>-1}scrolled(i){let r=[this.scroll];return i&&i!==this._document&&r.push(new $(s=>this._ngZone.runOutsideAngular(()=>{let a=l=>{this._activeDragInstances.length&&s.next(l)};return i.addEventListener("scroll",a,!0),()=>{i.removeEventListener("scroll",a,!0)}}))),Un(...r)}ngOnDestroy(){this._dragInstances.forEach(i=>this.removeDragItem(i)),this._dropInstances.forEach(i=>this.removeDropContainer(i)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((i,r)=>{this._document.removeEventListener(r,i.handler,i.options)}),this._globalListeners.clear()}};e.\u0275fac=function(r){return new(r||e)(v(j),v(ae))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d4={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Nw=(()=>{let e=class e{constructor(i,r,s,o){this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(i,r=d4){return new Tw(i,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(i){return new Aw(i,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};e.\u0275fac=function(r){return new(r||e)(v(ae),v(j),v(eR),v(u4))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bR=new C("CDK_DRAG_PARENT");var ER=new C("CdkDragHandle");var h4=new C("CdkDragPlaceholder");var f4=new C("CdkDragPreview");var SR=new C("CDK_DRAG_CONFIG"),p4="cdk-drag",AR=new C("CdkDropList"),MR=(()=>{let e=class e{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(i){this._disabled=i,this._dragRef.disabled=this._disabled}constructor(i,r,s,o,a,l,c,u,d,h,f){this.element=i,this.dropContainer=r,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=d,this._selfHandle=h,this._parentDrag=f,this._destroyed=new z,this.started=new ue,this.released=new ue,this.ended=new ue,this.entered=new ue,this.exited=new ue,this.dropped=new ue,this.moved=new $(p=>{let m=this._dragRef.moved.pipe(F(g=>({source:this,pointerPosition:g.pointerPosition,event:g.event,delta:g.delta,distance:g.distance}))).subscribe(p);return()=>{m.unsubscribe()}}),this._dragRef=u.createDrag(i,{dragStartThreshold:l&&l.dragStartThreshold!=null?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&l.pointerDirectionChangeThreshold!=null?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),l&&this._assignDefaults(l),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(i){this._dragRef.setFreeDragPosition(i)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(xt(1),_t(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(i){let r=i.rootElementSelector,s=i.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let i=e._dragInstances.indexOf(this);i>-1&&e._dragInstances.splice(i,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){let i=this.element.nativeElement,r=i;this.rootElementSelector&&(r=i.closest!==void 0?i.closest(this.rootElementSelector):i.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||i)}_getBoundaryElement(){let i=this.boundaryElement;return i?typeof i=="string"?this.element.nativeElement.closest(i):Ke(i):null}_syncInputs(i){i.beforeStarted.subscribe(()=>{if(!i.isDragging()){let r=this._dir,s=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.dragStartDelay=typeof s=="object"&&s?s:ba(s),i.constrainPosition=this.constrainPosition,i.previewClass=this.previewClass,i.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&i.withDirection(r.value)}}),i.beforeStarted.pipe(xt(1)).subscribe(()=>{if(this._parentDrag){i.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains(p4)){i.withParent(e._dragInstances.find(s=>s.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(i){i.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),i.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),i.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(i){let{lockAxis:r,dragStartDelay:s,constrainPosition:o,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:u,previewContainer:d}=i;this.disabled=c??!1,this.dragStartDelay=s||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),a&&(this.previewClass=a),l&&(this.boundaryElement=l),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.changes.pipe(Lt(this._handles),Ae(i=>{let r=i.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Se(i=>Un(...i.map(r=>r._stateChanges.pipe(Lt(r))))),_t(this._destroyed)).subscribe(i=>{let r=this._dragRef,s=i.element.nativeElement;i.disabled?r.disableHandle(s):r.enableHandle(s)})}};e._dragInstances=[],e.\u0275fac=function(r){return new(r||e)(M(Ee),M(AR,12),M(ae),M(j),M(Wn),M(SR,8),M(kc,8),M(Nw),M(Mn),M(ER,10),M(bR,12))},e.\u0275dir=Me({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(r,s,o){if(r&1&&(qt(o,f4,5),qt(o,h4,5),qt(o,ER,5)),r&2){let a;je(a=Be())&&(s._previewTemplate=a.first),je(a=Be())&&(s._placeholderTemplate=a.first),je(a=Be())&&(s._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,s){r&2&&We("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",_i],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[_n([{provide:bR,useExisting:e}]),pi,mn]});let t=e;return t})(),IR=new C("CdkDropListGroup");var m4=0,RR=(()=>{let e=class e{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(i){this._dropListRef.disabled=this._disabled=i}constructor(i,r,s,o,a,l,c){this.element=i,this._changeDetectorRef=s,this._scrollDispatcher=o,this._dir=a,this._group=l,this._destroyed=new z,this.connectedTo=[],this.id=`cdk-drop-list-${m4++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ue,this.entered=new ue,this.exited=new ue,this.sorted=new ue,this._unsortedItems=new Set,this._dropListRef=r.createDropList(i),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(u,d)=>this.enterPredicate(u.data,d.data),this._dropListRef.sortPredicate=(u,d,h)=>this.sortPredicate(u,d.data,h.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),l&&l._items.add(this)}addItem(i){this._unsortedItems.add(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(i){this._unsortedItems.delete(i),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((i,r)=>i._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let i=e._dropLists.indexOf(this);i>-1&&e._dropLists.splice(i,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(i){this._dir&&this._dir.change.pipe(Lt(this._dir.value),_t(this._destroyed)).subscribe(r=>i.withDirection(r)),i.beforeStarted.subscribe(()=>{let r=Pc(this.connectedTo).map(s=>{if(typeof s=="string"){let o=e._dropLists.find(a=>a.id===s);return o}return s});if(this._group&&this._group._items.forEach(s=>{r.indexOf(s)===-1&&r.push(s)}),!this._scrollableParentsResolved){let s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}i.disabled=this.disabled,i.lockAxis=this.lockAxis,i.sortingDisabled=this.sortingDisabled,i.autoScrollDisabled=this.autoScrollDisabled,i.autoScrollStep=ba(this.autoScrollStep,2),i.connectedTo(r.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(i){i.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),i.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),i.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),i.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),i.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Un(i.receivingStarted,i.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(i){let{lockAxis:r,draggingDisabled:s,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:l}=i;this.disabled=s??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(i=>i._dragRef))}};e._dropLists=[],e.\u0275fac=function(r){return new(r||e)(M(Ee),M(Nw),M(Mn),M(JM),M(kc,8),M(IR,12),M(SR,8))},e.\u0275dir=Me({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,s){r&2&&(sn("id",s.id),We("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",_i],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",_i],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",_i],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[_n([{provide:IR,useValue:void 0},{provide:AR,useExisting:e}]),pi]});let t=e;return t})();var PR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[Nw],imports:[tR]});let t=e;return t})();var y4="firebase",_4="10.7.1";kt(y4,_4,"app");var Nn=new fi("ANGULARFIRE2_VERSION");function Ow(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Lc=(t,e)=>{let n=e?[e]:vd(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},bi=class{constructor(){return Lc(v4)}},v4="app-check";function Da(){}var Kf=class{zone;delegate;constructor(e,n=Zg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},kw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)),n.pipe(Ae({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Kf(Zone.current)),this.insideAngular=n.run(()=>new Kf(Zone.current,xn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(v(j))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function w4(t){return Qf().ngZone.runOutsideAngular(()=>t())}function $s(t){return Qf().ngZone.run(()=>t())}function Gt(t){return b4(Qf())(t)}function b4(t){return function(n){return n=n.lift(new kw(t.ngZone)),n.pipe(Tn(t.outsideAngular),cn(t.insideAngular))}}var E4=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$s(()=>t.apply(void 0,i))},zs=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=$s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da))),i[s]=E4(i[s],n));let r=w4(()=>t.apply(this,i));if(!e)if(r instanceof $){let s=Qf();return r.pipe(Tn(s.outsideAngular),cn(s.insideAngular))}else return $s(()=>r);return r instanceof $?r.pipe(Gt):r instanceof Promise?$s(()=>new Promise((s,o)=>r.then(a=>$s(()=>s(a)),a=>$s(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:$s(()=>r)};var Hs=class{constructor(e){return e}},Vc=class{constructor(){return vd()}};function I4(t){return t&&t.length===1?t[0]:new Hs(Sl())}var Fw=new C("angularfire2._apps"),D4={provide:Hs,useFactory:I4,deps:[[new zt,Fw]]},C4={provide:Vc,deps:[[new zt,Fw]]};function x4(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Hs(i)}}var T4=(()=>{class t{constructor(n){kt("angularfire",Nn.full,"core"),kt("angularfire",Nn.full,"app"),kt("angular",ic.full,n.toString())}static \u0275fac=function(i){return new(i||t)(v(ct))};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[D4,C4]})}return t})();function kR(t,...e){return{ngModule:T4,providers:[{provide:Fw,useFactory:x4(t),multi:!0,deps:[j,ht,Zi,...e]}]}}var OR=zs(dC,!0);var S3="auth";var Yf=class{constructor(){return Lc(S3)}};var A3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={},N,rb=rb||{},ee=A3||self;function up(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function M3(t){return Object.prototype.hasOwnProperty.call(t,Lw)&&t[Lw]||(t[Lw]=++R3)}var Lw="closure_uid_"+(1e9*Math.random()>>>0),R3=0;function P3(t,e,n){return t.call.apply(t.bind,arguments)}function N3(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mt=P3:Mt=N3,Mt.apply(null,arguments)}function Zf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Pr(){this.s=this.s,this.o=this.o}var k3=0;Pr.prototype.s=!1;Pr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),k3!=0)&&M3(this)};Pr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var KR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sb(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function FR(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(up(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var O3=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function Hc(t){return/^[\s\xa0]*$/.test(t)}function dp(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Ei(t){return dp().indexOf(t)!=-1}function ob(t){return ob[" "](t),t}ob[" "]=function(){};function F3(t,e){var n=DG;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var L3=Ei("Opera"),Sa=Ei("Trident")||Ei("MSIE"),QR=Ei("Edge"),$w=QR||Sa,YR=Ei("Gecko")&&!(dp().toLowerCase().indexOf("webkit")!=-1&&!Ei("Edge"))&&!(Ei("Trident")||Ei("MSIE"))&&!Ei("Edge"),V3=dp().toLowerCase().indexOf("webkit")!=-1&&!Ei("Edge");function ZR(){var t=ee.document;return t?t.documentMode:void 0}var zw;e:{if(Xf="",Jf=function(){var t=dp();if(YR)return/rv:([^\);]+)(\)|;)/.exec(t);if(QR)return/Edge\/([\d\.]+)/.exec(t);if(Sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(V3)return/WebKit\/(\S+)/.exec(t);if(L3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Jf&&(Xf=Jf?Jf[1]:""),Sa&&(ep=ZR(),ep!=null&&ep>parseFloat(Xf))){zw=String(ep);break e}zw=Xf}var Xf,Jf,ep,Hw;ee.document&&Sa?(Vw=ZR(),Hw=Vw||parseInt(zw,10)||void 0):Hw=void 0;var Vw,j3=Hw;function qc(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YR){e:{try{ob(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:B3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qc.$.h.call(this)}}pt(qc,Rt);var B3={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jc="closure_listenable_"+(1e6*Math.random()|0),U3=0;function $3(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++U3,this.fa=this.ia=!1}function hp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ab(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function z3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function XR(t){let e={};for(let n in t)e[n]=t[n];return e}var LR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JR(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<LR.length;s++)n=LR[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function fp(t){this.src=t,this.g={},this.h=0}fp.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Gw(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new $3(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function qw(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=KR(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(hp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gw(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var lb="closure_lm_"+(1e6*Math.random()|0),jw={};function eP(t,e,n,i,r){if(i&&i.once)return nP(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eP(t,e[s],n,i,r);return null}return n=db(n),t&&t[Jc]?t.O(e,n,Xc(i)?!!i.capture:!!i,r):tP(t,e,n,!1,i,r)}function tP(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Xc(r)?!!r.capture:!!r,a=ub(t);if(a||(t[lb]=a=new fp(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=H3(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)O3||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(rP(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function H3(){function t(n){return e.call(t.src,t.listener,n)}let e=q3;return t}function nP(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nP(t,e[s],n,i,r);return null}return n=db(n),t&&t[Jc]?t.P(e,n,Xc(i)?!!i.capture:!!i,r):tP(t,e,n,!0,i,r)}function iP(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)iP(t,e[s],n,i,r);else i=Xc(i)?!!i.capture:!!i,n=db(n),t&&t[Jc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Gw(s,n,i,r),-1<n&&(hp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ub(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gw(e,n,i,r)),(n=-1<t?e[t]:null)&&cb(n))}function cb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jc])qw(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(rP(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ub(e))?(qw(n,t),n.h==0&&(n.src=null,e[lb]=null)):hp(t)}}}function rP(t){return t in jw?jw[t]:jw[t]="on"+t}function q3(t,e){if(t.fa)t=!0;else{e=new qc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&cb(t),t=n.call(i,e)}return t}function ub(t){return t=t[lb],t instanceof fp?t:null}var Bw="__closure_events_fn_"+(1e9*Math.random()>>>0);function db(t){return typeof t=="function"?t:(t[Bw]||(t[Bw]=function(e){return t.handleEvent(e)}),t[Bw])}function ft(){Pr.call(this),this.i=new fp(this),this.S=this,this.J=null}pt(ft,Pr);ft.prototype[Jc]=!0;ft.prototype.removeEventListener=function(t,e,n,i){iP(this,t,e,n,i)};function Et(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var r=e;e=new Rt(i,t),JR(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=tp(o,i,!0,e)&&r}if(o=e.g=t,r=tp(o,i,!0,e)&&r,r=tp(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=tp(o,i,!1,e)&&r}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)hp(n[i]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};ft.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function tp(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&qw(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var hb=ee.JSON.stringify,Ww=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function G3(){var t=fb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Kw=class{constructor(){this.h=this.g=null}add(e,n){let i=sP.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},sP=new Ww(()=>new Qw,t=>t.reset()),Qw=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function W3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function K3(t){ee.setTimeout(()=>{throw t},0)}var Gc,Wc=!1,fb=new Kw,oP=()=>{let t=ee.Promise.resolve(void 0);Gc=()=>{t.then(Q3)}},Q3=()=>{for(var t;t=G3();){try{t.h.call(t.g)}catch(n){K3(n)}var e=sP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wc=!1};function pp(t,e){ft.call(this),this.h=t||1,this.g=e||ee,this.j=Mt(this.qb,this),this.l=Date.now()}pt(pp,ft);N=pp.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(pb(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){pp.$.N.call(this),pb(this),delete this.g};function mb(t,e,n){if(typeof t=="function")n&&(t=Mt(t,n));else if(t&&typeof t.handleEvent=="function")t=Mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function aP(t){t.g=mb(()=>{t.g=null,t.i&&(t.i=!1,aP(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Yw=class extends Pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aP(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Kc(t){Pr.call(this),this.h=t,this.g={}}pt(Kc,Pr);var VR=[];function lP(t,e,n,i){Array.isArray(n)||(n&&(VR[0]=n.toString()),n=VR);for(var r=0;r<n.length;r++){var s=eP(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cP(t){ab(t.g,function(e,n){this.g.hasOwnProperty(n)&&cb(e)},t),t.g={}}Kc.prototype.N=function(){Kc.$.N.call(this),cP(this)};Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mp(){this.g=!0}mp.prototype.Ea=function(){this.g=!1};function Y3(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function Z3(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function xa(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+J3(t,n)+(i?" "+i:"")})}function X3(t,e){t.info(function(){return"TIMEOUT: "+e})}mp.prototype.info=function(){};function J3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return hb(n)}catch{return e}}var Ks={},jR=null;function gp(){return jR=jR||new ft}Ks.Ta="serverreachability";function uP(t){Rt.call(this,Ks.Ta,t)}pt(uP,Rt);function Qc(t){let e=gp();Et(e,new uP(e))}Ks.STAT_EVENT="statevent";function dP(t,e){Rt.call(this,Ks.STAT_EVENT,t),this.stat=e}pt(dP,Rt);function Wt(t){let e=gp();Et(e,new dP(e,t))}Ks.Ua="timingevent";function hP(t,e){Rt.call(this,Ks.Ua,t),this.size=e}pt(hP,Rt);function eu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var yp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gb(){}gb.prototype.h=null;function BR(t){return t.h||(t.h=t.i())}function pP(){}var tu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yb(){Rt.call(this,"d")}pt(yb,Rt);function _b(){Rt.call(this,"c")}pt(_b,Rt);var Zw;function _p(){}pt(_p,gb);_p.prototype.g=function(){return new XMLHttpRequest};_p.prototype.i=function(){return{}};Zw=new _p;function nu(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Kc(this),this.P=eG,t=$w?125:void 0,this.V=new pp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mP}function mP(){this.i=null,this.g="",this.h=!1}var eG=45e3,gP={},Xw={};N=nu.prototype;N.setTimeout=function(t){this.P=t};function Jw(t,e,n){t.L=1,t.A=wp(Ji(e)),t.u=n,t.S=!0,yP(t,null)}function yP(t,e){t.G=Date.now(),iu(t),t.B=Ji(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),CP(n.i,"t",i),t.o=0,n=t.l.J,t.h=new mP,t.g=GP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Yw(Mt(t.Pa,t,t.g),t.O)),lP(t.U,t.g,"readystatechange",t.nb),e=t.I?XR(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qc(),Y3(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;let e=this.M;e&&Ii(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{let u=Ii(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||$w||this.g&&(this.h.h||this.g.ja()||HR(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Qc(3):Qc(2)),vp(this);var n=this.g.da();this.ca=n;t:if(_P(this)){var i=HR(this.g);t="";var r=i.length,s=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),zc(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Z3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(a)){var c=a;break t}}c=null}if(n=c)xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eb(this,n);else{this.i=!1,this.s=3,Wt(12),qs(this),zc(this);break e}}this.S?(vP(this,u,o),$w&&this.i&&u==3&&(lP(this.U,this.V,"tick",this.mb),this.V.start())):(xa(this.j,this.m,o,null),eb(this,o)),u==4&&qs(this),this.i&&!this.J&&(u==4?$P(this.l,this):(this.i=!1,iu(this)))}else bG(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),qs(this),zc(this)}}}catch{}finally{}};function _P(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function vP(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=tG(t,n),r==Xw){e==4&&(t.s=4,Wt(14),i=!1),xa(t.j,t.m,null,"[Incomplete Response]");break}else if(r==gP){t.s=4,Wt(15),xa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else xa(t.j,t.m,r,null),eb(t,r);_P(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Db(e),e.M=!0,Wt(11))):(xa(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),zc(t))}N.mb=function(){if(this.g){var t=Ii(this.g),e=this.g.ja();this.o<e.length&&(vp(this),vP(this,t,e),this.i&&t!=4&&iu(this))}};function tG(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Xw:(n=Number(e.substring(n,i)),isNaN(n)?gP:(i+=1,i+n>e.length?Xw:(e=e.slice(i,i+n),t.o=i+n,e)))}N.cancel=function(){this.J=!0,qs(this)};function iu(t){t.Y=Date.now()+t.P,wP(t,t.P)}function wP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=eu(Mt(t.lb,t),e)}function vp(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(X3(this.j,this.B),this.L!=2&&(Qc(),Wt(17)),qs(this),this.s=2,zc(this)):wP(this,this.Y-t)};function zc(t){t.l.H==0||t.J||$P(t.l,t)}function qs(t){vp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,pb(t.V),cP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function eb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||tb(n.i,t))){if(!t.K&&tb(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)op(n),Ip(n);else break e;Ib(n),Wt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=eu(Mt(n.ib,n),6e3));if(1>=SP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gs(n,11)}else if((t.K||n.g==t)&&op(n),!Hc(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vb(s,s.h),s.h=null))}if(i.F){let m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Fe(i.I,i.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=qP(i,i.J?i.pa:null,i.Y),o.K){AP(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(vp(a),iu(a)),i.g=o}else BP(i);0<n.j.length&&Dp(n)}else c[0]!="stop"&&c[0]!="close"||Gs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Gs(n,7):Eb(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Qc(4)}catch{}}function nG(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(up(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function iG(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(up(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function bP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(up(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iG(t),i=nG(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var EP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Ws(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ws){this.h=t.h,rp(this,t.j),this.s=t.s,this.g=t.g,sp(this,t.m),this.l=t.l;var e=t.i,n=new Yc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),UR(this,n),this.o=t.o}else t&&(e=String(t).match(EP))?(this.h=!1,rp(this,e[1]||"",!0),this.s=Uc(e[2]||""),this.g=Uc(e[3]||"",!0),sp(this,e[4]),this.l=Uc(e[5]||"",!0),UR(this,e[6]||"",!0),this.o=Uc(e[7]||"")):(this.h=!1,this.i=new Yc(null,this.h))}Ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push($c(e,$R,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($c(e,$R,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($c(n,n.charAt(0)=="/"?aG:oG,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$c(n,cG)),t.join("")};function Ji(t){return new Ws(t)}function rp(t,e,n){t.j=n?Uc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function UR(t,e,n){e instanceof Yc?(t.i=e,uG(t.i,t.h)):(n||(e=$c(e,lG)),t.i=new Yc(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function wp(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Uc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $c(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sG),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sG(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $R=/[#\/\?@]/g,oG=/[#\?:]/g,aG=/[#\?]/g,lG=/[#\?@]/g,cG=/#/g;function Yc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Nr(t){t.g||(t.g=new Map,t.h=0,t.i&&rG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Yc.prototype;N.add=function(t,e){Nr(this),this.i=null,t=Aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function IP(t,e){Nr(t),e=Aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DP(t,e){return Nr(t),e=Aa(t,e),t.g.has(e)}N.forEach=function(t,e){Nr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};N.ta=function(){Nr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};N.Z=function(t){Nr(this);let e=[];if(typeof t=="string")DP(this,t)&&(e=e.concat(this.g.get(Aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Nr(this),this.i=null,t=Aa(this,t),DP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function CP(t,e,n){IP(t,e),0<n.length&&(t.i=null,t.g.set(Aa(t,e),sb(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uG(t,e){e&&!t.j&&(Nr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(IP(this,i),CP(this,r,n))},t)),t.j=e}var dG=class{constructor(t,e){this.g=t,this.map=e}};function xP(t){this.l=t||hG,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hG=10;function TP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SP(t){return t.h?1:t.g?t.g.size:0}function tb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vb(t,e){t.g?t.g.add(e):t.h=e}function AP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xP.prototype.cancel=function(){if(this.i=MP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function MP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return sb(t.i)}var fG=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function pG(){this.g=new fG}function mG(t,e,n){let i=n||"";try{bP(t,function(r,s){let o=r;Xc(r)&&(o=hb(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function gG(t,e){let n=new mp;if(ee.Image){let i=new Image;i.onload=Zf(np,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Zf(np,n,i,"TestLoadImage: error",!1,e),i.onabort=Zf(np,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zf(np,n,i,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function np(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ru(t){this.l=t.ec||null,this.j=t.ob||!1}pt(ru,gb);ru.prototype.g=function(){return new bp(this.l,this.j)};ru.prototype.i=function(t){return function(){return t}}({});function bp(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt(bp,ft);var wb=0;N=bp.prototype;N.open=function(t,e){if(this.readyState!=wb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zc(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=wb};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function RP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?su(this):Zc(this),this.readyState==3&&RP(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,su(this))};N.Ya=function(t){this.g&&(this.response=t,su(this))};N.ka=function(){this.g&&su(this)};function su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zc(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yG=ee.JSON.parse;function Qe(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PP,this.L=this.M=!1}pt(Qe,ft);var PP="",_G=/^https?$/i,vG=["POST","PUT"];N=Qe.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zw.g(),this.C=this.u?BR(this.u):BR(Zw),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){zR(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=ee.FormData&&t instanceof ee.FormData,!(0<=KR(vG,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OP(this),0<this.B&&((this.L=wG(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=mb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zR(this,s)}};function wG(t){return Sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof rb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function zR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NP(t),Ep(t)}function NP(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Ep(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),Qe.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?kP(this):this.kb())};N.kb=function(){kP(this)};function kP(t){if(t.h&&typeof rb<"u"&&(!t.C[1]||Ii(t)!=4||t.da()!=2)){if(t.v&&Ii(t)==4)mb(t.La,0,t);else if(Et(t,"readystatechange"),Ii(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(EP)[1]||null;!r&&ee.self&&ee.self.location&&(r=ee.self.location.protocol.slice(0,-1)),i=!_G.test(r?r.toLowerCase():"")}n=i}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var s=2<Ii(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NP(t)}}finally{Ep(t)}}}}function Ep(t,e){if(t.g){OP(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=i}catch{}}}function OP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function Ii(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yG(e)}};function HR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function bG(t){let e={};t=(t.g&&2<=Ii(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Hc(t[i]))continue;var n=W3(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}z3(e,function(i){return i.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FP(t){let e="";return ab(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function bb(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=FP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Fe(t,e,n))}function jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LP(t){this.Ga=0,this.j=[],this.l=new mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jc("baseRetryDelayMs",5e3,t),this.hb=jc("retryDelaySeedMs",1e4,t),this.eb=jc("forwardChannelMaxRetries",2,t),this.xa=jc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new xP(t&&t.concurrentRequestLimit),this.Ja=new pG,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=LP.prototype;N.ra=8;N.H=1;function Eb(t){if(VP(t),t.H==3){var e=t.W++,n=Ji(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),ou(t,n),e=new nu(t,t.l,e),e.L=2,e.A=wp(Ji(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.A,n=!0),n||(e.g=GP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),iu(e)}HP(t)}function Ip(t){t.g&&(Db(t),t.g.cancel(),t.g=null)}function VP(t){Ip(t),t.u&&(ee.clearTimeout(t.u),t.u=null),op(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function Dp(t){if(!TP(t.i)&&!t.m){t.m=!0;var e=t.Na;Gc||oP(),Wc||(Gc(),Wc=!0),fb.add(e,t),t.C=0}}function EG(t,e){return SP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=eu(Mt(t.Na,t,e),zP(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new nu(this,this.l,t),s=this.s;if(this.U&&(s?(s=XR(s),JR(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jP(this,r,e),n=Ji(this.I),Fe(n,"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),ou(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(FP(s)))+"&"+e:this.o&&bb(n,this.o,s)),vb(this.i,r),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),r.aa=!0,Jw(r,n,null)):Jw(r,n,e),this.H=2}}else this.H==3&&(t?qR(this,t):this.j.length==0||TP(this.i)||qR(this))};function qR(t,e){var n;e?n=e.m:n=t.W++;let i=Ji(t.I);Fe(i,"SID",t.K),Fe(i,"RID",n),Fe(i,"AID",t.V),ou(t,i),t.o&&t.s&&bb(i,t.o,t.s),n=new nu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vb(t.i,n),Jw(n,i,e)}function ou(t,e){t.na&&ab(t.na,function(n,i){Fe(e,i,n)}),t.h&&bP({},function(n,i){Fe(e,i,n)})}function jP(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Mt(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].g,u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{mG(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function BP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gc||oP(),Wc||(Gc(),Wc=!0),fb.add(e,t),t.A=0}}function Ib(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=eu(Mt(t.Ma,t),zP(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,UP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=eu(Mt(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),Ip(this),UP(this))};function Db(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function UP(t){t.g=new nu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ji(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),ou(t,e),t.o&&t.s&&bb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wp(Ji(e)),n.u=null,n.S=!0,yP(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Ip(this),Ib(this),Wt(19))};function op(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function $P(t,e){var n=null;if(t.g==e){op(t),Db(t),t.g=null;var i=2}else if(tb(t.i,e))n=e.F,AP(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=gp(),Et(i,new hP(i,n)),Dp(t)}else BP(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&EG(t,e)||i==2&&Ib(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}}function zP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Mt(t.pb,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||rp(n,"https"),wp(n)),gG(n.toString(),i)}else Wt(2);t.H=0,t.h&&t.h.za(e),HP(t),VP(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function HP(t){if(t.H=0,t.ma=[],t.h){let e=MP(t.i);(e.length!=0||t.j.length!=0)&&(FR(t.ma,e),FR(t.ma,t.j),t.i.i.length=0,sb(t.j),t.j.length=0),t.h.ya()}}function qP(t,e,n){var i=n instanceof Ws?Ji(n):new Ws(n);if(i.g!="")e&&(i.g=e+"."+i.g),sp(i,i.m);else{var r=ee.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ws(null);i&&rp(s,i),e&&(s.g=e),r&&sp(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Fe(i,n,e),Fe(i,"VER",t.ra),ou(t,i),i}function GP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new ru({ob:n})):new Qe(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function WP(){}N=WP.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function ap(){if(Sa&&!(10<=Number(j3)))throw Error("Environmental error: no available transport.")}ap.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){ft.call(this),this.g=new LP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ma(this)}pt(wn,ft);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qP(t,null,t.Y),Dp(t)};wn.prototype.close=function(){Eb(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hb(t),t=n);e.j.push(new dG(e.fb++,t)),e.H==3&&Dp(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,Eb(this.g),delete this.g,wn.$.N.call(this)};function KP(t){yb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pt(KP,yb);function QP(){_b.call(this),this.status=1}pt(QP,_b);function Ma(t){this.g=t}pt(Ma,WP);Ma.prototype.Ba=function(){Et(this.g,"a")};Ma.prototype.Aa=function(t){Et(this.g,new KP(t))};Ma.prototype.za=function(t){Et(this.g,new QP)};Ma.prototype.ya=function(){Et(this.g,"b")};function IG(){this.blockSize=-1}function Yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pt(Yn,IG);Yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Uw(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Yn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Uw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Uw(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Uw(this,i),r=0;break}}this.h=r,this.i+=e};Yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function xe(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var DG={};function Cb(t){return-128<=t&&128>t?F3(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Di(t){if(isNaN(t)||!isFinite(t))return Ta;if(0>t)return bt(Di(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=nb;return new xe(e,0)}function YP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bt(YP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Di(Math.pow(e,8)),i=Ta,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=Di(Math.pow(e,s)),i=i.R(s).add(Di(o))):(i=i.R(n),i=i.add(Di(o)))}return i}var nb=4294967296,Ta=Cb(0),ib=Cb(1),GR=Cb(16777216);N=xe.prototype;N.ea=function(){if(kn(this))return-bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:nb+i)*e,e*=nb}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xi(this))return"0";if(kn(this))return"-"+bt(this).toString(t);for(var e=Di(Math.pow(t,6)),n=this,i="";;){var r=cp(n,e).g;n=lp(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Xi(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function kn(t){return t.h==-1}N.X=function(t){return t=lp(this,t),kn(t)?-1:Xi(t)?0:1};function bt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new xe(n,~t.h).add(ib)}N.abs=function(){return kn(this)?bt(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function lp(t,e){return t.add(bt(e))}N.R=function(t){if(Xi(this)||Xi(t))return Ta;if(kn(this))return kn(t)?bt(this).R(bt(t)):bt(bt(this).R(t));if(kn(t))return bt(this.R(bt(t)));if(0>this.X(GR)&&0>t.X(GR))return Di(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=o*l,ip(n,2*i+2*r),n[2*i+2*r+1]+=s*l,ip(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,ip(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,ip(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new xe(n,0)};function ip(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bc(t,e){this.g=t,this.h=e}function cp(t,e){if(Xi(e))throw Error("division by zero");if(Xi(t))return new Bc(Ta,Ta);if(kn(t))return e=cp(bt(t),e),new Bc(bt(e.g),bt(e.h));if(kn(e))return e=cp(t,bt(e)),new Bc(bt(e.g),e.h);if(30<t.g.length){if(kn(t)||kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ib,i=e;0>=i.X(t);)n=WR(n),i=WR(i);var r=Ca(n,1),s=Ca(i,1);for(i=Ca(i,2),n=Ca(n,2);!Xi(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Ca(i,1),n=Ca(n,1)}return e=lp(t,r.R(e)),new Bc(r,e)}for(r=Ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Di(n),o=s.R(e);kn(o)||0<o.X(t);)n-=i,s=Di(n),o=s.R(e);Xi(s)&&(s=ib),r=r.add(s),t=lp(t,o)}return new Bc(r,t)}N.gb=function(t){return cp(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new xe(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new xe(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new xe(n,this.h^t.h)};function WR(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new xe(n,t.h)}function Ca(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xe(r,t.h)}ap.prototype.createWebChannel=ap.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;yp.NO_ERROR=0;yp.TIMEOUT=8;yp.HTTP_ERROR=6;fP.COMPLETE="complete";pP.EventType=tu;tu.OPEN="a";tu.CLOSE="b";tu.ERROR="c";tu.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Yn.prototype.digest=Yn.prototype.l;Yn.prototype.reset=Yn.prototype.reset;Yn.prototype.update=Yn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Di;xe.fromString=YP;var ZP=Zn.createWebChannelTransport=function(){return new ap},XP=Zn.getStatEventTarget=function(){return gp()},Cp=Zn.ErrorCode=yp,JP=Zn.EventType=fP,eN=Zn.Event=Ks,xb=Zn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tse=Zn.FetchXmlHttpFactory=ru,au=Zn.WebChannel=pP,tN=Zn.XhrIo=Qe,nN=Zn.Md5=Yn,Qs=Zn.Integer=xe;var iN="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ol="10.7.0";var Br=new _d("@firebase/firestore");function Oa(){return Br.logLevel}function T0(t){Br.setLogLevel(t)}function I(t,...e){if(Br.logLevel<=si.DEBUG){let n=e.map(S0);Br.debug(`Firestore (${ol}): ${t}`,...n)}}function Je(t,...e){if(Br.logLevel<=si.ERROR){let n=e.map(S0);Br.error(`Firestore (${ol}): ${t}`,...n)}}function Fn(t,...e){if(Br.logLevel<=si.WARN){let n=e.map(S0);Br.warn(`Firestore (${ol}): ${t}`,...n)}}function S0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function L(t="Unexpected state"){let e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw Je(e),new Error(e)}function U(t,e){t||L()}function n1(t,e){t||L()}function k(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=class extends lC{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var at=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Fp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},Pb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Nb=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),s=new at;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new at,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>w(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new at)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(U(typeof i.accessToken=="string"),new Fp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return U(e===null||typeof e=="string"),new ot(e)}},kb=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ob=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new kb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Lb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U(typeof n.token=="string"),this.R=n.token,new Fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function CG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Lp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=CG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function ie(t,e){return t<e?-1:t>e?1:0}function Ha(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function i1(t){return t+"\0"}var qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new E(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new E(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var H=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qe(0,0))}static max(){return new t(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&L(),i===void 0?i=e.length-n:i>e.length-n&&L(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Vp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},xG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,et=class t extends Vp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return xG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new E(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new E(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new E(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new E(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var R=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var qa=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function Vb(t){return t.fields.find(e=>e.kind===2)}function Zs(t){return t.fields.filter(e=>e.kind!==2)}qa.UNKNOWN_ID=-1;var Ua=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var vu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Ln.min())}};function r1(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=H.fromTimestamp(i===1e9?new qe(n+1,0):new qe(n,i));return new Ln(r,R.empty(),e)}function s1(t){return new Ln(t.readTime,t.key,-1)}var Ln=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(H.min(),R.empty(),-1)}static max(){return new t(H.max(),R.empty(),-1)}};function A0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=R.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var o1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Zr(t){return w(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==o1)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var Bp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new at,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new io(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=M0(i.target.error);this.V.reject(new io(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new io(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Bb(n)}},Ur=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(gd())===12.2&&Je("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),Xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!yd())return!1;if(t.C())return!0;let e=gd(),n=t.S(e),i=0<n&&n<10,r=t.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return w(this,null,function*(){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new io(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new E(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new E(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new io(e,o))},r.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return w(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Bp.open(this.db,e,s?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),y.reject(c))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,c=l.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}},jb=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Xs(this.k.delete())}},io=class extends E{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Xr(t){return t.name==="IndexedDbTransactionError"}var Bb=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Xs(i)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),Xs(this.store.add(e))}get(e){return Xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),Xs(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),Xs(this.store.count())}W(e,n){let i=this.options(e,n);if(i.index||typeof this.store.getAll!="function"){let r=this.cursor(i),s=[];return this.G(r,(o,a)=>{s.push(a)}).next(()=>s)}{let r=this.store.getAll(i.range);return new y((s,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new y((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){I("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new y((i,r)=>{n.onerror=s=>{let o=M0(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){let i=[];return new y((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let l=new jb(a),c=n(a.primaryKey,a.value,l);if(c instanceof y){let u=c.catch(d=>(l.done(),y.reject(d)));i.push(u)}l.isDone?r():l.$===null?a.continue():a.continue(l.$)}}).next(()=>y.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Xs(t){return new y((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=M0(i.target.error);n(r)}})}var rN=!1;function M0(t){let e=Ur.S(gd());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new E("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rN||(rN=!0,setTimeout(()=>{throw i},0)),i}}return t}var Ub=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){I("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>w(this,null,function*(){this.task=null;try{I("IndexBackiller",`Documents written: ${yield this.X.te()}`)}catch(n){Xr(n)?I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Zr(n)}yield this.ee(6e4)}))}},$b=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return w(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let i=new Set,r=n,s=!0;return y.doWhile(()=>s===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!i.has(o))return I("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(r,s)).next(a=>(I("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,s)=>{let o=s1(s);A0(o,i)>0&&(i=o)}),new Ln(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var bn=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function zu(t){return t==null}function wu(t){return t===0&&1/t==-1/0}function a1(t){return typeof t=="number"&&Number.isInteger(t)&&!wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Kt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sN(e)),e=TG(t.get(n),e);return sN(e)}function TG(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let s=t.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function sN(t){return t+""}function Ci(t){let e=t.length;if(U(e>=2),e===2)return U(t.charAt(0)===""&&t.charAt(1)===""),ye.emptyPath();let n=e-2,i=[],r="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&L(),t.charAt(o+1)){case"":let a=t.substring(s,o),l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(s,o),r+="\0";break;case"":r+=t.substring(s,o+1);break;default:L()}s=o+2}return new ye(i)}var oN=["userId","batchId"];function Mp(t,e){return[t,Kt(e)]}function l1(t,e,n){return[t,Kt(e),n]}var SG={},AG=["prefixPath","collectionGroup","readTime","documentId"],MG=["prefixPath","collectionGroup","documentId"],RG=["collectionGroup","readTime","prefixPath","documentId"],PG=["canonicalId","targetId"],NG=["targetId","path"],kG=["path","targetId"],OG=["collectionId","parent"],FG=["indexId","uid"],LG=["uid","sequenceNumber"],VG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jG=["indexId","uid","orderedDocumentKey"],BG=["userId","collectionPath","documentId"],UG=["userId","collectionPath","largestBatchId"],$G=["userId","collectionGroup","largestBatchId"],c1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zG=[...c1,"documentOverlays"],u1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d1=u1,HG=[...d1,"indexConfiguration","indexState","indexEntries"];var bu=class extends jp{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function gt(t,e){let n=k(t);return Ur.M(n.ae,e)}function aN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function h1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}},Ba=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ti=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}};Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ne=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Up=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ra(t){return t.hasNext()?t.getNext():void 0}var En=class t{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ne(et.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var $p=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function f1(){return typeof atob<"u"}var mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $p("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var qG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(U(!!t),typeof t=="string"){let e=0,n=qG.exec(t);if(U(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}function Pm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R0(t){let e=t.mapValue.fields.__previous_value__;return Pm(e)?R0(e):e}function Eu(t){let e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}var zb=class{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},Hr=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Vr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rp={nullValue:"NULL_VALUE"};function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pm(t)?4:p1(t)?9007199254740991:10:L()}function Mi(t,e){if(t===e)return!0;let n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=$r(r.timestampValue),a=$r(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return zr(r.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ye(r.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ye(r.integerValue)===Ye(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ye(r.doubleValue),a=Ye(s.doubleValue);return o===a?wu(o)===wu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(aN(o)!==aN(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mi(o[l],a[l])))return!1;return!0}(t,e);default:return L()}}function Iu(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function qr(t,e){if(t===e)return 0;let n=ro(t),i=ro(e);if(n!==i)return ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lN(t.timestampValue,e.timestampValue);case 4:return lN(Eu(t),Eu(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zr(s),l=zr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=ie(a[c],l[c]);if(u!==0)return u}return ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(Ye(s.latitude),Ye(o.latitude));return a!==0?a:ie(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){let u=qr(a[c],l[c]);if(u)return u}return ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vr.mapValue&&o===Vr.mapValue)return 0;if(s===Vr.mapValue)return 1;if(o===Vr.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){let h=ie(l[d],u[d]);if(h!==0)return h;let f=qr(a[l[d]],c[u[d]]);if(f!==0)return f}return ie(l.length,u.length)}(t.mapValue,e.mapValue);default:throw L()}}function lN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=$r(t),i=$r(e),r=ie(n.seconds,i.seconds);return r!==0?r:ie(n.nanos,i.nanos)}function Ga(t){return Hb(t)}function Hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=$r(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return R.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Hb(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Hb(n.fields[o])}`;return r+"}"}(t.mapValue):L()}function so(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qb(t){return!!t&&"integerValue"in t}function Du(t){return!!t&&"arrayValue"in t}function cN(t){return!!t&&"nullValue"in t}function uN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=pu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function GG(t){return"nullValue"in t?Rp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?so(Hr.empty(),R.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:L()}function WG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?so(Hr.empty(),R.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Vr:L()}function dN(t,e){let n=qr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hN(t,e){let n=qr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Nt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=et.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=pu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Pp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){go(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(pu(this.value))}};function m1(t){let e=[];return go(t.fields,(n,i)=>{let r=new et([n]);if(Pp(i)){let s=m1(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new En(e)}var lt=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,H.min(),H.min(),H.min(),Nt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,H.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,H.min(),H.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,H.min(),H.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ri=class{constructor(e,n){this.position=e,this.inclusive=n}};function fN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=R.comparator(R.fromName(o.referenceValue),n.key):i=qr(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function pN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}var oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function KG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zp=class{},de=class t extends zp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Kb(e,n,i):n==="array-contains"?new Zb(e,i):n==="in"?new Hp(e,i):n==="not-in"?new Xb(e,i):n==="array-contains-any"?new Jb(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Qb(e,i):new Yb(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qr(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(qr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Te=class t extends zp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return Wa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function Wa(t){return t.op==="and"}function Gb(t){return t.op==="or"}function P0(t){return g1(t)&&Wa(t)}function g1(t){for(let e of t.filters)if(e instanceof Te)return!1;return!0}function Wb(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(P0(t))return t.filters.map(e=>Wb(e)).join(",");{let e=t.filters.map(n=>Wb(n)).join(",");return`${t.op}(${e})`}}function y1(t,e){return t instanceof de?function(i,r){return r instanceof de&&i.op===r.op&&i.field.isEqual(r.field)&&Mi(i.value,r.value)}(t,e):t instanceof Te?function(i,r){return r instanceof Te&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&y1(o,r.filters[a]),!0):!1}(t,e):void L()}function _1(t,e){let n=t.filters.concat(e);return Te.create(n,t.op)}function v1(t){return t instanceof de?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof Te?function(n){return n.op.toString()+" {"+n.getFilters().map(v1).join(" ,")+"}"}(t):"Filter"}var Kb=class extends de{constructor(e,n,i){super(e,n,i),this.key=R.fromName(i.referenceValue)}matches(e){let n=R.comparator(e.key,this.key);return this.matchesComparison(n)}},Qb=class extends de{constructor(e,n){super(e,"in",n),this.keys=w1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yb=class extends de{constructor(e,n){super(e,"not-in",n),this.keys=w1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function w1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>R.fromName(i.referenceValue))}var Zb=class extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Du(n)&&Iu(n.arrayValue,this.value)}},Hp=class extends de{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}},Xb=class extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Iu(this.value.arrayValue,n)}},Jb=class extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Du(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Iu(this.value.arrayValue,i))}};var eE=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function tE(t,e=null,n=[],i=[],r=null,s=null,o=null){return new eE(t,e,n,i,r,s,o)}function ao(t){let e=k(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Wb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),zu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ga(i)).join(",")),e.ce=n}return e.ce}function Hu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pN(t.startAt,e.startAt)&&pN(t.endAt,e.endAt)}function qp(t){return R.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gp(t,e){return t.filters.filter(n=>n instanceof de&&n.field.isEqual(e))}function mN(t,e,n){let i=Rp,r=!0;for(let s of Gp(t,e)){let o=Rp,a=!0;switch(s.op){case"<":case"<=":o=GG(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Rp}dN({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];dN({value:i,inclusive:r},{value:o,inclusive:n.inclusive})<0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}function gN(t,e,n){let i=Vr,r=!0;for(let s of Gp(t,e)){let o=Vr,a=!0;switch(s.op){case">=":case">":o=WG(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Vr}hN({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];hN({value:i,inclusive:r},{value:o,inclusive:n.inclusive})>0&&(i=o,r=n.inclusive);break}}return{value:i,inclusive:r}}var Xn=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function b1(t,e,n,i,r,s,o,a){return new Xn(t,e,n,i,r,s,o,a)}function al(t){return new Xn(t)}function yN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N0(t){return t.collectionGroup!==null}function $a(t){let e=k(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ne(et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new oo(s,i))}),n.has(et.keyField().canonicalString())||e.le.push(new oo(et.keyField(),i))}return e.le}function Qt(t){let e=k(t);return e.he||(e.he=QG(e,$a(t))),e.he}function QG(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new oo(r.field,s)});let n=t.endAt?new Ri(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ri(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function nE(t,e){let n=t.filters.concat([e]);return new Xn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wp(t,e,n){return new Xn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qu(t,e){return Hu(Qt(t),Qt(e))&&t.limitType===e.limitType}function E1(t){return`${ao(Qt(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>v1(r)).join(", ")}]`),zu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ga(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ga(r)).join(",")),`Target(${i})`}(Qt(t))}; limitType=${t.limitType})`}function Gu(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):R.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of $a(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=fN(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,$a(i),r)||i.endAt&&!function(o,a,l){let c=fN(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,$a(i),r))}(t,e)}function I1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D1(t){return(e,n)=>{let i=!1;for(let r of $a(t)){let s=YG(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function YG(t,e,n){let i=t.field.isKeyField()?R.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?qr(l,c):L()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return L()}}var Pi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return h1(this.inner)}size(){return this.innerSize}};var ZG=new Le(R.comparator);function on(){return ZG}var C1=new Le(R.comparator);function hu(...t){let e=C1;for(let n of t)e=e.insert(n.key,n);return e}function x1(t){let e=C1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function xi(){return mu()}function T1(){return mu()}function mu(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}var XG=new Le(R.comparator),JG=new Ne(R.comparator);function se(...t){let e=JG;for(let n of t)e=e.add(n);return e}var e5=new Ne(ie);function k0(){return e5}function S1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(e)?"-0":e}}function A1(t){return{integerValue:""+t}}function M1(t,e){return a1(e)?A1(e):S1(t,e)}var Ka=class{constructor(){this._=void 0}};function t5(t,e,n){return t instanceof Gr?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Pm(s)&&(s=R0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nr?P1(t,e):t instanceof ir?N1(t,e):function(r,s){let o=R1(r,s),a=_N(o)+_N(r.Ie);return qb(o)&&qb(r.Ie)?A1(a):S1(r.serializer,a)}(t,e)}function n5(t,e,n){return t instanceof nr?P1(t,e):t instanceof ir?N1(t,e):n}function R1(t,e){return t instanceof Wr?function(i){return qb(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Gr=class extends Ka{},nr=class extends Ka{constructor(e){super(),this.elements=e}};function P1(t,e){let n=k1(e);for(let i of t.elements)n.some(r=>Mi(r,i))||n.push(i);return{arrayValue:{values:n}}}var ir=class extends Ka{constructor(e){super(),this.elements=e}};function N1(t,e){let n=k1(e);for(let i of t.elements)n=n.filter(r=>!Mi(r,i));return{arrayValue:{values:n}}}var Wr=class extends Ka{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function _N(t){return Ye(t.integerValue||t.doubleValue)}function k1(t){return Du(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var lo=class{constructor(e,n){this.field=e,this.transform=n}};function i5(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof nr&&r instanceof nr||i instanceof ir&&r instanceof ir?Ha(i.elements,r.elements,Mi):i instanceof Wr&&r instanceof Wr?Mi(i.Ie,r.Ie):i instanceof Gr&&r instanceof Gr}(t.transform,e.transform)}var iE=class{constructor(e,n){this.version=e,this.transformResults=n}},Ze=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qa=class{};function O1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qr(t.key,Ze.none()):new Kr(t.key,t.data,Ze.none());{let n=t.data,i=Nt.empty(),r=new Ne(et.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Jn(t.key,i,new En(r.toArray()),Ze.none())}}function r5(t,e,n){t instanceof Kr?function(r,s,o){let a=r.value.clone(),l=wN(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(r,s,o){if(!Np(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wN(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(F1(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,i){return t instanceof Kr?function(s,o,a,l){if(!Np(s.precondition,o))return a;let c=s.value.clone(),u=bN(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Jn?function(s,o,a,l){if(!Np(s.precondition,o))return a;let c=bN(s.fieldTransforms,l,o),u=o.data;return u.setAll(F1(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Np(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function s5(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=R1(i.transform,r||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(i.field,s))}return n||null}function vN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ha(i,r,(s,o)=>i5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Kr=class extends Qa{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jn=class extends Qa{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function F1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function wN(t,e,n){let i=new Map;U(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,n5(o,a,n[r]))}return i}function bN(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,t5(s,o,e))}return i}var Qr=class extends Qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cu=class extends Qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xu=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&r5(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=T1();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let l=O1(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(H.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,i)=>vN(n,i))&&Ha(this.baseMutations,e.baseMutations,(n,i)=>vN(n,i))}},rE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){U(e.mutations.length===i.length);let r=function(){return XG}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Tu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rt,fe;function L1(t){switch(t){default:return L();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function V1(t){if(t===void 0)return Je("GRPC error has no .code"),_.UNKNOWN;switch(t){case rt.OK:return _.OK;case rt.CANCELLED:return _.CANCELLED;case rt.UNKNOWN:return _.UNKNOWN;case rt.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case rt.INTERNAL:return _.INTERNAL;case rt.UNAVAILABLE:return _.UNAVAILABLE;case rt.UNAUTHENTICATED:return _.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case rt.NOT_FOUND:return _.NOT_FOUND;case rt.ALREADY_EXISTS:return _.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return _.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case rt.ABORTED:return _.ABORTED;case rt.OUT_OF_RANGE:return _.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return _.UNIMPLEMENTED;case rt.DATA_LOSS:return _.DATA_LOSS;default:return L()}}(fe=rt||(rt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var EN=null;function j1(){return new TextEncoder}var o5=new Qs([4294967295,4294967295],0);function IN(t){let e=j1().encode(t),n=new nN;return n.update(e),new Uint8Array(n.digest())}function DN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qs([n,i],0),new Qs([r,s],0)]}var oE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(i<0)throw new no(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qs.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Qs.fromNumber(i)));return r.compare(o5)===1&&(r=new Qs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=IN(e),[i,r]=DN(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=IN(e),[i,r]=DN(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},no=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Su=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(H.min(),r,new Le(ie),on(),se())}},Au=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,se(),se(),se())}};var za=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Kp=class{constructor(e,n){this.targetId=e,this.fe=n}},Qp=class{constructor(e,n,i=mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Yp=class{constructor(){this.ge=0,this.pe=xN(),this.ye=mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=se(),n=se(),i=se();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:L()}}),new Au(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=xN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,U(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},aE=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=on(),this.Qe=CN(),this.Ke=new Le(ie)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let s=r.target;if(qp(s))if(i===0){let o=new R(s.path);this.We(n,o,lt.newNoDocument(o,H.min()))}else U(i===1);else{let o=this.Ze(n);if(o!==i){let a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}EN?.tt(function(u,d,h,f,p){var m,g,b,A,D,O;let K={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},q=d.unchangedNames;return q&&(K.bloomFilter={applied:p===0,hashCount:(m=q?.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(A=(b=(g=q?.bits)===null||g===void 0?void 0:g.bitmap)===null||b===void 0?void 0:b.length)!==null&&A!==void 0?A:0,padding:(O=(D=q?.bits)===null||D===void 0?void 0:D.padding)!==null&&O!==void 0?O:0,mightContain:ne=>{var Ve;return(Ve=f?.mightContain(ne))!==null&&Ve!==void 0&&Ve}}),K}(o,e.fe,this.Le.nt(),a,l))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=zr(i).toUint8Array()}catch(l){if(l instanceof $p)return Fn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oE(o,r,s)}catch(l){return Fn(l instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&qp(a.target)){let l=new R(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,lt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=se();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let r=new Su(e,n,this.Ke,this.qe,i);return this.qe=on(),this.Qe=CN(),this.Ke=new Le(ie),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Yp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ne(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Yp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function CN(){return new Le(R.comparator)}function xN(){return new Le(R.comparator)}var a5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),l5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),c5=(()=>({and:"AND",or:"OR"}))(),lE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function cE(t,e){return t.useProto3Json||zu(e)?e:{value:e}}function Ya(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u5(t,e){return Ya(t,e.toTimestamp())}function tt(t){return U(!!t),H.fromTimestamp(function(n){let i=$r(n);return new qe(i.seconds,i.nanos)}(t))}function O0(t,e){return function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function U1(t){let e=ye.fromString(t);return U(Y1(e)),e}function Mu(t,e){return O0(t.databaseId,e.path)}function Si(t,e){let n=U1(e);if(n.get(1)!==t.databaseId.projectId)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new E(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(z1(n))}function uE(t,e){return O0(t.databaseId,e)}function $1(t){let e=U1(t);return e.length===4?ye.emptyPath():z1(e)}function Ru(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z1(t){return U(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TN(t,e,n){return{name:Mu(t,e),fields:n.value.mapValue.fields}}function H1(t,e,n){let i=Si(t,e.name),r=tt(e.updateTime),s=e.createTime?tt(e.createTime):H.min(),o=new Nt({mapValue:{fields:e.fields}}),a=lt.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function d5(t,e){return"found"in e?function(i,r){U(!!r.found),r.found.name,r.found.updateTime;let s=Si(i,r.found.name),o=tt(r.found.updateTime),a=r.found.createTime?tt(r.found.createTime):H.min(),l=new Nt({mapValue:{fields:r.found.fields}});return lt.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(i,r){U(!!r.missing),U(!!r.readTime);let s=Si(i,r.missing),o=tt(r.readTime);return lt.newNoDocument(s,o)}(t,e):L()}function h5(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(U(u===void 0||typeof u=="string"),mt.fromBase64String(u||"")):(U(u===void 0||u instanceof Uint8Array),mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?_.UNKNOWN:V1(c.code);return new E(u,c.message||"")}(o);n=new Qp(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Si(t,i.document.name),s=tt(i.document.updateTime),o=i.document.createTime?tt(i.document.createTime):H.min(),a=new Nt({mapValue:{fields:i.document.fields}}),l=lt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new za(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Si(t,i.document),s=i.readTime?tt(i.readTime):H.min(),o=lt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new za([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Si(t,i.document),s=i.removedTargetIds||[];n=new za([],s,r,null)}else{if(!("filter"in e))return L();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new sE(r,s),a=i.targetId;n=new Kp(a,o)}}return n}function Pu(t,e){let n;if(e instanceof Kr)n={update:TN(t,e.key,e.value)};else if(e instanceof Qr)n={delete:Mu(t,e.key)};else if(e instanceof Jn)n={update:TN(t,e.key,e.data),updateMask:_5(e.fieldMask)};else{if(!(e instanceof Cu))return L();n={verify:Mu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Gr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ir)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wr)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw L()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:u5(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:L()}(t,e.precondition)),n}function dE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Ze.updateTime(tt(s.updateTime)):s.exists!==void 0?Ze.exists(s.exists):Ze.none()}(e.currentDocument):Ze.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,a){let l=null;if("setToServerValue"in a)U(a.setToServerValue==="REQUEST_TIME"),l=new Gr;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];l=new nr(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];l=new ir(u)}else"increment"in a?l=new Wr(o,a.increment):L();let c=et.fromServerFormat(a.fieldPath);return new lo(c,l)}(t,r)):[];if(e.update){e.update.name;let r=Si(t,e.update.name),s=new Nt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(l){let c=l.fieldPaths||[];return new En(c.map(u=>et.fromServerFormat(u)))}(e.updateMask);return new Jn(r,s,o,n,i)}return new Kr(r,s,n,i)}if(e.delete){let r=Si(t,e.delete);return new Qr(r,n)}if(e.verify){let r=Si(t,e.verify);return new Cu(r,n)}return L()}function f5(t,e){return t&&t.length>0?(U(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?tt(r.updateTime):tt(s);return o.isEqual(H.min())&&(o=tt(s)),new iE(o,r.transformResults||[])}(n,e))):[]}function q1(t,e){return{documents:[uE(t,e.path)]}}function G1(t,e){let n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=uE(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uE(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(l){if(l.length!==0)return Q1(Te.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);let s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:La(d.field),direction:m5(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=cE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function W1(t){let e=$1(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){U(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=K1(d);return h instanceof Te&&P0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new oo(Va(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,zu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){let h=!!d.before,f=d.values||[];return new Ri(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new Ri(f,h)}(n.endAt)),b1(e,r,o,s,a,"F",l,c)}function p5(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Va(n.unaryFilter.field);return de.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Va(n.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Va(n.unaryFilter.field);return de.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Va(n.unaryFilter.field);return de.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):t.fieldFilter!==void 0?function(n){return de.create(Va(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Te.create(n.compositeFilter.filters.map(i=>K1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L()}function m5(t){return a5[t]}function g5(t){return l5[t]}function y5(t){return c5[t]}function La(t){return{fieldPath:t.canonicalString()}}function Va(t){return et.fromServerFormat(t.fieldPath)}function Q1(t){return t instanceof de?function(n){if(n.op==="=="){if(uN(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(cN(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uN(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(cN(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:g5(n.op),value:n.value}}}(t):t instanceof Te?function(n){let i=n.getFilters().map(r=>Q1(r));return i.length===1?i[0]:{compositeFilter:{op:y5(n.op),filters:i}}}(t):L()}function _5(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Za=class t{constructor(e,n,i,r,s=H.min(),o=H.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zp=class{constructor(e){this.ut=e}};function v5(t,e){let n;if(e.document)n=H1(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=R.fromSegments(e.noDocument.path),r=uo(e.noDocument.readTime);n=lt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return L();{let i=R.fromSegments(e.unknownDocument.path),r=uo(e.unknownDocument.version);n=lt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let s=new qe(r[0],r[1]);return H.fromTimestamp(s)}(e.readTime)),n}function SN(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Xp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(s,o){return{name:Mu(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ya(s,o.version.toTimestamp()),createTime:Ya(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:co(e.version)};else{if(!e.isUnknownDocument())return L();i.unknownDocument={path:n.path.toArray(),version:co(e.version)}}return i}function Xp(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function co(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uo(t){let e=new qe(t.seconds,t.nanoseconds);return H.fromTimestamp(e)}function Js(t,e){let n=(e.baseMutations||[]).map(s=>dE(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let i=e.mutations.map(s=>dE(t.ut,s)),r=qe.fromMillis(e.localWriteTimeMs);return new xu(e.batchId,r,n,i)}function fu(t){let e=uo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?uo(t.lastLimboFreeSnapshotVersion):H.min(),i;return i=function(s){return s.documents!==void 0}(t.query)?function(s){return U(s.documents.length===1),Qt(al($1(s.documents[0])))}(t.query):function(s){return Qt(W1(s))}(t.query),new Za(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,mt.fromBase64String(t.resumeToken))}function Z1(t,e){let n=co(e.snapshotVersion),i=co(e.lastLimboFreeSnapshotVersion),r;r=qp(e.target)?q1(t.ut,e.target):G1(t.ut,e.target);let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ao(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function F0(t){let e=W1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wp(e,e.limit,"L"):e}function Tb(t,e){return new Tu(e.largestBatchId,dE(t.ut,e.overlayMutation))}function AN(t,e){let n=e.path.lastSegment();return[t,Kt(e.path.popLast()),n]}function MN(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:co(i.readTime),documentKey:Kt(i.documentKey.path),largestBatchId:i.largestBatchId}}var hE=class{getBundleMetadata(e,n){return RN(e).get(n).next(i=>{if(i)return function(s){return{id:s.bundleId,createTime:uo(s.createTime),version:s.version}}(i)})}saveBundleMetadata(e,n){return RN(e).put(function(r){return{bundleId:r.id,createTime:co(tt(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return PN(e).get(n).next(i=>{if(i)return function(s){return{name:s.name,query:F0(s.bundledQuery),readTime:uo(s.readTime)}}(i)})}saveNamedQuery(e,n){return PN(e).put(function(r){return{name:r.name,readTime:co(tt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function RN(t){return gt(t,"bundles")}function PN(t){return gt(t,"namedQueries")}var Jp=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return lu(e).get(AN(this.userId,n)).next(i=>i?Tb(this.serializer,i):null)}getOverlays(e,n){let i=xi();return y.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((s,o)=>{let a=new Tu(n,o);r.push(this.lt(e,a))}),y.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(o=>r.add(Kt(o.getCollectionPath())));let s=[];return r.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(lu(e).H("collectionPathOverlayIndex",a))}),y.waitFor(s)}getOverlaysForCollection(e,n,i){let r=xi(),s=Kt(n),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return lu(e).W("collectionPathOverlayIndex",o).next(a=>{for(let l of a){let c=Tb(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let s=xi(),o,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return lu(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{let d=Tb(this.serializer,c);s.size()<r||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}lt(e,n){return lu(e).put(function(r,s,o){let[a,l,c]=AN(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pu(r.ut,o.mutation)}}(this.serializer,this.userId,n))}};function lu(t){return gt(t,"documentOverlays")}var er=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ye(e.integerValue));else if("doubleValue"in e){let i=Ye(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),wu(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(zr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?p1(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):L()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),R.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};er.St=new er;function w5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function NN(t){let e=64-function(i){let r=0;for(let s=0;s<8;++s){let o=w5(255&i[s]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}var fE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Dt(i.value),i=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ft(i.value),i=n.next();this.Mt()}xt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{let r=n.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=n.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){let n=this.Bt(e),i=NN(n);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}kt(e){let n=this.Bt(e),i=NN(n);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},pE=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},mE=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},eo=class{constructor(){this.Wt=new fE,this.Gt=new pE(this.Wt),this.zt=new mE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var to=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function kr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=kN(t.arrayValue,e.arrayValue),n!==0?n:(n=kN(t.directionalValue,e.directionalValue),n!==0?n:R.comparator(t.documentKey,e.documentKey)))}function kN(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var em=class{constructor(e){this.Jt=new Ne((n,i)=>et.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(U(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=Vb(e);if(n!==void 0&&!this.tn(n))return!1;let i=Zs(e),r=new Set,s=0,o=0;for(;s<i.length&&this.tn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=i[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<i.length;++s){let a=i[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ne(et.comparator),n=[];for(let i of this.Zt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Ua(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new Ua(i.field,0))}for(let i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new Ua(i.field,i.dir==="asc"?0:1)));return new qa(qa.UNKNOWN_ID,this.collectionId,n,vu.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function X1(t){var e,n;if(U(t instanceof de||t instanceof Te),t instanceof de){if(t instanceof Hp){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>de.create(t.field,"==",s)))||[];return Te.create(r,"or")}return t}let i=t.filters.map(r=>X1(r));return Te.create(i,t.op)}function b5(t){if(t.getFilters().length===0)return[];let e=_E(X1(t));return U(J1(e)),gE(e)||yE(e)?[e]:e.getFilters()}function gE(t){return t instanceof de}function yE(t){return t instanceof Te&&P0(t)}function J1(t){return gE(t)||yE(t)||function(n){if(n instanceof Te&&Gb(n)){for(let i of n.getFilters())if(!gE(i)&&!yE(i))return!1;return!0}return!1}(t)}function _E(t){if(U(t instanceof de||t instanceof Te),t instanceof de)return t;if(t.filters.length===1)return _E(t.filters[0]);let e=t.filters.map(i=>_E(i)),n=Te.create(e,t.op);return n=tm(n),J1(n)?n:(U(n instanceof Te),U(Wa(n)),U(n.filters.length>1),n.filters.reduce((i,r)=>L0(i,r)))}function L0(t,e){let n;return U(t instanceof de||t instanceof Te),U(e instanceof de||e instanceof Te),n=t instanceof de?e instanceof de?function(r,s){return Te.create([r,s],"and")}(t,e):ON(t,e):e instanceof de?ON(e,t):function(r,s){if(U(r.filters.length>0&&s.filters.length>0),Wa(r)&&Wa(s))return _1(r,s.getFilters());let o=Gb(r)?r:s,a=Gb(r)?s:r,l=o.filters.map(c=>L0(c,a));return Te.create(l,"or")}(t,e),tm(n)}function ON(t,e){if(Wa(e))return _1(e,t.getFilters());{let n=e.filters.map(i=>L0(t,i));return Te.create(n,"or")}}function tm(t){if(U(t instanceof de||t instanceof Te),t instanceof de)return t;let e=t.getFilters();if(e.length===1)return tm(e[0]);if(g1(t))return t;let n=e.map(r=>tm(r)),i=[];return n.forEach(r=>{r instanceof de?i.push(r):r instanceof Te&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Te.create(i,t.op)}var vE=class{constructor(){this.on=new Nu}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Ln.min())}updateCollectionGroup(e,n,i){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Nu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ne(ye.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ne(ye.comparator)).toArray()}};var xp=new Uint8Array(0),wE=class{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Nu,this.an=new Pi(i=>ao(i),(i,r)=>Hu(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let s={collectionId:i,parent:Kt(r)};return FN(e).put(s)}return y.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[i1(n),""],!1,!0);return FN(e).W(r).next(s=>{for(let o of s){if(o.collectionId!==n)break;i.push(Ci(o.parent))}return i})}addFieldIndex(e,n){let i=cu(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;let s=i.add(r);if(n.indexState){let o=Na(e);return s.next(a=>{o.put(MN(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let i=cu(e),r=Na(e),s=Pa(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=cu(e),i=Pa(e),r=Na(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return y.forEach(this.un(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let s=new em(i).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let i=Pa(e),r=!0,s=new Map;return y.forEach(this.un(n),o=>this.cn(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=se(),a=[];return y.forEach(s,(l,c)=>{I("IndexedDbIndexManager",`Using index ${function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`}(l)} to execute ${ao(n)}`);let u=function(D,O){let K=Vb(O);if(K===void 0)return null;for(let q of Gp(D,K.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(c,l),d=function(D,O){let K=new Map;for(let q of Zs(O))for(let ne of Gp(D,q.fieldPath))switch(ne.op){case"==":case"in":K.set(q.fieldPath.canonicalString(),ne.value);break;case"not-in":case"!=":return K.set(q.fieldPath.canonicalString(),ne.value),Array.from(K.values())}return null}(c,l),h=function(D,O){let K=[],q=!0;for(let ne of Zs(O)){let Ve=ne.kind===0?mN(D,ne.fieldPath,D.startAt):gN(D,ne.fieldPath,D.startAt);K.push(Ve.value),q&&(q=Ve.inclusive)}return new Ri(K,q)}(c,l),f=function(D,O){let K=[],q=!0;for(let ne of Zs(O)){let Ve=ne.kind===0?gN(D,ne.fieldPath,D.endAt):mN(D,ne.fieldPath,D.endAt);K.push(Ve.value),q&&(q=Ve.inclusive)}return new Ri(K,q)}(c,l),p=this.ln(l,c,h),m=this.ln(l,c,f),g=this.hn(l,c,d),b=this.Pn(l.indexId,u,p,h.inclusive,m,f.inclusive,g);return y.forEach(b,A=>i.j(A,n.limit).next(D=>{D.forEach(O=>{let K=R.fromSegments(O.documentKey);o.has(K)||(o=o.add(K),a.push(K))})}))}).next(()=>a)}return y.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=b5(Te.create(e.filters,"and")).map(i=>tE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,i,r,s,o,a){let l=(n!=null?n.length:1)*Math.max(i.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){let h=n?this.In(n[d/c]):xp,f=this.Tn(e,h,i[d%c],r),p=this.En(e,h,s[d%c],o),m=a.map(g=>this.Tn(e,h,g,!0));u.push(...this.createRange(f,p,m))}return u}Tn(e,n,i,r){let s=new to(e,R.empty(),n,i);return r?s:s.Ht()}En(e,n,i,r){let s=new to(e,R.empty(),n,i);return r?s.Ht():s}cn(e,n){let i=new em(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(let a of s)i.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let i=2,r=this.un(n);return y.forEach(r,s=>this.cn(e,s).next(o=>{o?i!==0&&o.fields.length<function(l){let c=new Ne(et.comparator),u=!1;for(let d of l.filters)for(let h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(let d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}dn(e,n){let i=new eo;for(let r of Zs(e)){let s=n.data.field(r.fieldPath);if(s==null)return null;let o=i.jt(r.kind);er.St.ht(s,o)}return i.Ut()}In(e){let n=new eo;return er.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let i=new eo;return er.St.ht(so(this.databaseId,n),i.jt(function(s){let o=Zs(s);return o.length===0?0:o[o.length-1].kind}(e))),i.Ut()}hn(e,n,i){if(i===null)return[];let r=[];r.push(new eo);let s=0;for(let o of Zs(e)){let a=i[s++];for(let l of r)if(this.Rn(n,o.fieldPath)&&Du(a))r=this.Vn(r,o,a);else{let c=l.jt(o.kind);er.St.ht(a,c)}}return this.mn(r)}ln(e,n,i){return this.hn(e,n,i.position)}mn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Ut();return n}Vn(e,n,i){let r=[...e],s=[];for(let o of i.arrayValue.values||[])for(let a of r){let l=new eo;l.seed(a.Ut()),er.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(i=>i instanceof de&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=cu(e),r=Na(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(s=>{let o=[];return y.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){let h=d?new vu(d.sequenceNumber,new Ln(uo(d.readTime),new R(Ci(d.documentKey)),d.largestBatchId)):vu.empty(),f=u.fields.map(([p,m])=>new Ua(et.fromServerFormat(p),m));return new qa(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return s!==0?s:ie(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=cu(e),s=Na(e);return this.fn(e).next(o=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>y.forEach(a,l=>s.put(MN(l.indexId,this.user,o,i)))))}updateIndexEntries(e,n){let i=new Map;return y.forEach(n,(r,s)=>{let o=i.get(r.collectionGroup);return(o?y.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),y.forEach(a,l=>this.gn(e,r,l).next(c=>{let u=this.pn(s,l);return c.isEqual(u)?y.resolve():this.yn(e,s,l,c,u)}))))})}wn(e,n,i,r){return Pa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,i,r){return Pa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,n.key),n.key.path.toArray()])}gn(e,n,i){let r=Pa(e),s=new Ne(kr);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,n)])},(o,a)=>{s=s.add(new to(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let i=new Ne(kr),r=this.dn(n,e);if(r==null)return i;let s=Vb(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Du(o))for(let a of o.arrayValue.values||[])i=i.add(new to(n.indexId,e.key,this.In(a),r))}else i=i.add(new to(n.indexId,e.key,xp,r));return i}yn(e,n,i,r,s){I("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(l,c,u,d,h){let f=l.getIterator(),p=c.getIterator(),m=Ra(f),g=Ra(p);for(;m||g;){let b=!1,A=!1;if(m&&g){let D=u(m,g);D<0?A=!0:D>0&&(b=!0)}else m!=null?A=!0:b=!0;b?(d(g),g=Ra(p)):A?(h(m),m=Ra(f)):(m=Ra(f),g=Ra(p))}}(r,s,kr,a=>{o.push(this.wn(e,n,i,a))},a=>{o.push(this.Sn(e,n,i,a))}),y.waitFor(o)}fn(e){let n=1;return Na(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((o,a)=>kr(o,a)).filter((o,a,l)=>!a||kr(o,l[a-1])!==0);let r=[];r.push(e);for(let o of i){let a=kr(o,e),l=kr(o,n);if(a===0)r[0]=e.Ht();else if(a>0&&l<0)r.push(o),r.push(o.Ht());else if(l>0)break}r.push(n);let s=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];let a=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,xp,[]],l=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,xp,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return kr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(LN)}getMinOffset(e,n){return y.mapArray(this.un(n),i=>this.cn(e,i).next(r=>r||L())).next(LN)}};function FN(t){return gt(t,"collectionParents")}function Pa(t){return gt(t,"indexEntries")}function cu(t){return gt(t,"indexConfiguration")}function Na(t){return gt(t,"indexState")}function LN(t){U(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;A0(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ln(e.readTime,e.documentKey,n)}var VN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},On=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function ek(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=i.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{U(a===1)}));let c=[];for(let u of n.mutations){let d=l1(e,u.key.path,n.batchId);s.push(r.delete(d)),c.push(u.key)}return y.waitFor(s).next(()=>c)}function nm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw L();e=t.noDocument}return JSON.stringify(e).length}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var im=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,n,i,r){U(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Or(e).Y({index:"userMutationsIndex",range:i},(r,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let s=ja(e),o=Or(e);return o.add({}).next(a=>{U(typeof a=="number");let l=new xu(a,n,i,r),c=function(f,p,m){let g=m.baseMutations.map(A=>Pu(f.ut,A)),b=m.mutations.map(A=>Pu(f.ut,A));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:g,mutations:b}}(this.serializer,this.userId,l),u=[],d=new Ne((h,f)=>ie(h.canonicalString(),f.canonicalString()));for(let h of r){let f=l1(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,SG))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),y.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Or(e).get(n).next(i=>i?(U(i.userId===this.userId),Js(this.serializer,i)):null)}Cn(e,n){return this.Dn[n]?y.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Dn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Or(e).Y({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(U(a.batchId>=i),s=Js(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Or(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Or(e).W("userMutationsIndex",n).next(i=>i.map(r=>Js(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Mp(this.userId,n.path),r=IDBKeyRange.lowerBound(i),s=[];return ja(e).Y({range:r},(o,a,l)=>{let[c,u,d]=o,h=Ci(u);if(c===this.userId&&n.path.isEqual(h))return Or(e).get(d).next(f=>{if(!f)throw L();U(f.userId===this.userId),s.push(Js(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ne(ie),r=[];return n.forEach(s=>{let o=Mp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=ja(e).Y({range:a},(c,u,d)=>{let[h,f,p]=c,m=Ci(f);h===this.userId&&s.path.isEqual(m)?i=i.add(p):d.done()});r.push(l)}),y.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=Mp(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new Ne(ie);return ja(e).Y({range:o},(l,c,u)=>{let[d,h,f]=l,p=Ci(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.vn(e,a))}vn(e,n){let i=[],r=[];return n.forEach(s=>{r.push(Or(e).get(s).next(o=>{if(o===null)throw L();U(o.userId===this.userId),i.push(Js(this.serializer,o))}))}),y.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return ek(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),y.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return y.resolve();let i=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),r=[];return ja(e).Y({range:i},(s,o,a)=>{if(s[0]===this.userId){let l=Ci(s[1]);r.push(l)}else a.done()}).next(()=>{U(r.length===0)})})}containsKey(e,n){return tk(e,this.userId,n)}Mn(e){return nk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function tk(t,e,n){let i=Mp(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return ja(t).Y({range:s,J:!0},(a,l,c)=>{let[u,d,h]=a;u===e&&d===r&&(o=!0),c.done()}).next(()=>o)}function Or(t){return gt(t,"mutations")}function ja(t){return gt(t,"documentMutations")}function nk(t){return gt(t,"mutationQueues")}var Xa=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var bE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new Xa(n.highestTargetId);return n.highestTargetId=i.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>H.fromTimestamp(new qe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Ln(e,r)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(n,i),this.Ln(e,i))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ka(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(U(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,n,i){let r=0,s=[];return ka(e).Y((o,a)=>{let l=fu(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>y.waitFor(s)).next(()=>r)}forEachTarget(e,n){return ka(e).Y((i,r)=>{let s=fu(r);n(s)})}Bn(e){return jN(e).get("targetGlobalKey").next(n=>(U(n!==null),n))}Ln(e,n){return jN(e).put("targetGlobalKey",n)}kn(e,n){return ka(e).put(Z1(this.serializer,n))}qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=ao(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return ka(e).Y({range:r,index:"queryTargetsIndex"},(o,a,l)=>{let c=fu(a);Hu(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,i){let r=[],s=Fr(e);return n.forEach(o=>{let a=Kt(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),y.waitFor(r)}removeMatchingKeys(e,n,i){let r=Fr(e);return y.forEach(n,s=>{let o=Kt(s.path);return y.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,n){let i=Fr(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Fr(e),s=se();return r.Y({range:i,J:!0},(o,a,l)=>{let c=Ci(o[1]),u=new R(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){let i=Kt(n.path),r=IDBKeyRange.bound([i],[i1(i)],!1,!0),s=0;return Fr(e).Y({index:"documentTargetsIndex",J:!0,range:r},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return ka(e).get(n).next(i=>i?fu(i):null)}};function ka(t){return gt(t,"targets")}function jN(t){return gt(t,"targetGlobal")}function Fr(t){return gt(t,"targetDocuments")}function BN([t,e],[n,i]){let r=ie(t,n);return r===0?ie(e,i):r}var EE=class{constructor(e){this.Qn=e,this.buffer=new Ne(BN),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();BN(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},IE=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){I("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xr(n)?I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Zr(n)}yield this.Gn(3e5)}))}},DE=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return y.resolve(bn._e);let i=new EE(n);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(I("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(VN)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VN):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let i,r,s,o,a,l,c,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),Oa()<=si.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}};function E5(t,e){return new DE(t,e)}var CE=class{constructor(e,n){this.db=e,this.garbageCollector=E5(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Yn(e){let n=0;return this.Hn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(i,r)=>n(r))}addReference(e,n,i){return Tp(e,i)}removeReference(e,n,i){return Tp(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return Tp(e,n)}Xn(e,n){return function(r,s){let o=!1;return nk(r).Z(a=>tk(r,a,s).next(l=>(l&&(o=!0),y.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],s=0;return this.Zn(e,(o,a)=>{if(a<=n){let l=this.Xn(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,H.min()),Fr(e).delete(function(d){return[0,Kt(d.path)]}(o))))});r.push(l)}}).next(()=>y.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return Tp(e,n)}Zn(e,n){let i=Fr(e),r,s=bn._e;return i.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==bn._e&&n(new R(Ci(r)),s),s=c,r=l):s=bn._e}).next(()=>{s!==bn._e&&n(new R(Ci(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Tp(t,e){return Fr(t).put(function(i,r){return{targetId:0,path:Kt(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var rm=class{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Ys(e).put(i)}removeEntry(e,n,i){return Ys(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xp(o),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.er(e,i)))}getEntry(e,n){let i=lt.newInvalidDocument(n);return Ys(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(r,s)=>{i=this.tr(n,s)}).next(()=>i)}nr(e,n){let i={size:0,document:lt.newInvalidDocument(n)};return Ys(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(r,s)=>{i={document:this.tr(n,s),size:nm(s)}}).next(()=>i)}getEntries(e,n){let i=on();return this.rr(e,n,(r,s)=>{let o=this.tr(r,s);i=i.insert(r,o)}).next(()=>i)}ir(e,n){let i=on(),r=new Le(R.comparator);return this.rr(e,n,(s,o)=>{let a=this.tr(s,o);i=i.insert(s,a),r=r.insert(s,nm(o))}).next(()=>({documents:i,sr:r}))}rr(e,n,i){if(n.isEmpty())return y.resolve();let r=new Ne(zN);n.forEach(l=>r=r.add(l));let s=IDBKeyRange.bound(uu(r.first()),uu(r.last())),o=r.getIterator(),a=o.getNext();return Ys(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{let d=R.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&zN(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?u.U(uu(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Xp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ys(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let u=on();for(let d of c){let h=this.tr(R.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Gu(n,h)||r.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,i,r){let s=on(),o=$N(n,i),a=$N(n,Ln.max());return Ys(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{let d=this.tr(R.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===r&&u.done()}).next(()=>s)}newChangeBuffer(e){return new TE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return UN(e).get("remoteDocumentGlobalKey").next(n=>(U(!!n),n))}er(e,n){return UN(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let i=v5(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(H.min())))return i}return lt.newInvalidDocument(e)}};function ik(t){return new xE(t)}var TE=class extends rm{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Pi(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new Ne((s,o)=>ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){let l=SN(this._r.serializer,o);r=r.add(s.path.popLast());let c=nm(l);i+=c-a.size,n.push(this._r.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){let l=SN(this._r.serializer,o.convertToNoDocument(H.min()));n.push(this._r.addEntry(e,s,l))}}),r.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,i)),y.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(i=>(this.ar.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:i,sr:r})=>(r.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:i.get(s).readTime})}),i))}};function UN(t){return gt(t,"remoteDocumentGlobal")}function Ys(t){return gt(t,"remoteDocumentsV14")}function uu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $N(t,e){let n=e.documentKey.path.toArray();return[t,Xp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zN(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=ie(n[s],i[s]),r)return r;return r=ie(n.length,i.length),r||(r=ie(n[n.length-2],i[i.length-2]),r||ie(n[n.length-1],i[i.length-1]))}var SE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var sm=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&gu(i.mutation,r,En.empty(),qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,se()).next(()=>i))}getLocalViewOfDocuments(e,n,i=se()){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=hu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,se()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=on(),o=mu(),a=function(){return mu()}();return n.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Jn)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),gu(u.mutation,c,u.mutation.getFieldMask(),qe.now())):o.set(c.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new SE(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=mu(),r=new Le((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let u=i.get(l)||En.empty();u=a.applyToLocalView(c,u),i.set(l,u);let d=(r.get(a.batchId)||se()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,d=T1();u.forEach(h=>{if(!s.has(h)){let f=O1(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return y.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return R.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):y.resolve(xi()),a=-1,l=s;return o.next(c=>y.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,se())).next(u=>({batchId:a,changes:x1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(i=>{let r=hu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=hu();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,l=>{let c=function(d,h){return new Xn(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,lt.newInvalidDocument(u)))});let a=hu();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&gu(u.mutation,c,En.empty(),qe.now()),Gu(n,c)&&(a=a.insert(l,c))}),a})}};var AE=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:tt(r.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:F0(r.bundledQuery),readTime:tt(r.readTime)}}(n)),y.resolve()}};var ME=class{constructor(){this.overlays=new Le(R.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let i=xi();return y.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),y.resolve()}getOverlaysForCollection(e,n,i){let r=xi(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return y.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Le((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=xi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return y.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Tu(n,i));let s=this.lr.get(n);s===void 0&&(s=se(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}};var ku=class{constructor(){this.hr=new Ne(st.Pr),this.Ir=new Ne(st.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new st(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new st(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new R(new ye([])),i=new st(n,e),r=new st(n,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new R(new ye([])),i=new st(n,e),r=new st(n,e+1),s=se();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new st(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},st=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return R.comparator(e.key,n.key)||ie(e.gr,n.gr)}static Tr(e,n){return ie(e.gr,n.gr)||R.comparator(e.key,n.key)}};var RE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ne(st.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xu(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.yr=this.yr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),s=r<0?0:r;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new st(n,0),r=new st(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ne(ie);return n.forEach(r=>{let s=new st(r,0),o=new st(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),y.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;R.isDocumentKey(s)||(s=s.child(""));let o=new st(new R(s),0),a=new Ne(ie);return this.yr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){U(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return y.forEach(n.mutations,r=>{let s=new st(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new st(n,0),r=this.yr.firstAfterOrEqual(i);return y.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var PE=class{constructor(e){this.Cr=e,this.docs=function(){return new Le(R.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return y.resolve(i?i.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let i=on();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():lt.newInvalidDocument(r))}),y.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=on(),o=n.path,a=new R(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||A0(s1(u),i)<=0||(r.has(u.key)||Gu(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,i,r){L()}vr(e,n){return y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new NE(this)}getSize(e){return y.resolve(this.size)}},NE=class extends rm{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var kE=class{constructor(e){this.persistence=e,this.Fr=new Pi(n=>ao(n),Hu),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ku,this.targetCount=0,this.Nr=Xa.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),y.waitFor(s).next(()=>r)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return y.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),y.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return y.resolve(i)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var om=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new bn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new kE(this),this.indexManager=new vE,this.remoteDocumentCache=function(r){return new PE(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new Zp(n),this.Kr=new AE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ME,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new RE(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){I("MemoryPersistence","Starting transaction:",e);let r=new OE(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},OE=class extends jp{constructor(e){super(),this.currentSequenceNumber=e}},am=class t{constructor(e){this.persistence=e,this.Gr=new ku,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw L()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),y.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,i=>{let r=R.fromPath(i);return this.Jr(e,r).next(s=>{s||n.removeEntry(r,H.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var FE=class{constructor(e){this.serializer=e}N(e,n,i,r){let s=new Bp("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oN,{unique:!0}),l.createObjectStore("documentMutations")}(e),HN(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=y.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),HN(e)),o=o.next(()=>function(l){let c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:H.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),i<4&&r>=4&&(i!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oN,{unique:!0});let d=c.store("mutations"),h=u.map(f=>d.put(f));return y.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(o=o.next(()=>this.Zr(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),i<7&&r>=7&&(o=o.next(()=>this.ei(s))),i<8&&r>=8&&(o=o.next(()=>this.ti(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(o=o.next(()=>this.ni(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{(function(l){let c=l.createObjectStore("documentOverlays",{keyPath:BG});c.createIndex("collectionPathOverlayIndex",UG,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",$G,{unique:!1})})(e)})),i<13&&r>=13&&(o=o.next(()=>function(l){let c=l.createObjectStore("remoteDocumentsV14",{keyPath:AG});c.createIndex("documentKeyIndex",MG),c.createIndex("collectionGroupIndex",RG)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ii(e,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:FG}).createIndex("sequenceNumberIndex",LG,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:VG}).createIndex("documentKeyIndex",jG,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=nm(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>y.forEach(r,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",o).next(a=>y.forEach(a,l=>{U(l.userId===s.userId);let c=Js(this.serializer,l);return ek(e,s.userId,c).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let s=[];return i.Y((o,a)=>{let l=new ye(o),c=function(d){return[0,Kt(d)]}(l);s.push(n.get(c).next(u=>u?y.resolve():(d=>n.put({targetId:0,path:Kt(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>y.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:OG});let i=n.store("collectionParents"),r=new Nu,s=o=>{if(r.add(o)){let a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:Kt(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{let l=new ye(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{let u=Ci(a);return s(u.popLast())}))}ni(e){let n=e.store("targets");return n.Y((i,r)=>{let s=fu(r),o=Z1(this.serializer,s);return n.put(o)})}ri(e,n){let i=n.store("remoteDocuments"),r=[];return i.Y((s,o)=>{let a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new R(ye.fromString(d.document.name).popFirst(5)):d.noDocument?R.fromSegments(d.noDocument.path):d.unknownDocument?R.fromSegments(d.unknownDocument.path):L()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(c))}).next(()=>y.waitFor(r))}ii(e,n){let i=n.store("mutations"),r=ik(this.serializer),s=new om(am.jr,this.serializer.ut);return i.W().next(o=>{let a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:se();Js(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),y.forEach(a,(l,c)=>{let u=new ot(c),d=Jp.ct(this.serializer,u),h=s.getIndexManager(u),f=im.ct(u,this.serializer,h,s.referenceDelegate);return new sm(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new bu(n,bn._e),l).next()})})}};function HN(t){t.createObjectStore("targetDocuments",{keyPath:NG}).createIndex("documentTargetsIndex",kG,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PG,{unique:!0}),t.createObjectStore("targetGlobal")}var Sb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LE=class t{constructor(e,n,i,r,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=u,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!t.D())throw new E(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CE(this,r),this.Ii=n+"main",this.serializer=new Zp(l),this.Ti=new Ur(this.Ii,this.ai,new FE(this.serializer)),this.qr=new bE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ik(this.serializer),this.Kr=new hE,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,u===!1&&Je("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,Sb);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new bn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>w(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>w(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>w(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Xr(e))return I("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return du(e).get("owner").next(n=>y.resolve(this.wi(n)))}Si(e){return Sp(e).delete(this.clientId)}bi(){return w(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=gt(n,"clientMetadata");return i.W().next(r=>{let s=this.Ci(r,18e5),o=r.filter(a=>s.indexOf(a)===-1);return y.forEach(o,a=>i.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?y.resolve(!0):du(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new E(_.FAILED_PRECONDITION,Sb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sp(e).W().next(i=>this.Ci(i,5e3).find(r=>{if(this.clientId!==r.clientId){let s=!this.networkEnabled&&r.networkEnabled,o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&I("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return w(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new bu(e,bn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(i=>this.Di(i.updateTimeMs,n)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Sp(e).W().next(n=>this.Ci(n,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return im.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new wE(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Jp.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,i){I("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?HG:l===14?d1:l===13?u1:l===12?zG:l===11?c1:void L()}(this.ai),o;return this.Ti.runTransaction(e,r,s,a=>(o=new bu(a,this.Lr?this.Lr.next():bn._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Je(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new E(_.FAILED_PRECONDITION,o1);return i(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return du(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new E(_.FAILED_PRECONDITION,Sb)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return du(e).put("owner",n)}static D(){return Ur.D()}pi(e){let n=du(e);return n.get("owner").next(i=>this.wi(i)?(I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):y.resolve())}Di(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(Je(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;aC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let i=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return I("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Je("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Je("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function du(t){return gt(t,"owner")}function Sp(t){return gt(t,"clientMetadata")}function V0(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var VE=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=se(),r=se();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var jE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var lm=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new jE;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(Oa()<=si.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(Oa()<=si.DEBUG&&I("QueryEngine","Query:",Fa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Oa()<=si.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qt(n))):y.resolve())}zi(e,n){if(yN(n))return y.resolve(null);let i=Qt(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Wp(n,null,"F"),i=Qt(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=se(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Wp(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,i,r){return yN(n)||r.isEqual(H.min())?y.resolve(null):this.Gi.getDocuments(e,i).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,i,r)?y.resolve(null):(Oa()<=si.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fa(n)),this.Xi(e,o,n,r1(r,-1)).next(a=>a))})}Yi(e,n){let i=new Ne(D1(e));return n.forEach((r,s)=>{Gu(e,s)&&(i=i.add(s))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,n,i){return Oa()<=si.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ln.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var BE=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Le(ie),this.ns=new Pi(s=>ao(s),Hu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function rk(t,e,n,i){return new BE(t,e,n,i)}function sk(t,e){return w(this,null,function*(){let n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=se();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})})}function I5(t,e){let n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let d=c.batch,h=d.keys(),f=y.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{let g=c.docVersions.get(p);U(g!==null),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function ok(t){let e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function D5(t,e){let n=k(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((u,d)=>{let h=r.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(mt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(m,g,b){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(s,f))});let l=on(),c=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(ak(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(H.min())){let u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=r,s))}function ak(t,e,n){let i=se(),r=se();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=on();return n.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(H.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function C5(t,e){let n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ja(t,e){let n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(s=>s?(r=s,y.resolve(r)):n.qr.allocateTargetId(i).next(o=>(r=new Za(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function el(t,e,n){return w(this,null,function*(){let i=k(t),r=i.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Xr(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function cm(t,e,n){let i=k(t),r=H.min(),s=se();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let d=k(l),h=d.ns.get(u);return h!==void 0?y.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Qt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,e,n?r:H.min(),n?s:se())).next(a=>(uk(i,I1(e),a),{documents:a,ls:s})))}function lk(t,e){let n=k(t),i=k(n.qr),r=n.ts.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",s=>i._t(s,e).next(o=>o?o.target:null))}function ck(t,e){let n=k(t),i=n.rs.get(e)||H.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.ss.getAllFromCollectionGroup(r,e,r1(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uk(n,e,r),r))}function uk(t,e,n){let i=t.rs.get(e)||H.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.rs.set(e,i)}function x5(t,e,n,i){return w(this,null,function*(){let r=k(t),s=se(),o=on();for(let c of n){let u=e.hs(c.metadata.name);c.document&&(s=s.add(u));let d=e.Ps(c);d.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(u,d)}let a=r.ss.newChangeBuffer({trackRemovals:!0}),l=yield Ja(r,function(u){return Qt(al(ye.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>ak(c,a,o).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))})}function T5(i,r){return w(this,arguments,function*(t,e,n=se()){let s=yield Ja(t,Qt(F0(e.bundledQuery))),o=k(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let l=tt(e.readTime);if(s.snapshotVersion.compareTo(l)>=0)return o.Kr.saveNamedQuery(a,e);let c=s.withResumeToken(mt.EMPTY_BYTE_STRING,l);return o.ts=o.ts.insert(c.targetId,c),o.qr.updateTargetData(a,c).next(()=>o.qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.qr.addMatchingKeys(a,n,s.targetId)).next(()=>o.Kr.saveNamedQuery(a,e))})})}function qN(t,e){return`firestore_clients_${t}_${e}`}function GN(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Ab(t,e){return`firestore_targets_${t}_${e}`}var um=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Ts(e,n,i){let r=JSON.parse(i),s,o=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new E(r.error.code,r.error.message))),o?new t(e,n,r.state,s):(Je("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},yu=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Ts(e,n){let i=JSON.parse(n),r,s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(r=new E(i.error.code,i.error.message))),s?new t(e,i.state,r):(Je("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},dm=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,s=k0();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=a1(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(Je("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},UE=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Je("SharedClientState",`Failed to parse online state: ${e}`),null)}},Ou=class{constructor(){this.activeTargetIds=k0()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},_u=class{constructor(e,n,i,r,s){this.window=e,this.si=n,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Le(ie),this.started=!1,this.ps=[];let o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=qN(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Ou),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return w(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Rs)continue;let r=this.getItem(qN(this.persistenceKey,i));if(r){let s=dm.Ts(i,r);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let i=this.Ms(n);i&&this.xs(i)}for(let i of this.ps)this.fs(i);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,i){this.Ns(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(Ab(this.persistenceKey,e));if(i){let r=yu.Ts(e,i);r&&(n=r.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ab(this.persistenceKey,e))}updateQueryState(e,n,i){this.ks(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return I("SharedClientState","READ",e,n),n}setItem(e,n){I("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Je("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>w(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let i=this.Ks(n.key);return this.$s(i,null)}{let i=this.Us(n.key,n.newValue);if(i)return this.$s(i.clientId,i)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let i=this.Ws(n.key,n.newValue);if(i)return this.Gs(i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.zs(n.key,n.newValue);if(i)return this.js(i)}}else if(n.key===this.Cs){if(n.newValue!==null){let i=this.Ms(n.newValue);if(i)return this.xs(i)}}else if(n.key===this.ws){let i=function(s){let o=bn._e;if(s!=null)try{let a=JSON.parse(s);U(typeof a=="number"),o=a}catch(a){Je("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);i!==bn._e&&this.sequenceNumberHandler(i)}else if(n.key===this.vs){let i=this.Hs(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Js(r)))}}}else this.ps.push(n)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,i){let r=new um(this.currentUser,e,n,i),s=GN(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Es())}Bs(e){let n=GN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,i){let r=Ab(this.persistenceKey,e),s=new yu(e,n,i);this.setItem(r,s.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let i=this.Ks(e);return dm.Ts(i,n)}Ws(e,n){let i=this.bs.exec(e),r=Number(i[1]),s=i[2]!==void 0?i[2]:null;return um.Ts(new ot(s),r,n)}zs(e,n){let i=this.Ds.exec(e),r=Number(i[1]);return yu.Ts(r,n)}Ms(e){return UE.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return w(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);I("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let i=n?this.gs.insert(e,n):this.gs.remove(e),r=this.Os(this.gs),s=this.Os(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=k0();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},hm=class{constructor(){this.eo=new Ou,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ou,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $E=class{ro(e){}shutdown(){}};var fm=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ap=null;function Mb(){return Ap===null?Ap=function(){return 268435456+Math.round(2147483648*Math.random())}():Ap++,"0x"+Ap.toString(16)}var S5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var zE=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Pt="WebChannelConnection",HE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(n,i,r,s,o){let a=Mb(),l=this.So(n,i);I("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);let c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,r).then(u=>(I("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Fn("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(n,i,r,s,o,a){return this.wo(n,i,r,s,o)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}So(n,i){let r=S5[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){let s=Mb();return new Promise((o,a)=>{let l=new tN;l.setWithCredentials(!0),l.listenOnce(JP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cp.NO_ERROR:let u=l.getResponseJson();I(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Cp.TIMEOUT:I(Pt,`RPC '${e}' ${s} timed out`),a(new E(_.DEADLINE_EXCEEDED,"Request time out"));break;case Cp.HTTP_ERROR:let d=l.getStatus();if(I(Pt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(g){let b=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(b)>=0?b:_.UNKNOWN}(f.status);a(new E(p,f.message))}else a(new E(_.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new E(_.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{I(Pt,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(r);I(Pt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}vo(e,n,i){let r=Mb(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZP(),a=XP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let u=s.join("");I(Pt,`Creating RPC '${e}' stream ${r}: ${u}`,l);let d=o.createWebChannel(u,l),h=!1,f=!1,p=new zE({co:g=>{f?I(Pt,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(h||(I(Pt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),I(Pt,`RPC '${e}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,b,A)=>{g.listen(b,D=>{try{A(D)}catch(O){setTimeout(()=>{throw O},0)}})};return m(d,au.EventType.OPEN,()=>{f||I(Pt,`RPC '${e}' stream ${r} transport opened.`)}),m(d,au.EventType.CLOSE,()=>{f||(f=!0,I(Pt,`RPC '${e}' stream ${r} transport closed`),p.Ro())}),m(d,au.EventType.ERROR,g=>{f||(f=!0,Fn(Pt,`RPC '${e}' stream ${r} transport errored:`,g),p.Ro(new E(_.UNAVAILABLE,"The operation could not be completed")))}),m(d,au.EventType.MESSAGE,g=>{var b;if(!f){let A=g.data[0];U(!!A);let D=A,O=D.error||((b=D[0])===null||b===void 0?void 0:b.error);if(O){I(Pt,`RPC '${e}' stream ${r} received error:`,O);let K=O.status,q=function(an){let Xt=rt[an];if(Xt!==void 0)return V1(Xt)}(K),ne=O.message;q===void 0&&(q=_.INTERNAL,ne="Unknown error status: "+K+" with message "+O.message),f=!0,p.Ro(new E(q,ne)),d.close()}else I(Pt,`RPC '${e}' stream ${r} received:`,A),p.Vo(A)}}),m(a,eN.STAT_EVENT,g=>{g.stat===xb.PROXY?I(Pt,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===xb.NOPROXY&&I(Pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}};function dk(){return typeof window<"u"?window:null}function kp(){return typeof document<"u"?document:null}function Wu(t){return new lE(t,!0)}var Fu=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var pm=class{constructor(e,n,i,r,s,o,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Fu(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return w(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return w(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return w(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Je(n.toString()),Je("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{let r=new E(_.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){let i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>w(this,null,function*(){this.state=0,this.start()}))}o_(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qE=class extends pm{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=h5(this.serializer,e),i=function(s){if(!("targetChange"in s))return H.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?H.min():o.readTime?tt(o.readTime):H.min()}(e);return this.listener.a_(n,i)}u_(e){let n={};n.database=Ru(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=qp(l)?{documents:q1(s,l)}:{query:G1(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=B1(s,o.resumeToken);let c=cE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(H.min())>0){a.readTime=Ya(s,o.snapshotVersion.toTimestamp());let c=cE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=p5(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){let n={};n.database=Ru(this.serializer),n.removeTarget=e,this.e_(n)}},GE=class extends pm{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=f5(e.writeResults,e.commitTime),i=tt(e.commitTime);return this.listener.I_(i,n)}return U(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Ru(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Pu(this.serializer,i))};this.e_(n)}};var WE=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new E(_.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new E(_.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var KE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Je(n),this.f_=!1):I("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var QE=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{i.enqueueAndForget(()=>w(this,null,function*(){Jr(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(l){return w(this,null,function*(){let c=k(l);c.C_.add(4),yield ll(c),c.M_.set("Unknown"),c.C_.delete(4),yield Ku(c)})}(this))}))}),this.M_=new KE(i,r)}};function Ku(t){return w(this,null,function*(){if(Jr(t))for(let e of t.v_)yield e(!0)})}function ll(t){return w(this,null,function*(){for(let e of t.v_)yield e(!1)})}function Nm(t,e){let n=k(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),U0(n)?B0(n):ul(n).Ho()&&j0(n,e))}function Lu(t,e){let n=k(t),i=ul(n);n.D_.delete(e),i.Ho()&&hk(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Jr(n)&&n.M_.set("Unknown"))}function j0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).u_(e)}function hk(t,e){t.x_.Oe(e),ul(t).c_(e)}function B0(t){t.x_=new aE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.M_.g_()}function U0(t){return Jr(t)&&!ul(t).jo()&&t.D_.size>0}function Jr(t){return k(t).C_.size===0}function fk(t){t.x_=void 0}function A5(t){return w(this,null,function*(){t.D_.forEach((e,n)=>{j0(t,e)})})}function M5(t,e){return w(this,null,function*(){fk(t),U0(t)?(t.M_.w_(e),B0(t)):t.M_.set("Unknown")})}function R5(t,e,n){return w(this,null,function*(){if(t.M_.set("Online"),e instanceof Qp&&e.state===2&&e.cause)try{yield function(r,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.D_.delete(a),r.x_.removeTarget(a))})}(t,e)}catch(i){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mm(t,i)}else if(e instanceof za?t.x_.$e(e):e instanceof Kp?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(H.min()))try{let i=yield ok(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(mt.EMPTY_BYTE_STRING,u.snapshotVersion)),hk(s,l);let d=new Za(u.target,l,c,u.sequenceNumber);j0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){I("RemoteStore","Failed to raise snapshot:",i),yield mm(t,i)}})}function mm(t,e,n){return w(this,null,function*(){if(!Xr(e))throw e;t.C_.add(1),yield ll(t),t.M_.set("Offline"),n||(n=()=>ok(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Ku(t)}))})}function pk(t,e){return e().catch(n=>mm(t,n,e))}function cl(t){return w(this,null,function*(){let e=k(t),n=Yr(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;P5(e);)try{let r=yield C5(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,N5(e,r)}catch(r){yield mm(e,r)}mk(e)&&gk(e)})}function P5(t){return Jr(t)&&t.b_.length<10}function N5(t,e){t.b_.push(e);let n=Yr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function mk(t){return Jr(t)&&!Yr(t).jo()&&t.b_.length>0}function gk(t){Yr(t).start()}function k5(t){return w(this,null,function*(){Yr(t).E_()})}function O5(t){return w(this,null,function*(){let e=Yr(t);for(let n of t.b_)e.P_(n.mutations)})}function F5(t,e,n){return w(this,null,function*(){let i=t.b_.shift(),r=rE.from(i,e,n);yield pk(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield cl(t)})}function L5(t,e){return w(this,null,function*(){e&&Yr(t).h_&&(yield function(i,r){return w(this,null,function*(){if(function(o){return L1(o)&&o!==_.ABORTED}(r.code)){let s=i.b_.shift();Yr(i).Yo(),yield pk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield cl(i)}})}(t,e)),mk(t)&&gk(t)})}function WN(t,e){return w(this,null,function*(){let n=k(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let i=Jr(n);n.C_.add(3),yield ll(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Ku(n)})}function YE(t,e){return w(this,null,function*(){let n=k(t);e?(n.C_.delete(2),yield Ku(n)):e||(n.C_.add(2),yield ll(n),n.M_.set("Unknown"))})}function ul(t){return t.O_||(t.O_=function(n,i,r){let s=k(n);return s.A_(),new qE(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:A5.bind(null,t),Io:M5.bind(null,t),a_:R5.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.O_.Yo(),U0(t)?B0(t):t.M_.set("Unknown")):(yield t.O_.stop(),fk(t))}))),t.O_}function Yr(t){return t.N_||(t.N_=function(n,i,r){let s=k(n);return s.A_(),new GE(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:k5.bind(null,t),Io:L5.bind(null,t),T_:O5.bind(null,t),I_:F5.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.N_.Yo(),yield cl(t)):(yield t.N_.stop(),t.b_.length>0&&(I("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var ZE=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new E(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dl(t,e){if(Je("AsyncQueue",`${e}: ${t}`),Xr(t))return new E(_.UNAVAILABLE,`${e}: ${t}`);throw t}var gm=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||R.comparator(n.key,i.key):(n,i)=>R.comparator(n.key,i.key),this.keyedMap=hu(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var ym=class{constructor(){this.B_=new Le(R.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):L():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},tl=class t{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,gm.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var XE=class{constructor(){this.k_=void 0,this.listeners=[]}},JE=class{constructor(){this.queries=new Pi(e=>E1(e),qu),this.onlineState="Unknown",this.q_=new Set}};function $0(t,e){return w(this,null,function*(){let n=k(t),i=e.query,r=!1,s=n.queries.get(i);if(s||(r=!0,s=new XE),r)try{s.k_=yield n.onListen(i)}catch(o){let a=dl(o,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&H0(n)})}function z0(t,e){return w(this,null,function*(){let n=k(t),i=e.query,r=!1,s=n.queries.get(i);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function V5(t,e){let n=k(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&H0(n)}function j5(t,e,n){let i=k(t),r=i.queries.get(e);if(r)for(let s of r.listeners)s.onError(n);i.queries.delete(e)}function H0(t){t.q_.forEach(e=>{e.next()})}var Vu=class{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var e0=class{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}};var _m=class{constructor(e){this.serializer=e}hs(e){return Si(this.serializer,e)}Ps(e){return e.metadata.exists?H1(this.serializer,e.document,!1):lt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return tt(e)}},t0=class{constructor(e,n,i){this.X_=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yk(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;let i=ye.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){let n=new Map,i=new _m(this.serializer);for(let r of e)if(r.metadata.queries){let s=i.hs(r.metadata.name);for(let o of r.metadata.queries){let a=(n.get(o)||se()).add(s);n.set(o,a)}}return n}complete(){return w(this,null,function*(){let e=yield x5(this.localStore,new _m(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(let i of this.queries)yield T5(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}})}};function yk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var vm=class{constructor(e){this.key=e}},wm=class{constructor(e){this.key=e}},bm=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=se(),this.mutatedKeys=se(),this._a=D1(e),this.aa=new gm(this._a)}get ua(){return this.ia}ca(e,n){let i=n?n.la:new ym,r=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let h=r.get(u),f=Gu(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((u,d)=>function(f,p){let m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=r!=null&&r;let a=n&&!r?this.Ia():[],l=this.oa.size===0&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new tl(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new ym,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=se(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new wm(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new vm(i))}),n}da(e){this.ia=e.ls,this.oa=se();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return tl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},n0=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},i0=class{constructor(e){this.key=e,this.Ra=!1}},r0=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Pi(a=>E1(a),qu),this.fa=new Map,this.ga=new Set,this.pa=new Le(R.comparator),this.ya=new Map,this.wa=new ku,this.Sa={},this.ba=new Map,this.Da=Xa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function B5(t,e){return w(this,null,function*(){let n=Q0(t),i,r,s=n.ma.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{let o=yield Ja(n.localStore,Qt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield q0(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&Nm(n.remoteStore,o)}return r})}function q0(t,e,n,i,r){return w(this,null,function*(){t.va=(d,h,f)=>function(m,g,b,A){return w(this,null,function*(){let D=g.view.ca(b);D.Zi&&(D=yield cm(m.localStore,g.query,!1).then(({documents:ne})=>g.view.ca(ne,D)));let O=A&&A.targetChanges.get(g.targetId),K=A&&A.targetMismatches.get(g.targetId)!=null,q=g.view.applyChanges(D,m.isPrimaryClient,O,K);return s0(m,g.targetId,q.Ta),q.snapshot})}(t,d,h,f);let s=yield cm(t.localStore,e,!0),o=new bm(e,s.ls),a=o.ca(s.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);s0(t,n,c.Ta);let u=new n0(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot})}function U5(t,e){return w(this,null,function*(){let n=k(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(s=>!qu(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield el(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Lu(n.remoteStore,i.targetId),nl(n,i.targetId)}).catch(Zr))):(nl(n,i.targetId),yield el(n.localStore,i.targetId,!0))})}function $5(t,e,n){return w(this,null,function*(){let i=Y0(t);try{let r=yield function(o,a){let l=k(o),c=qe.now(),u=a.reduce((f,p)=>f.add(p.key),se()),d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=on(),m=se();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((b,A)=>{A.isValidDocument()||(m=m.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;let b=[];for(let A of a){let D=s5(A,d.get(A.key).overlayedDocument);D!=null&&b.push(new Jn(A.key,D,m1(D.value.mapValue),Ze.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(g=>{h=g;let b=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,b)})}).then(()=>({batchId:h.batchId,changes:x1(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Le(ie)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,n),yield or(i,r.changes),yield cl(i.remoteStore)}catch(r){let s=dl(r,"Failed to persist write");n.reject(s)}})}function _k(t,e){return w(this,null,function*(){let n=k(t);try{let i=yield D5(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.ya.get(s);o&&(U(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?U(o.Ra):r.removedDocuments.size>0&&(U(o.Ra),o.Ra=!1))}),yield or(n,i,e)}catch(i){yield Zr(i)}})}function KN(t,e,n){let i=k(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=k(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(let h of d.listeners)h.Q_(a)&&(c=!0)}),c&&H0(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function z5(t,e,n){return w(this,null,function*(){let i=k(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.ya.get(e),s=r&&r.key;if(s){let o=new Le(R.comparator);o=o.insert(s,lt.newNoDocument(s,H.min()));let a=se().add(s),l=new Su(H.min(),new Map,new Le(ie),o,a);yield _k(i,l),i.pa=i.pa.remove(s),i.ya.delete(e),K0(i)}else yield el(i.localStore,e,!1).then(()=>nl(i,e,n)).catch(Zr)})}function H5(t,e){return w(this,null,function*(){let n=k(t),i=e.batch.batchId;try{let r=yield I5(n.localStore,e);W0(n,i,null),G0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield or(n,r)}catch(r){yield Zr(r)}})}function q5(t,e,n){return w(this,null,function*(){let i=k(t);try{let r=yield function(o,a){let l=k(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(U(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);W0(i,e,n),G0(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield or(i,r)}catch(r){yield Zr(r)}})}function G5(t,e){return w(this,null,function*(){let n=k(t);Jr(n.remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(o){let a=k(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(i===-1)return void e.resolve();let r=n.ba.get(i)||[];r.push(e),n.ba.set(i,r)}catch(i){let r=dl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function G0(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function W0(t,e,n){let i=k(t),r=i.Sa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function nl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||vk(t,i)})}function vk(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(Lu(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),K0(t))}function s0(t,e,n){for(let i of n)i instanceof vm?(t.wa.addReference(i.key,e),W5(t,i)):i instanceof wm?(I("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||vk(t,i.key)):L()}function W5(t,e){let n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(I("SyncEngine","New document in limbo: "+n),t.ga.add(i),K0(t))}function K0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new R(ye.fromString(e)),i=t.Da.next();t.ya.set(i,new i0(n)),t.pa=t.pa.insert(n,i),Nm(t.remoteStore,new Za(Qt(al(n.path)),i,"TargetPurposeLimboResolution",bn._e))}}function or(t,e,n){return w(this,null,function*(){let i=k(t),r=[],s=[],o=[];i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);let u=VE.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield function(l,c){return w(this,null,function*(){let u=k(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(c,h=>y.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xr(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=u.ts.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(h,m)}}})}(i.localStore,s))})}function K5(t,e){return w(this,null,function*(){let n=k(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let i=yield sk(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new E(_.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield or(n,i._s)}})}function Q5(t,e){let n=k(t),i=n.ya.get(e);if(i&&i.Ra)return se().add(i.key);{let r=se(),s=n.fa.get(e);if(!s)return r;for(let o of s){let a=n.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function Y5(t,e){return w(this,null,function*(){let n=k(t),i=yield cm(n.localStore,e.query,!0),r=e.view.da(i);return n.isPrimaryClient&&s0(n,e.targetId,r.Ta),r})}function Z5(t,e){return w(this,null,function*(){let n=k(t);return ck(n.localStore,e).then(i=>or(n,i))})}function X5(t,e,n,i){return w(this,null,function*(){let r=k(t),s=yield function(a,l){let c=k(a),u=k(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Cn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):y.resolve(null)))}(r.localStore,e);s!==null?(n==="pending"?yield cl(r.remoteStore):n==="acknowledged"||n==="rejected"?(W0(r,e,i||null),G0(r,e),function(a,l){k(k(a).mutationQueue).Fn(l)}(r.localStore,e)):L(),yield or(r,s)):I("SyncEngine","Cannot apply mutation batch with id: "+e)})}function J5(t,e){return w(this,null,function*(){let n=k(t);if(Q0(n),Y0(n),e===!0&&n.Ca!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield QN(n,i.toArray());n.Ca=!0,yield YE(n.remoteStore,!0);for(let s of r)Nm(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){let i=[],r=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(nl(n,o),el(n.localStore,o,!0))),Lu(n.remoteStore,o)}),yield r,yield QN(n,i),function(o){let a=k(o);a.ya.forEach((l,c)=>{Lu(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new Le(R.comparator)}(n),n.Ca=!1,yield YE(n.remoteStore,!1)}})}function QN(t,e,n){return w(this,null,function*(){let i=k(t),r=[],s=[];for(let o of e){let a,l=i.fa.get(o);if(l&&l.length!==0){a=yield Ja(i.localStore,Qt(l[0]));for(let c of l){let u=i.ma.get(c),d=yield Y5(i,u);d.snapshot&&s.push(d.snapshot)}}else{let c=yield lk(i.localStore,o);a=yield Ja(i.localStore,c),yield q0(i,wk(c),o,!1,a.resumeToken)}r.push(a)}return i.Va.a_(s),r})}function wk(t){return b1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function e9(t){return function(n){return k(k(n).persistence).Bi()}(k(t).localStore)}function t9(t,e,n,i){return w(this,null,function*(){let r=k(t);if(r.Ca)return void I("SyncEngine","Ignoring unexpected query state notification.");let s=r.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield ck(r.localStore,I1(s[0])),a=Su.createSynthesizedRemoteEventForCurrentChange(e,n==="current",mt.EMPTY_BYTE_STRING);yield or(r,o,a);break}case"rejected":yield el(r.localStore,e,!0),nl(r,e,i);break;default:L()}})}function n9(t,e,n){return w(this,null,function*(){let i=Q0(t);if(i.Ca){for(let r of e){if(i.fa.has(r)){I("SyncEngine","Adding an already active target "+r);continue}let s=yield lk(i.localStore,r),o=yield Ja(i.localStore,s);yield q0(i,wk(s),o.targetId,!1,o.resumeToken),Nm(i.remoteStore,o)}for(let r of n)i.fa.has(r)&&(yield el(i.localStore,r,!1).then(()=>{Lu(i.remoteStore,r),nl(i,r)}).catch(Zr))}})}function Q0(t){let e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z5.bind(null,e),e.Va.a_=V5.bind(null,e.eventManager),e.Va.Fa=j5.bind(null,e.eventManager),e}function Y0(t){let e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q5.bind(null,e),e}function i9(t,e,n){let i=k(t);(function(s,o,a){return w(this,null,function*(){try{let l=yield o.getMetadata();if(yield function(f,p){let m=k(f),g=tt(p.createTime);return m.persistence.runTransaction("hasNewerBundle","readonly",b=>m.Kr.getBundleMetadata(b,p.id)).then(b=>!!b&&b.createTime.compareTo(g)>=0)}(s.localStore,l))return yield o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(yk(l));let c=new t0(l,s.localStore,o.serializer),u=yield o.Ma();for(;u;){let h=yield c.ea(u);h&&a._updateProgress(h),u=yield o.Ma()}let d=yield c.complete();return yield or(s,d.ra,void 0),yield function(f,p){let m=k(f);return m.persistence.runTransaction("Save bundle","readwrite",g=>m.Kr.saveBundleMetadata(g,p))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Fn("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var ju=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Wu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rk(this.persistence,new lm,e.initialUser,this.serializer)}createPersistence(e){return new om(am.jr,this.serializer)}createSharedClientState(e){return new hm}terminate(){return w(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Em=class t extends ju{constructor(e,n,i){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){yield Og(t.prototype,this,"initialize").call(this,e),yield this.xa.initialize(this,e),yield Y0(this.xa.syncEngine),yield cl(this.xa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return rk(this.persistence,new lm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new IE(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new $b(n,this.persistence);return new Ub(e.asyncQueue,i)}createPersistence(e){let n=V0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new LE(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,dk(),kp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hm}},o0=class t extends Em{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return w(this,null,function*(){yield Og(t.prototype,this,"initialize").call(this,e);let n=this.xa.syncEngine;this.sharedClientState instanceof _u&&(this.sharedClientState.syncEngine={Ys:X5.bind(null,n),Zs:t9.bind(null,n),Xs:n9.bind(null,n),Bi:e9.bind(null,n),Js:Z5.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(i=>w(this,null,function*(){yield J5(this.xa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=dk();if(!_u.D(n))throw new E(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=V0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _u(n,e.asyncQueue,i,e.clientId,e.initialUser)}},Bu=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K5.bind(null,this.syncEngine),yield YE(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new JE}()}createDatastore(e){let n=Wu(e.databaseInfo.databaseId),i=function(s){return new HE(s)}(e.databaseInfo);return function(s,o,a,l){return new WE(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new QE(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KN(this.syncEngine,n,0),function(){return fm.D()?new fm:new $E}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){let d=new r0(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return w(this,null,function*(){let i=k(n);I("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield ll(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};function YN(t,e=10240){let n=0;return{read(){return w(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return w(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var il=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Je("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var a0=class{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new at,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){return w(this,null,function*(){return this.metadata.promise})}Ma(){return w(this,null,function*(){return yield this.getMetadata(),this.ka()})}ka(){return w(this,null,function*(){let e=yield this.qa();if(e===null)return null;let n=this.La.decode(e),i=Number(n);isNaN(i)&&this.Qa(`length string (${n}) is not valid number`);let r=yield this.Ka(i);return new e0(JSON.parse(r),e.length+i)})}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){return w(this,null,function*(){for(;this.$a()<0&&!(yield this.Ua()););if(this.buffer.length===0)return null;let e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ka(e){return w(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ua())&&this.Qa("Reached the end of bundle when more is expected.");let n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){return w(this,null,function*(){let e=yield this.Ba.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var l0=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){return w(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let n=yield function(r,s){return w(this,null,function*(){let o=k(r),a=Ru(o.serializer)+"/documents",l={documents:s.map(h=>Mu(o.serializer,h))},c=yield o.Co("BatchGetDocuments",a,l,s.length),u=new Map;c.forEach(h=>{let f=d5(o.serializer,h);u.set(f.key.toString(),f)});let d=[];return s.forEach(h=>{let f=u.get(h.toString());U(!!f),d.push(f)}),d})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return w(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=R.fromPath(i);this.mutations.push(new Cu(r,this.precondition(r)))}),yield function(i,r){return w(this,null,function*(){let s=k(i),o=Ru(s.serializer)+"/documents",a={writes:r.map(l=>Pu(s.serializer,l))};yield s.wo("Commit",o,a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw L();n=H.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new E(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(H.min())?Ze.exists(!1):Ze.updateTime(n):Ze.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(H.min()))throw new E(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(n)}return Ze.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var c0=class{constructor(e,n,i,r,s){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this.Wa=i.maxAttempts,this.zo=new Fu(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(()=>w(this,null,function*(){let e=new l0(this.datastore),n=this.za(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ja(r)}))}).catch(i=>{this.ja(i)})}))}za(e){try{let n=this.updateFunction(e);return!zu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!L1(n)}return!1}};var u0=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>w(this,null,function*(){I("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return w(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new E(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=dl(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Op(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>w(this,null,function*(){i.isEqual(r)||(yield sk(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function d0(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Z0(t);I("FirestoreClient","Initializing OnlineComponentProvider");let i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>WN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>WN(e.remoteStore,s)),t._onlineComponents=e})}function bk(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Z0(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Op(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!bk(n))throw n;Fn("Error using user provided cache. Falling back to memory cache: "+n),yield Op(t,new ju)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Op(t,new ju);return t._offlineComponents})}function km(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield d0(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield d0(t,new Bu))),t._onlineComponents})}function Ek(t){return Z0(t).then(e=>e.persistence)}function X0(t){return Z0(t).then(e=>e.localStore)}function Ik(t){return km(t).then(e=>e.remoteStore)}function J0(t){return km(t).then(e=>e.syncEngine)}function r9(t){return km(t).then(e=>e.datastore)}function rl(t){return w(this,null,function*(){let e=yield km(t),n=e.eventManager;return n.onListen=B5.bind(null,e.syncEngine),n.onUnlisten=U5.bind(null,e.syncEngine),n})}function s9(t){return t.asyncQueue.enqueue(()=>w(this,null,function*(){let e=yield Ek(t),n=yield Ik(t);return e.setNetworkEnabled(!0),function(r){let s=k(r);return s.C_.delete(0),Ku(s)}(n)}))}function o9(t){return t.asyncQueue.enqueue(()=>w(this,null,function*(){let e=yield Ek(t),n=yield Ik(t);return e.setNetworkEnabled(!1),function(r){return w(this,null,function*(){let s=k(r);s.C_.add(0),yield ll(s),s.M_.set("Offline")})}(n)}))}function a9(t,e){let n=new at;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,s,o){return w(this,null,function*(){try{let a=yield function(c,u){let d=k(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new E(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=dl(a,`Failed to get document '${s} from cache`);o.reject(l)}})}(yield X0(t),e,n)})),n.promise}function Dk(t,e,n={}){let i=new at;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,l,c){let u=new il({next:h=>{o.enqueueAndForget(()=>z0(s,d));let f=h.docs.has(a);!f&&h.fromCache?c.reject(new E(_.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new E(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Vu(al(a.path),u,{includeMetadataChanges:!0,J_:!0});return $0(s,d)}(yield rl(t),t.asyncQueue,e,n,i)})),i.promise}function l9(t,e){let n=new at;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,s,o){return w(this,null,function*(){try{let a=yield cm(r,s,!0),l=new bm(s,a.ls),c=l.ca(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){let l=dl(a,`Failed to execute query '${s} against cache`);o.reject(l)}})}(yield X0(t),e,n)})),n.promise}function Ck(t,e,n={}){let i=new at;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,l,c){let u=new il({next:h=>{o.enqueueAndForget(()=>z0(s,d)),h.fromCache&&l.source==="server"?c.reject(new E(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Vu(a,u,{includeMetadataChanges:!0,J_:!0});return $0(s,d)}(yield rl(t),t.asyncQueue,e,n,i)})),i.promise}function c9(t,e){let n=new il(e);return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,s){k(r).q_.add(s),s.next()}(yield rl(t),n)})),()=>{n.Na(),t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,s){k(r).q_.delete(s)}(yield rl(t),n)}))}}function u9(t,e,n,i){let r=function(o,a){let l;return l=typeof o=="string"?j1().encode(o):o,function(u,d){return new a0(u,d)}(function(u,d){if(u instanceof Uint8Array)return YN(u,d);if(u instanceof ArrayBuffer)return YN(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Wu(e));t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){i9(yield J0(t),r,i)}))}function d9(t,e){return t.asyncQueue.enqueue(()=>w(this,null,function*(){return function(i,r){let s=k(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,r))}(yield X0(t),e)}))}function xk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ZN=new Map;function eI(t,e,n){if(!n)throw new E(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tI(t,e,n,i){if(e===!0&&i===!0)throw new E(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XN(t){if(!R.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JN(t){if(R.isDocumentKey(t))throw new E(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":L()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new E(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Om(t);throw new E(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Tk(t,e){if(e<=0)throw new E(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Im=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new E(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new E(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new E(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ho=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new E(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Rb;switch(i.type){case"firstParty":return new Ob(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new E(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=ZN.get(n);i&&(I("ComponentProvider","Removing Datastore"),ZN.delete(n),i.terminate())}(this),Promise.resolve()}};function Fm(t,e,n,i={}){var r;let s=(t=pe(t,ho))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=ot.MOCK_USER;else{a=oC(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new E(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ot(c)}t._authCredentials=new Pb(new Fp(a,l))}}var It=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Oe=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ai=class t extends It{constructor(e,n,i){super(e,n,al(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new R(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Qu(t,e,...n){if(t=ze(t),eI("collection","path",e),t instanceof ho){let i=ye.fromString(e,...n);return JN(i),new Ai(t,null,i)}{if(!(t instanceof Oe||t instanceof Ai))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(ye.fromString(e,...n));return JN(i),new Ai(t.firestore,null,i)}}function nI(t,e){if(t=pe(t,ho),eI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new E(_.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(t,null,function(i){return new Xn(ye.emptyPath(),i)}(e))}function hl(t,e,...n){if(t=ze(t),arguments.length===1&&(e=Lp.newId()),eI("doc","path",e),t instanceof ho){let i=ye.fromString(e,...n);return XN(i),new Oe(t,null,new R(i))}{if(!(t instanceof Oe||t instanceof Ai))throw new E(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(ye.fromString(e,...n));return XN(i),new Oe(t.firestore,t instanceof Ai?t.converter:null,new R(i))}}function Yu(t,e){return t=ze(t),e=ze(e),(t instanceof Oe||t instanceof Ai)&&(e instanceof Oe||e instanceof Ai)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Lm(t,e){return t=ze(t),e=ze(e),t instanceof It&&e instanceof It&&t.firestore===e.firestore&&qu(t._query,e._query)&&t.converter===e.converter}var h0=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Fu(this,"async_queue_retry"),this.iu=()=>{let n=kp();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=kp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new at;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return w(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Xr(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Je("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);let r=ZE.createAndSchedule(this,e,n,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&L()}verifyOperationInProgress(){}uu(){return w(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function f0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var p0=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new at,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var Sk=-1,Ue=class extends ho{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new h0}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mk(this),this._firestoreClient.terminate()}};function Ak(t,e){let n=typeof t=="object"?t:Sl(),i=typeof t=="string"?t:e||"(default)",r=Lg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=sC("firestore");s&&Fm(r,...s)}return r}function ut(t){return t._firestoreClient||Mk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Mk(t){var e,n,i;let r=t._freezeSettings(),s=function(a,l,c,u){return new zb(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new u0(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function iI(t,e){Pk(t=pe(t,Ue));let n=ut(t);if(n._uninitializedComponentsProvider)throw new E(_.FAILED_PRECONDITION,"SDK cache is already specified.");Fn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new Bu;return Rk(n,r,new Em(r,i.cacheSizeBytes,e?.forceOwnership))}function rI(t){Pk(t=pe(t,Ue));let e=ut(t);if(e._uninitializedComponentsProvider)throw new E(_.FAILED_PRECONDITION,"SDK cache is already specified.");Fn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new Bu;return Rk(e,i,new o0(i,n.cacheSizeBytes))}function Rk(t,e,n){let i=new at;return t.asyncQueue.enqueue(()=>w(this,null,function*(){try{yield Op(t,n),yield d0(t,e),i.resolve()}catch(r){let s=r;if(!bk(s))throw s;Fn("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function sI(t){if(t._initialized&&!t._terminated)throw new E(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new at;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{yield function(i){return w(this,null,function*(){if(!Ur.D())return Promise.resolve();let r=i+"main";yield Ur.delete(r)})}(V0(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function oI(t){return function(n){let i=new at;return n.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return G5(yield J0(n),i)})),i.promise}(ut(t=pe(t,Ue)))}function aI(t){return s9(ut(t=pe(t,Ue)))}function lI(t){return o9(ut(t=pe(t,Ue)))}function cI(t,e){let n=ut(t=pe(t,Ue)),i=new p0;return u9(n,t._databaseId,e,i),i}function uI(t,e){return d9(ut(t=pe(t,Ue)),e).then(n=>n?new It(t,null,n.query):null)}function Pk(t){if(t._initialized||t._terminated)throw new E(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ni=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mt.fromBase64String(e))}catch(n){throw new E(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ei=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new E(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rr=class{constructor(e){this._methodName=e}};var fo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new E(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new E(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var h9=/^__.*__$/,m0=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kr(e,this.data,n,this.fieldTransforms)}},Dm=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var Cm=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return xm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Nk(this.Iu)&&h9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},g0=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Wu(e)}pu(e,n,i,r=!1){return new Cm({Iu:e,methodName:n,gu:i,path:et.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function yo(t){let e=t._freezeSettings(),n=Wu(t._databaseId);return new g0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vm(t,e,n,i,r,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,r);fI("Data must be an object, but it was:",o,i);let a=Fk(i,o),l,c;if(s.merge)l=new En(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=b0(e,d,n);if(!o.contains(h))throw new E(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Vk(u,h)||u.push(h)}l=new En(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new m0(new Nt(a),l,c)}var Uu=class t extends rr{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function kk(t,e,n){return new Cm({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var y0=class t extends rr{_toFieldTransform(e){return new lo(e.path,new Gr)}isEqual(e){return e instanceof t}},_0=class extends rr{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=kk(this,e,!0),i=this.yu.map(s=>_o(s,n)),r=new nr(i);return new lo(e.path,r)}isEqual(e){return this===e}},v0=class extends rr{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=kk(this,e,!0),i=this.yu.map(s=>_o(s,n)),r=new ir(i);return new lo(e.path,r)}isEqual(e){return this===e}},w0=class extends rr{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){let n=new Wr(e.serializer,M1(e.serializer,this.wu));return new lo(e.path,n)}isEqual(e){return this===e}};function dI(t,e,n,i){let r=t.pu(1,e,n);fI("Data must be an object, but it was:",r,i);let s=[],o=Nt.empty();go(i,(l,c)=>{let u=pI(e,l,n);c=ze(c);let d=r.Ru(u);if(c instanceof Uu)s.push(u);else{let h=_o(c,d);h!=null&&(s.push(u),o.set(u,h))}});let a=new En(s);return new Dm(o,a,r.fieldTransforms)}function hI(t,e,n,i,r,s){let o=t.pu(1,e,n),a=[b0(e,i,n)],l=[r];if(s.length%2!=0)throw new E(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(b0(e,s[h])),l.push(s[h+1]);let c=[],u=Nt.empty();for(let h=a.length-1;h>=0;--h)if(!Vk(c,a[h])){let f=a[h],p=l[h];p=ze(p);let m=o.Ru(f);if(p instanceof Uu)c.push(f);else{let g=_o(p,m);g!=null&&(c.push(f),u.set(f,g))}}let d=new En(c);return new Dm(u,d,o.fieldTransforms)}function Ok(t,e,n,i=!1){return _o(n,t.pu(i?4:3,e))}function _o(t,e){if(Lk(t=ze(t)))return fI("Unsupported field value:",e,t),Fk(t,e);if(t instanceof rr)return function(i,r){if(!Nk(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=_o(a,r.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return M1(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=qe.fromDate(i);return{timestampValue:Ya(r.serializer,s)}}if(i instanceof qe){let s=new qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ya(r.serializer,s)}}if(i instanceof fo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ni)return{bytesValue:B1(r.serializer,i._byteString)};if(i instanceof Oe){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:O0(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Om(i)}`)}(t,e)}function Fk(t,e){let n={};return h1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(i,r)=>{let s=_o(r,e.Eu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Lk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof fo||t instanceof Ni||t instanceof Oe||t instanceof rr)}function fI(t,e,n){if(!Lk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Om(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function b0(t,e,n){if((e=ze(e))instanceof ei)return e._internalPath;if(typeof e=="string")return pI(t,e);throw xm("Field path arguments must be of type string or ",t,!1,void 0,n)}var f9=new RegExp("[~\\*/\\[\\]]");function pI(t,e,n){if(e.search(f9)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ei(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xm(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new E(_.INVALID_ARGUMENT,a+t+l)}function Vk(t,e){return t.some(n=>n.isEqual(e))}var po=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new E0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},E0=class extends po{data(){return super.data()}};function jm(t,e){return typeof e=="string"?pI(t,e):e instanceof ei?e._internalPath:e._delegate._internalPath}function jk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new E(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $u=class{},mo=class extends $u{};function ki(t,e,...n){let i=[];e instanceof $u&&i.push(e),i=i.concat(n),function(s){let o=s.filter(l=>l instanceof I0).length,a=s.filter(l=>l instanceof Tm).length;if(o>1||o>0&&a>0)throw new E(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Tm=class t extends mo{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return Uk(e._query,n),new It(e.firestore,e.converter,nE(e._query,n))}_parse(e){let n=yo(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new E(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){t1(d,u);let f=[];for(let p of d)f.push(e1(l,s,p));h={arrayValue:{values:f}}}else h=e1(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||t1(d,u),h=Ok(a,o,d,u==="in"||u==="not-in");return de.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function mI(t,e,n){let i=e,r=jm("where",t);return Tm._create(r,i,n)}var I0=class t extends $u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Te.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)Uk(o,l),o=nE(o,l)}(e._query,n),new It(e.firestore,e.converter,nE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var D0=class t extends mo{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new E(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(s,o)}(e._query,this._field,this._direction);return new It(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Xn(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function gI(t,e="asc"){let n=e,i=jm("orderBy",t);return D0._create(i,n)}var Sm=class t extends mo{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new It(e.firestore,e.converter,Wp(e._query,this._limit,this._limitType))}};function yI(t){return Tk("limit",t),Sm._create("limit",t,"F")}function _I(t){return Tk("limitToLast",t),Sm._create("limitToLast",t,"L")}var Am=class t extends mo{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=Bk(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,s){return new Xn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}};function vI(...t){return Am._create("startAt",t,!0)}function wI(...t){return Am._create("startAfter",t,!1)}var Mm=class t extends mo{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=Bk(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,s){return new Xn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)}(e._query,n))}};function bI(...t){return Mm._create("endBefore",t,!1)}function EI(...t){return Mm._create("endAt",t,!0)}function Bk(t,e,n,i){if(n[0]=ze(n[0]),n[0]instanceof po)return function(s,o,a,l,c){if(!l)throw new E(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let d of $a(s))if(d.field.isKeyField())u.push(so(o,l.key));else{let h=l.data.field(d.field);if(Pm(h))throw new E(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let f=d.field.canonicalString();throw new E(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Ri(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=yo(t.firestore);return function(o,a,l,c,u,d){let h=o.explicitOrderBy;if(u.length>h.length)throw new E(_.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let p=0;p<u.length;p++){let m=u[p];if(h[p].field.isKeyField()){if(typeof m!="string")throw new E(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!N0(o)&&m.indexOf("/")!==-1)throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);let g=o.path.child(ye.fromString(m));if(!R.isDocumentKey(g))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);let b=new R(g);f.push(so(a,b))}else{let g=Ok(l,c,m);f.push(g)}}return new Ri(f,d)}(t._query,t.firestore._databaseId,r,e,n,i)}}function e1(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new E(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N0(e)&&n.indexOf("/")!==-1)throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(ye.fromString(n));if(!R.isDocumentKey(i))throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return so(t,new R(i))}if(n instanceof Oe)return so(t,n._key);throw new E(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(n)}.`)}function t1(t,e){if(!Array.isArray(t)||t.length===0)throw new E(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uk(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new E(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new E(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var sl=class{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return go(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new fo(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=R0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){let n=$r(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=ye.fromString(e);U(Y1(i));let r=new Hr(i.get(1),i.get(3)),s=new R(i.popFirst(5));return r.isEqual(n)||Je(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Bm(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var C0=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,n)}};var tr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vn=class extends po{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new jr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(jm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},jr=class extends Vn{data(e={}){return super.data(e)}},ti=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new tr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new jr(this._firestore,this._userDataWriter,i.key,i,new tr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new E(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new jr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new tr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new jr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new tr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:p9(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function p9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function Um(t,e){return t instanceof Vn&&e instanceof Vn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ti&&e instanceof ti&&t._firestore===e._firestore&&Lm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function II(t){t=pe(t,Oe);let e=pe(t.firestore,Ue);return Dk(ut(e),t._key).then(n=>PI(e,t,n))}var sr=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,n)}};function DI(t){t=pe(t,Oe);let e=pe(t.firestore,Ue),n=ut(e),i=new sr(e);return a9(n,t._key).then(r=>new Vn(e,i,t._key,r,new tr(r!==null&&r.hasLocalMutations,!0),t.converter))}function CI(t){t=pe(t,Oe);let e=pe(t.firestore,Ue);return Dk(ut(e),t._key,{source:"server"}).then(n=>PI(e,t,n))}function xI(t){t=pe(t,It);let e=pe(t.firestore,Ue),n=ut(e),i=new sr(e);return jk(t._query),Ck(n,t._query).then(r=>new ti(e,i,t,r))}function TI(t){t=pe(t,It);let e=pe(t.firestore,Ue),n=ut(e),i=new sr(e);return l9(n,t._query).then(r=>new ti(e,i,t,r))}function SI(t){t=pe(t,It);let e=pe(t.firestore,Ue),n=ut(e),i=new sr(e);return Ck(n,t._query,{source:"server"}).then(r=>new ti(e,i,t,r))}function $m(t,e,n){t=pe(t,Oe);let i=pe(t.firestore,Ue),r=Bm(t.converter,e,n);return pl(i,[Vm(yo(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ze.none())])}function zm(t,e,n,...i){t=pe(t,Oe);let r=pe(t.firestore,Ue),s=yo(r),o;return o=typeof(e=ze(e))=="string"||e instanceof ei?hI(s,"updateDoc",t._key,e,n,i):dI(s,"updateDoc",t._key,e),pl(r,[o.toMutation(t._key,Ze.exists(!0))])}function AI(t){return pl(pe(t.firestore,Ue),[new Qr(t._key,Ze.none())])}function MI(t,e){let n=pe(t.firestore,Ue),i=hl(t),r=Bm(t.converter,e);return pl(n,[Vm(yo(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ze.exists(!1))]).then(()=>i)}function fl(t,...e){var n,i,r;t=ze(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||f0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(f0(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof Oe)c=pe(t.firestore,Ue),u=al(t._key.path),l={next:d=>{e[o]&&e[o](PI(c,t,d))},error:e[o+1],complete:e[o+2]};else{let d=pe(t,It);c=pe(d.firestore,Ue),u=d._query;let h=new sr(c);l={next:f=>{e[o]&&e[o](new ti(c,h,d,f))},error:e[o+1],complete:e[o+2]},jk(t._query)}return function(h,f,p,m){let g=new il(m),b=new Vu(f,g,p);return h.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return $0(yield rl(h),b)})),()=>{g.Na(),h.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return z0(yield rl(h),b)}))}}(ut(c),u,a,l)}function RI(t,e){return c9(ut(t=pe(t,Ue)),f0(e)?e:{next:e})}function pl(t,e){return function(i,r){let s=new at;return i.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return $5(yield J0(i),r,s)})),s.promise}(ut(t),e)}function PI(t,e,n){let i=n.docs.get(e._key),r=new sr(t);return new Vn(t,r,e._key,i,new tr(n.hasPendingWrites,n.fromCache),e.converter)}var m9={maxAttempts:5};var Rm=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yo(e)}set(e,n,i){this._verifyNotCommitted();let r=Lr(e,this._firestore),s=Bm(r.converter,n,i),o=Vm(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Ze.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=Lr(e,this._firestore),o;return o=typeof(n=ze(n))=="string"||n instanceof ei?hI(this._dataReader,"WriteBatch.update",s._key,n,i,r):dI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ze.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Lr(e,this._firestore);return this._mutations=this._mutations.concat(new Qr(n._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new E(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lr(t,e){if((t=ze(t)).firestore!==e)throw new E(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var x0=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=yo(n)}get(n){let i=Lr(n,this._firestore),r=new C0(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||s.length!==1)return L();let o=s[0];if(o.isFoundDocument())return new po(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new po(this._firestore,r,i._key,null,i.converter);throw L()})}set(n,i,r){let s=Lr(n,this._firestore),o=Bm(s.converter,i,r),a=Vm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,a),this}update(n,i,r,...s){let o=Lr(n,this._firestore),a;return a=typeof(i=ze(i))=="string"||i instanceof ei?hI(this._dataReader,"Transaction.update",o._key,i,r,s):dI(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(n){let i=Lr(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Lr(e,this._firestore),i=new sr(this._firestore);return super.get(e).then(r=>new Vn(this._firestore,i,n._key,r._document,new tr(!1,!1),n.converter))}};function NI(t,e,n){t=pe(t,Ue);let i=Object.assign(Object.assign({},m9),n);return function(s){if(s.maxAttempts<1)throw new E(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){let l=new at;return s.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){let c=yield r9(s);new c0(s.asyncQueue,c,a,o,l).run()})),l.promise}(ut(t),r=>e(new x0(t,r)),i)}function kI(){return new Uu("deleteField")}function OI(){return new y0("serverTimestamp")}function FI(...t){return new _0("arrayUnion",t)}function LI(...t){return new v0("arrayRemove",t)}function VI(t){return new w0("increment",t)}(function(e,n=!0){(function(r){ol=r})(uC),Tl(new os("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Ue(new Nb(i.getProvider("auth-internal")),new Lb(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new E(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hr(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kt(iN,"4.4.0",e),kt(iN,"4.4.0","esm2017")})();var Hm=function(){return Hm=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hm.apply(this,arguments)};var y9={includeMetadataChanges:!1};function $k(t,e){return e===void 0&&(e=y9),new $(function(n){var i=fl(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function zk(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Hm(Hm({},i),(n={},n[e.idField]=t.id,n))}function Hk(t){return $k(t,{includeMetadataChanges:!0}).pipe(F(function(e){return e.docs}))}function qk(t,e){return e===void 0&&(e={}),Hk(t).pipe(F(function(n){return n.map(function(i){return zk(i,e)})}))}var vo=class{constructor(e){return e}},Gk="firestore",jI=class{constructor(){return Lc(Gk)}};var BI=new C("angularfire2.firestore-instances");function _9(t,e){let n=Ow(Gk,t,e);return n&&new vo(n)}function v9(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new vo(i)}}var w9={provide:jI,deps:[[new zt,BI]]},b9={provide:vo,useFactory:_9,deps:[[new zt,BI],Hs]},E9=(()=>{class t{constructor(){kt("angularfire",Nn.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[b9,w9]})}return t})();function Wk(t,...e){return{ngModule:E9,providers:[{provide:BI,useFactory:v9(t),multi:!0,deps:[j,ht,Zi,Vc,[new zt,Yf],[new zt,bi],...e]}]}}var Kk=zs(qk,!0);var Qk=zs(Qu,!0);var Yk=zs(Ak,!0);var Oi="*";function Zk(t,e){return{type:7,name:t,definitions:e,options:{}}}function Xk(t,e=null){return{type:4,styles:e,timings:t}}function Jk(t,e=null){return{type:2,steps:t,options:e}}function ml(t){return{type:6,styles:t,offset:null}}function eO(t,e,n){return{type:0,name:t,styles:e,options:n}}function tO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}var es=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Zu=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},qm="!";function nO(t){return new x(3e3,!1)}function I9(){return new x(3100,!1)}function D9(){return new x(3101,!1)}function C9(t){return new x(3001,!1)}function x9(t){return new x(3003,!1)}function T9(t){return new x(3004,!1)}function S9(t,e){return new x(3005,!1)}function A9(){return new x(3006,!1)}function M9(){return new x(3007,!1)}function R9(t,e){return new x(3008,!1)}function P9(t){return new x(3002,!1)}function N9(t,e,n,i,r){return new x(3010,!1)}function k9(){return new x(3011,!1)}function O9(){return new x(3012,!1)}function F9(){return new x(3200,!1)}function L9(){return new x(3202,!1)}function V9(){return new x(3013,!1)}function j9(t){return new x(3014,!1)}function B9(t){return new x(3015,!1)}function U9(t){return new x(3016,!1)}function $9(t,e){return new x(3404,!1)}function z9(t){return new x(3502,!1)}function H9(t){return new x(3503,!1)}function q9(){return new x(3300,!1)}function G9(t){return new x(3504,!1)}function W9(t){return new x(3301,!1)}function K9(t,e){return new x(3302,!1)}function Q9(t){return new x(3303,!1)}function Y9(t,e){return new x(3400,!1)}function Z9(t){return new x(3401,!1)}function X9(t){return new x(3402,!1)}function J9(t,e){return new x(3505,!1)}function ts(t){switch(t.length){case 0:return new es;case 1:return t[0];default:return new Zu(t)}}function gO(t,e,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,r),m){case qm:m=n.get(f);break;case Oi:m=i.get(f);break;default:m=t.normalizeStyleValue(f,p,m,r);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw z9(r);return s}function lD(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&UI(n,"start",t)));break;case"done":t.onDone(()=>i(n&&UI(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&UI(n,"destroy",t)));break}}function UI(t,e,n){let i=n.totalTime,r=!!n.disabled,s=cD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function cD(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Dn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function iO(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var eW=(()=>typeof document>"u"?null:document.documentElement)();function uD(t){let e=t.parentNode||t.host||null;return e===eW?null:e}function tW(t){return t.substring(1,6)=="ebkit"}var wo=null,rO=!1;function nW(t){wo||(wo=iW()||{},rO=wo.style?"WebkitAppearance"in wo.style:!1);let e=!0;return wo.style&&!tW(t)&&(e=t in wo.style,!e&&rO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in wo.style)),e}function iW(){return typeof document<"u"?document.body:null}function yO(t,e){for(;e;){if(e===t)return!0;e=uD(e)}return!1}function _O(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var dD=(()=>{let e=class e{validateStyleProperty(i){return nW(i)}matchesElement(i,r){return!1}containsElement(i,r){return yO(i,r)}getParentElement(i){return uD(i)}query(i,r,s){return _O(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new es(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),rd=(()=>{let e=class e{};e.NOOP=new dD;let t=e;return t})(),Io=class{};var rW=1e3,vO="{{",sW="}}",wO="ng-enter",WI="ng-leave",Gm="ng-trigger",Zm=".ng-trigger",sO="ng-animating",KI=".ng-animating";function ar(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QI(parseFloat(e[1]),e[2])}function QI(t,e){switch(e){case"s":return t*rW;default:return t}}function Xm(t,e,n){return t.hasOwnProperty("duration")?t:oW(t,e,n)}function oW(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(nO(t)),{duration:0,delay:0,easing:""};r=QI(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=QI(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=t;if(!n){let a=!1,l=e.length;r<0&&(e.push(I9()),a=!0),s<0&&(e.push(D9()),a=!0),a&&e.splice(l,0,nO(t))}return{duration:r,delay:s,easing:o}}function sd(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function bO(t){let e=new Map;return Object.keys(t).forEach(n=>{let i=t[n];e.set(n,i)}),e}function aW(t){return t.length?t[0]instanceof Map?t:t.map(e=>bO(e)):[]}function yl(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function Fi(t,e,n){e.forEach((i,r)=>{let s=hD(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function Eo(t,e){e.forEach((n,i)=>{let r=hD(i);t.style[r]=""})}function Xu(t){return Array.isArray(t)?t.length==1?t[0]:Jk(t):t}function lW(t,e,n){let i=e.params||{},r=EO(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(C9(s))})}var YI=new RegExp(`${vO}\\s*(.+?)\\s*${sW}`,"g");function EO(t){let e=[];if(typeof t=="string"){let n;for(;n=YI.exec(t);)e.push(n[1]);YI.lastIndex=0}return e}function ed(t,e,n){let i=t.toString(),r=i.replace(YI,(s,o)=>{let a=e[o];return a==null&&(n.push(x9(o)),a=""),a.toString()});return r==i?t:r}function Jm(t){let e=[],n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}var cW=/-+([a-z0-9])/g;function hD(t){return t.replace(cW,(...e)=>e[1].toUpperCase())}function uW(t,e){return t===0||e===0}function dW(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,IO(t,a)))}}return e}function In(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw T9(e.type)}}function IO(t,e){return window.getComputedStyle(t)[e]}var hW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),eg=class extends Io{normalizePropertyName(e,n){return hD(e)}normalizeStyleValue(e,n,i,r){let s="",o=i.toString().trim();if(hW.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(S9(e,i))}return o+s}};var tg="*";function fW(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>pW(i,n,e)):n.push(t),n}function pW(t,e,n){if(t[0]==":"){let l=mW(t,n);if(typeof l=="function"){e.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(B9(t)),e;let r=i[1],s=i[2],o=i[3];e.push(oO(r,o));let a=r==tg&&o==tg;s[0]=="<"&&!a&&e.push(oO(o,r))}function mW(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(U9(t)),"* => *"}}var Wm=new Set(["true","1"]),Km=new Set(["false","0"]);function oO(t,e){let n=Wm.has(t)||Km.has(t),i=Wm.has(e)||Km.has(e);return(r,s)=>{let o=t==tg||t==r,a=e==tg||e==s;return!o&&n&&typeof r=="boolean"&&(o=r?Wm.has(t):Km.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?Wm.has(e):Km.has(e)),o&&a}}var DO=":self",gW=new RegExp(`s*${DO}s*,?`,"g");function CO(t,e,n,i){return new ZI(t).build(e,n,i)}var aO="",ZI=class{constructor(e){this._driver=e}build(e,n,i){let r=new XI(n);return this._resetContextStyleTimingState(r),In(this,Xu(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=aO,e.collectedStyles=new Map,e.collectedStyles.set(aO,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(A9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==0){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==1){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(M9())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};if(i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{EO(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size){let a=Jm(s.values());n.errors.push(R9(e.name,a))}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=In(this,Xu(e.animation),n);return{type:1,matchers:fW(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:bo(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>In(this,i,n)),options:bo(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,s=e.steps.map(o=>{n.currentTime=i;let a=In(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:s,options:bo(e.options)}}visitAnimate(e,n){let i=wW(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:ml({});if(s.type==5)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=ml(c)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Oi?i.push(a):n.errors.push(P9(a)):i.push(bO(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(vO)>=0){s=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(N9(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),n.options&&lW(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(k9()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(b=>{let A=this._makeStyleAst(b,n),D=A.offset!=null?A.offset:vW(A.styles),O=0;return D!=null&&(s++,O=A.offset=D),l=l||O<0||O>1,a=a||O<c,c=O,o.push(O),A});l&&n.errors.push(O9()),a&&n.errors.push(F9());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(L9()):s==0&&(h=r/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return u.forEach((b,A)=>{let D=h>0?A==f?1:h*A:o[A],O=D*g;n.currentTime=p+m.delay+O,m.duration=O,this._validateStyleAst(b,n),b.offset=D,i.styles.push(b)}),i}visitReference(e,n){return{type:8,animation:In(this,Xu(e.animation),n),options:bo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:bo(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:bo(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=yW(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Dn(n.collectedStyles,n.currentQuerySelector,new Map);let a=In(this,Xu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:bo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(V9());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Xm(e.timings,n.errors,!0);return{type:12,animation:In(this,Xu(e.animation),n),timings:i,options:null}}};function yW(t){let e=!!t.split(/\s*,\s*/).find(n=>n==DO);return e&&(t=t.replace(gW,"")),t=t.replace(/@\*/g,Zm).replace(/@\w+/g,n=>Zm+"-"+n.slice(1)).replace(/:animating/g,KI),[t,e]}function _W(t){return t?sd(t):null}var XI=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function vW(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function wW(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Xm(t,e).duration;return $I(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=$I(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=Xm(n,e);return $I(r.duration,r.delay,r.easing)}function bo(t){return t?(t=sd(t),t.params&&(t.params=_W(t.params))):t={},t}function $I(t,e,n){return{duration:t,delay:e,easing:n}}function fD(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var td=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},bW=1,EW=":enter",IW=new RegExp(EW,"g"),DW=":leave",CW=new RegExp(DW,"g");function xO(t,e,n,i,r,s=new Map,o=new Map,a,l,c=[]){return new JI().buildKeyframes(t,e,n,i,r,s,o,a,l,c)}var JI=class{buildKeyframes(e,n,i,r,s,o,a,l,c,u=[]){c=c||new td;let d=new eD(e,n,c,r,s,u,[]);d.options=l;let h=l.delay?ar(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),In(this,i,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[fD(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ar(ed(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?ar(i.duration):null,a=i.delay!=null?ar(i.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),In(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==6&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ng);let o=ar(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>In(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,s=e.options&&e.options.delay?ar(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),In(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?ed(i,n.params,n.errors):i;return Xm(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==5?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?ar(r.delay):0;s&&(n.previousNode.type===6||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ng);let o=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),In(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;In(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},ng={},eD=class t{constructor(e,n,i,r,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ng,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ig(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ar(i.duration)),i.delay!=null&&(r.delay=ar(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=ed(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ng,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new tD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(IW,"."+this._enterClassName),e=e.replace(CW,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(j9(n)),a}},ig=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=bW,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Oi),this._currentKeyframe.set(n,Oi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=xW(e,this._globalTimelineStyles);for(let[a,l]of o){let c=ed(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oi),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=yl(a,new Map,this._backFill);c.forEach((u,d)=>{u===qm?e.add(d):u===Oi&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=e.size?Jm(e.values()):[],o=n.size?Jm(n.values()):[];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},tD=class extends ig{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,l=yl(e[0]);l.set("offset",0),s.push(l);let c=yl(e[0]);c.set("offset",lO(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=yl(e[d]),f=h.get("offset"),p=n+f*i;h.set("offset",lO(p/o)),s.push(h)}i=o,n=0,r="",e=s}return fD(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function lO(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function xW(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i=i||e.keys();for(let s of i)n.set(s,Oi)}else yl(r,n)}),n}function cO(t,e,n,i,r,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var zI={},rg=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return TW(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||zI,f=a&&a.params||zI,p=this.buildStyles(i,f,d),m=l&&l.params||zI,g=this.buildStyles(r,m,d),b=new Set,A=new Map,D=new Map,O=r==="void",K={params:SW(m,h),delay:this.ast.options?.delay},q=u?[]:xO(e,n,this.ast.animation,s,o,p,g,K,c,d),ne=0;if(q.forEach(an=>{ne=Math.max(an.duration+an.delay,ne)}),d.length)return cO(n,this._triggerName,i,r,O,p,g,[],[],A,D,ne,d);q.forEach(an=>{let Xt=an.element,YD=Dn(A,Xt,new Set);an.preStyleProps.forEach(rs=>YD.add(rs));let xl=Dn(D,Xt,new Set);an.postStyleProps.forEach(rs=>xl.add(rs)),Xt!==n&&b.add(Xt)});let Ve=Jm(b.values());return cO(n,this._triggerName,i,r,O,p,g,q,Ve,A,D,ne)}};function TW(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}function SW(t,e){let n=sd(e);for(let i in t)t.hasOwnProperty(i)&&t[i]!=null&&(n[i]=t[i]);return n}var nD=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=sd(this.defaultParams);return Object.keys(e).forEach(s=>{let o=e[s];o!==null&&(r[s]=o)}),this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=ed(o,r,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}};function AW(t,e,n){return new iD(t,e,n)}var iD=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new nD(r.style,s,i))}),uO(this.states,"true","1"),uO(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new rg(e,r,this.states))}),this.fallbackTransition=MW(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function MW(t,e,n){let s={type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0};return new rg(t,s,e)}function uO(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var RW=new td,rD=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],s=CO(this._driver,n,i,r);if(i.length)throw H9(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,i){let r=e.element,s=gO(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=xO(this._driver,n,s,wO,WI,new Map,new Map,i,RW,r),o.forEach(u=>{let d=Dn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(q9()),o=[]),r.length)throw G9(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Oi))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=ts(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw W9(e);return n}listen(e,n,i,r){let s=cD(n,"","","");return lD(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},dO="ng-animate-queued",PW=".ng-animate-queued",HI="ng-animate-disabled",NW=".ng-animate-disabled",kW="ng-star-inserted",OW=".ng-star-inserted",FW=[],TO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ni="__ng_removed",nd=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=jW(r),i){let s=sd(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},Ju="void",qI=new nd(Ju),sD=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw K9(i,n);if(i==null||i.length==0)throw Q9(n);if(!BW(i))throw Y9(i,n);let s=Dn(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);let a=Dn(this._engine.statesByElement,e,new Map);return a.has(n)||(jn(e,Gm),jn(e,Gm+"-"+n),a.set(n,qI)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Z9(e);return n}trigger(e,n,i,r=!0){let s=this._getTrigger(n),o=new id(this.id,n,e),a=this._engine.statesByElement.get(e);a||(jn(e,Gm),jn(e,Gm+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new nd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=qI),!(c.value===Ju)&&l.value===c.value){if(!zW(l.params,c.params)){let m=[],g=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Eo(e,g),Fi(e,b)})}return}let h=Dn(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(jn(e,dO),o.onStart(()=>{gl(e,dO)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(o);b>=0&&g.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,Zm,!0);i.forEach(r=>{if(r[ni])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ju,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&ts(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||qI,u=new nd(Ju),d=new id(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[ni];(!s||s===TO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){jn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=cD(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,lD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},oD=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new sD(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,r){if(Qm(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!Qm(n))return;let s=n[ni];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jn(e,HI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gl(e,HI))}removeNode(e,n,i){if(Qm(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[ni]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return Qm(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Zm,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,KI,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ts(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ni];if(n&&n.setForRemoval){if(e[ni]=TO,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(HI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,NW,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];jn(r,kW)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?ts(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw X9(e)}_flushAnimations(e,n){let i=new td,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);let G=this.driver.query(B,PW,!0);for(let Q=0;Q<G.length;Q++)u.add(G[Q])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pO(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((B,G)=>{let Q=wO+m++;p.set(G,Q),B.forEach(me=>jn(me,Q))});let g=[],b=new Set,A=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){let G=this.collectedLeaveElements[B],Q=G[ni];Q&&Q.setForRemoval&&(g.push(G),b.add(G),Q.hasAnimation?this.driver.query(G,OW,!0).forEach(me=>b.add(me)):A.add(G))}let D=new Map,O=pO(h,Array.from(b));O.forEach((B,G)=>{let Q=WI+m++;D.set(G,Q),B.forEach(me=>jn(me,Q))}),e.push(()=>{f.forEach((B,G)=>{let Q=p.get(G);B.forEach(me=>gl(me,Q))}),O.forEach((B,G)=>{let Q=D.get(G);B.forEach(me=>gl(me,Q))}),g.forEach(B=>{this.processLeaveNode(B)})});let K=[],q=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(n).forEach(Q=>{let me=Q.player,dt=Q.element;if(K.push(me),this.collectedEnterElements.length){let Dt=dt[ni];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(Q.triggerName)){let ss=Dt.previousTriggersValues.get(Q.triggerName),Cn=this.statesByElement.get(Q.element);if(Cn&&Cn.has(Q.triggerName)){let pd=Cn.get(Q.triggerName);pd.value=ss,Cn.set(Q.triggerName,pd)}}me.destroy();return}}let ri=!d||!this.driver.containsElement(d,dt),ln=D.get(dt),cr=p.get(dt),$e=this._buildInstruction(Q,i,cr,ln,ri);if($e.errors&&$e.errors.length){q.push($e);return}if(ri){me.onStart(()=>Eo(dt,$e.fromStyles)),me.onDestroy(()=>Fi(dt,$e.toStyles)),r.push(me);return}if(Q.isFallbackTransition){me.onStart(()=>Eo(dt,$e.fromStyles)),me.onDestroy(()=>Fi(dt,$e.toStyles)),r.push(me);return}let JD=[];$e.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||JD.push(Dt)}),$e.timelines=JD,i.append(dt,$e.timelines);let mL={instruction:$e,player:me,element:dt};o.push(mL),$e.queriedElements.forEach(Dt=>Dn(a,Dt,[]).push(me)),$e.preStyleProps.forEach((Dt,ss)=>{if(Dt.size){let Cn=l.get(ss);Cn||l.set(ss,Cn=new Set),Dt.forEach((pd,kg)=>Cn.add(kg))}}),$e.postStyleProps.forEach((Dt,ss)=>{let Cn=c.get(ss);Cn||c.set(ss,Cn=new Set),Dt.forEach((pd,kg)=>Cn.add(kg))})});if(q.length){let B=[];q.forEach(G=>{B.push(J9(G.triggerName,G.errors))}),K.forEach(G=>G.destroy()),this.reportError(B)}let ne=new Map,Ve=new Map;o.forEach(B=>{let G=B.element;i.has(G)&&(Ve.set(G,G),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,ne))}),r.forEach(B=>{let G=B.element;this._getPreviousPlayers(G,!1,B.namespaceId,B.triggerName,null).forEach(me=>{Dn(ne,G,[]).push(me),me.destroy()})});let an=g.filter(B=>mO(B,l,c)),Xt=new Map;fO(Xt,this.driver,A,c,Oi).forEach(B=>{mO(B,l,c)&&an.push(B)});let xl=new Map;f.forEach((B,G)=>{fO(xl,this.driver,new Set(B),l,qm)}),an.forEach(B=>{let G=Xt.get(B),Q=xl.get(B);Xt.set(B,new Map([...G?.entries()??[],...Q?.entries()??[]]))});let rs=[],ZD=[],XD={};o.forEach(B=>{let{element:G,player:Q,instruction:me}=B;if(i.has(G)){if(u.has(G)){Q.onDestroy(()=>Fi(G,me.toStyles)),Q.disabled=!0,Q.overrideTotalTime(me.totalTime),r.push(Q);return}let dt=XD;if(Ve.size>1){let ln=G,cr=[];for(;ln=ln.parentNode;){let $e=Ve.get(ln);if($e){dt=$e;break}cr.push(ln)}cr.forEach($e=>Ve.set($e,dt))}let ri=this._buildAnimation(Q.namespaceId,me,ne,s,xl,Xt);if(Q.setRealPlayer(ri),dt===XD)rs.push(Q);else{let ln=this.playersByElement.get(dt);ln&&ln.length&&(Q.parentPlayer=ts(ln)),r.push(Q)}}else Eo(G,me.fromStyles),Q.onDestroy(()=>Fi(G,me.toStyles)),ZD.push(Q),u.has(G)&&r.push(Q)}),ZD.forEach(B=>{let G=s.get(B.element);if(G&&G.length){let Q=ts(G);B.setRealPlayer(Q)}}),r.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<g.length;B++){let G=g[B],Q=G[ni];if(gl(G,WI),Q&&Q.hasAnimation)continue;let me=[];if(a.size){let ri=a.get(G);ri&&ri.length&&me.push(...ri);let ln=this.driver.query(G,KI,!0);for(let cr=0;cr<ln.length;cr++){let $e=a.get(ln[cr]);$e&&$e.length&&me.push(...$e)}}let dt=me.filter(ri=>!ri.destroyed);dt.length?UW(this,G,dt):this.processLeaveNode(G)}return g.length=0,rs.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();let G=this.players.indexOf(B);this.players.splice(G,1)}),B.play()}),rs}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ju;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let c=l.element,u=c!==s,d=Dn(i,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Eo(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let g=m[ni];if(g&&g.removedBeforeQueried)return new es(p.duration,p.delay);let b=m!==l,A=$W((i.get(m)||FW).map(ne=>ne.getRealPlayer())).filter(ne=>{let Ve=ne;return Ve.element?Ve.element===m:!1}),D=s.get(m),O=o.get(m),K=gO(this._normalizer,p.keyframes,D,O),q=this._buildPlayer(p,K,A);if(p.subTimeline&&r&&d.add(m),b){let ne=new id(e,a,m);ne.setRealPlayer(q),c.push(ne)}return q});c.forEach(p=>{Dn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>VW(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>jn(p,sO));let f=ts(h);return f.onDestroy(()=>{u.forEach(p=>gl(p,sO)),Fi(l,n.toStyles)}),d.forEach(p=>{Dn(r,p,[]).push(f)}),f}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new es(e.duration,e.delay)}},id=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new es,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>lD(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Dn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function VW(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function jW(t){return t??null}function Qm(t){return t&&t.nodeType===1}function BW(t){return t=="start"||t=="done"}function hO(t,e){let n=t.style.display;return t.style.display=e??"none",n}function fO(t,e,n,i,r){let s=[];n.forEach(l=>s.push(hO(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[ni]=LW,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>hO(l,s[a++])),o}function pO(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&n.get(l).push(a)}),n}function jn(t,e){t.classList?.add(e)}function gl(t,e){t.classList?.remove(e)}function UW(t,e,n){ts(n).onDone(()=>t.processLeaveNode(e))}function $W(t){let e=[];return SO(t,e),e}function SO(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof Zu?SO(i.players,e):e.push(i)}}function zW(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function mO(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}var _l=class{constructor(e,n,i){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new oD(e.body,n,i),this._timelineEngine=new rD(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,n,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=CO(this._driver,s,l,c);if(l.length)throw $9(r,l);c.length&&void 0,a=AW(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[s,o]=iO(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=iO(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function HW(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=GI(e[0]),e.length>1&&(i=GI(e[e.length-1]))):e instanceof Map&&(n=GI(e)),n||i?new qW(t,n,i):null}var qW=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._startStyles=r,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(i);o||e.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fi(this._element,this._initialStyles),this._endStyles&&(Fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Eo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eo(this._element,this._endStyles),this._endStyles=null),Fi(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function GI(t){let e=null;return t.forEach((n,i)=>{GW(i)&&(e=e||new Map,e.set(i,n))}),e}function GW(t){return t==="display"||t==="position"}var sg=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:IO(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},og=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return yO(e,n)}getParentElement(e){return uD(e)}query(e,n,i){return _O(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof sg);uW(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=aW(n).map(f=>yl(f));d=dW(e,d,c);let h=HW(e,d);return new sg(e,d,l,h)}};var Ym="@",AO="@.disabled",ag=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==Ym&&n==AO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},aD=class extends ag{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==Ym?n.charAt(1)=="."&&n==AO?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==Ym){let r=WW(e),s=n.slice(1),o="";return s.charAt(0)!=Ym&&([s,o]=KW(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,n,i)}};function WW(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function KW(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var lg=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new ag(i,r,this.engine,d),c.set(r,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new aD(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var YW=(()=>{let e=class e extends _l{constructor(i,r,s,o){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(v(ae),v(rd),v(Io),v(Qn))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function ZW(){return new eg}function XW(t,e,n){return new lg(t,e,n)}var RO=[{provide:Io,useFactory:ZW},{provide:_l,useClass:YW},{provide:bs,useFactory:XW,deps:[vf,_l,j]}],MO=[{provide:rd,useFactory:()=>new og},{provide:Cs,useValue:"BrowserAnimations"},...RO],JW=[{provide:rd,useClass:dD},{provide:Cs,useValue:"NoopAnimations"},...RO],PO=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?JW:MO}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:MO,imports:[bf]});let t=e;return t})();function e6(){return!0}var t6=new C("mat-sanity-checks",{providedIn:"root",factory:e6}),Yt=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ZM()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(v(lR),v(t6,8),v(ae))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ew,Ew]});let t=e;return t})();function cg(t,e){return class extends t{get color(){return this._color}set color(n){let i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function jO(t){return class extends t{updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.errorStateMatcher||this._defaultErrorStateMatcher,r=this.ngControl?this.ngControl.control:null,s=i.isErrorState(r,n);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}var BO=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pD=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},NO=Yi({passive:!0,capture:!0}),mD=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=js(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,NO)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,NO)))}},kO={enterDuration:225,exitDuration:150},n6=800,OO=Yi({passive:!0,capture:!0}),FO=["mousedown","touchstart"],LO=["mouseup","mouseleave","touchend","touchcancel"],od=class od{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ke(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=P(P({},kO),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||i6(e,n,r),a=e-r.left,l=n-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${l-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,m=new pD(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>this._finishRippleTransition(m),A=()=>this._destroyRipple(m);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",A),g={onTransitionEnd:b,onTransitionCancel:A}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(e.state===2||e.state===3)return;let n=e.element,i=P(P({},kO),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Ke(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,FO.forEach(i=>{od._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{LO.forEach(n=>{this._triggerElement.addEventListener(n,this,OO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=Bf(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+n6;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Uf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(FO.forEach(n=>od._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&LO.forEach(n=>e.removeEventListener(n,this,OO)))}};od._eventManager=new mD;var VO=od;function i6(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var s6=["*",[["mat-toolbar-row"]]],o6=["*","mat-toolbar-row"],a6=cg(class{constructor(t){this._elementRef=t}}),l6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Me({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});let t=e;return t})(),UO=(()=>{let e=class e extends a6{constructor(i,r,s){super(i),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(At),M(ae))},e.\u0275cmp=$t({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,s,o){if(r&1&&qt(o,l6,5),r&2){let a;je(a=Be())&&(s._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,s){r&2&&We("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Gn],ngContentSelectors:o6,decls:2,vars:0,template:function(r,s){r&1&&(Kn(s6),it(0),it(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var $O=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Yt,Yt]});let t=e;return t})();var u6=["*"],ug;function d6(){if(ug===void 0&&(ug=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(ug=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ug}function ad(t){return d6()?.createHTML(t)||t}function zO(t){return Error(`Unable to find icon with the name "${t}"`)}function h6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function HO(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function qO(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var lr=class{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}},f6=(()=>{let e=class e{constructor(i,r,s,o){this._httpClient=i,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,o){return this._addSvgIconConfig(i,r,new lr(s,null,o))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,o){let a=this._sanitizer.sanitize(rn.HTML,s);if(!a)throw qO(s);let l=ad(a);return this._addSvgIconConfig(i,r,new lr("",l,o))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new lr(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){let o=this._sanitizer.sanitize(rn.HTML,r);if(!o)throw qO(r);let a=ad(o);return this._addSvgIconSetConfig(i,new lr("",a,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(rn.RESOURCE_URL,i);if(!r)throw HO(i);let s=this._cachedIconsByUrl.get(r);return s?V(dg(s)):this._loadSvgIconFromConfig(new lr(i,null)).pipe(Ae(o=>this._cachedIconsByUrl.set(r,o)),F(o=>dg(o)))}getNamedSvgIcon(i,r=""){let s=GO(r,i),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,i),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(i,a):hr(zO(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?V(dg(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(F(r=>dg(r)))}_getSvgFromIconSetConfigs(i,r){let s=this._extractIconWithNameFromAnySet(i,r);if(s)return V(s);let o=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(ai(l=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(rn.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(u)),V(null)})));return Pl(o).pipe(F(()=>{let a=this._extractIconWithNameFromAnySet(i,r);if(!a)throw zO(i);return a}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.svgText&&o.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(a,i,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ae(r=>i.svgText=r),F(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?V(null):this._fetchIcon(i).pipe(Ae(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){let o=i.querySelector(`[id="${r}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,s);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),s);let l=this._svgElementFromString(ad("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,s)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){let r=this._svgElementFromString(ad("<svg></svg>")),s=i.attributes;for(let o=0;o<s.length;o++){let{name:a,value:l}=s[o];a!=="id"&&r.setAttribute(a,l)}for(let o=0;o<i.childNodes.length;o++)i.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:s}=i,o=s?.withCredentials??!1;if(!this._httpClient)throw h6();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(rn.RESOURCE_URL,r);if(!a)throw HO(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(F(u=>ad(u)),gr(()=>this._inProgressUrlFetches.delete(a)),fs());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(GO(i,r),s),this}_addSvgIconSetConfig(i,r){let s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](r,i);if(o)return p6(o)?new lr(o.url,null,o.options):new lr(o,null)}}};e.\u0275fac=function(r){return new(r||e)(v(YA,8),v(Rv),v(ae,8),v(nn))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dg(t){return t.cloneNode(!0)}function GO(t,e){return t+":"+e}function p6(t){return!!(t.url&&t.options)}var m6=cg(class{constructor(t){this._elementRef=t}}),g6=new C("MAT_ICON_DEFAULT_OPTIONS"),y6=new C("mat-icon-location",{providedIn:"root",factory:_6});function _6(){let t=T(ae),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var WO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],v6=WO.map(t=>`[${t}]`).join(", "),w6=/^url\(['"]?#(.*?)['"]?\)$/,KO=(()=>{let e=class e extends m6{get inline(){return this._inline}set inline(i){this._inline=Qi(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,o,a,l){super(i),this._iconRegistry=r,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ge.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=i.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(v6),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)WO.forEach(a=>{let l=r[o],c=l.getAttribute(a),u=c?c.match(w6):null;if(u){let d=s.get(l);d||(d=[],s.set(l,d)),d.push({name:a,value:u[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(xt(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${r}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(f6),Zl("aria-hidden"),M(y6),M(nn),M(g6,8))},e.\u0275cmp=$t({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,s){r&2&&(sn("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),We("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Gn],ngContentSelectors:u6,decls:1,vars:0,template:function(r,s){r&1&&(Kn(),it(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),QO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Yt,Yt]});let t=e;return t})();var E6=["*"];var I6=new C("MAT_CARD_CONFIG"),YO=(()=>{let e=class e{constructor(i){this.appearance=i?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(M(I6,8))},e.\u0275cmp=$t({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,s){r&2&&We("mat-mdc-card-outlined",s.appearance==="outlined")("mdc-card--outlined",s.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:E6,decls:1,vars:0,template:function(r,s){r&1&&(Kn(),it(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})();var ZO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Yt,ua,Yt]});let t=e;return t})();var XO=Yi({passive:!0}),JO=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Ct;let r=Ke(i),s=this._monitoredElements.get(r);if(s)return s.subject;let o=new z,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,XO),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",l,XO)}}),o}stopMonitoring(i){let r=Ke(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(v(At),v(j))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();function ns(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function aF(t){return t!=null&&typeof t.length=="number"}var lF=new C("NgValidators"),cF=new C("NgAsyncValidators"),x6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fg=class{static min(e){return T6(e)}static max(e){return S6(e)}static required(e){return A6(e)}static requiredTrue(e){return M6(e)}static email(e){return R6(e)}static minLength(e){return P6(e)}static maxLength(e){return N6(e)}static pattern(e){return k6(e)}static nullValidator(e){return uF(e)}static compose(e){return gF(e)}static composeAsync(e){return yF(e)}};function T6(t){return e=>{if(ns(e.value)||ns(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function S6(t){return e=>{if(ns(e.value)||ns(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function A6(t){return ns(t.value)?{required:!0}:null}function M6(t){return t.value===!0?null:{required:!0}}function R6(t){return ns(t.value)||x6.test(t.value)?null:{email:!0}}function P6(t){return e=>ns(e.value)||!aF(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function N6(t){return e=>aF(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function k6(t){if(!t)return uF;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(ns(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function uF(t){return null}function dF(t){return t!=null}function hF(t){return As(t)?he(t):t}function fF(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function pF(t,e){return e.map(n=>n(t))}function O6(t){return!t.validate}function mF(t){return t.map(e=>O6(e)?e:n=>e.validate(n))}function gF(t){if(!t)return null;let e=t.filter(dF);return e.length==0?null:function(n){return fF(pF(n,e))}}function _D(t){return t!=null?gF(mF(t)):null}function yF(t){if(!t)return null;let e=t.filter(dF);return e.length==0?null:function(n){let i=pF(n,e).map(hF);return Pl(i).pipe(F(fF))}}function vD(t){return t!=null?yF(mF(t)):null}function tF(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _F(t){return t._rawValidators}function vF(t){return t._rawAsyncValidators}function gD(t){return t?Array.isArray(t)?t:[t]:[]}function pg(t,e){return Array.isArray(t)?t.includes(e):t===e}function nF(t,e){let n=gD(e);return gD(t).forEach(r=>{pg(n,r)||n.push(r)}),n}function iF(t,e){return gD(e).filter(n=>!pg(t,n))}var mg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_D(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wl=class extends mg{get formDirective(){return null}get path(){return null}},gg=class extends mg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}};var F6={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Oae=be(P({},F6),{"[class.ng-submitted]":"isSubmitted"});var ld="VALID",hg="INVALID",vl="PENDING",cd="DISABLED";function wF(t){return(bg(t)?t.validators:t)||null}function L6(t){return Array.isArray(t)?_D(t):t||null}function bF(t,e){return(bg(e)?e.asyncValidators:t)||null}function V6(t){return Array.isArray(t)?vD(t):t||null}function bg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function j6(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new x(1e3,"");if(!i[n])throw new x(1001,"")}function B6(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new x(1002,"")})}var yg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ld}get invalid(){return this.status===hg}get pending(){return this.status==vl}get disabled(){return this.status===cd}get enabled(){return this.status!==cd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iF(e,this._rawAsyncValidators))}hasValidator(e){return pg(this._rawValidators,e)}hasAsyncValidator(e){return pg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vl,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cd,this.errors=null,this._forEachChild(i=>{i.disable(be(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ld,this._forEachChild(i=>{i.enable(be(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ld||this.status===vl)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cd:ld}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vl,this._hasOwnPendingAsyncValidator=!0;let n=hF(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?cd:this.errors?hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vl)?vl:this._anyControlsHaveStatus(hg)?hg:ld}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=L6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=V6(this._rawAsyncValidators)}},_g=class extends yg{constructor(e,n,i){super(wF(n),bF(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){B6(this,!0,e),Object.keys(e).forEach(i=>{j6(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var EF=new C("CallSetDisabledState",{providedIn:"root",factory:()=>IF}),IF="always";function yD(t,e,n=IF){wD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),$6(t,e),H6(t,e),z6(t,e),U6(t,e)}function rF(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),wg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function U6(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function wD(t,e){let n=_F(t);e.validator!==null?t.setValidators(tF(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=vF(t);e.asyncValidator!==null?t.setAsyncValidators(tF(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();vg(e._rawValidators,r),vg(e._rawAsyncValidators,r)}function wg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=_F(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=vF(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return vg(e._rawValidators,i),vg(e._rawAsyncValidators,i),n}function $6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&DF(t,e)})}function z6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&DF(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function DF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function H6(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function CF(t,e){t==null,wD(t,e)}function q6(t,e){return wg(t,e)}function xF(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function G6(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var W6={provide:wl,useExisting:ql(()=>bD)},ud=(()=>Promise.resolve())(),bD=(()=>{let e=class e extends wl{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ue,this.form=new _g({},_D(i),vD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){ud.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),yD(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){ud.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){ud.then(()=>{let r=this._findContainer(i.path),s=new _g({});CF(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){ud.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){ud.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,xF(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(M(lF,10),M(cF,10),M(EF,8))},e.\u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&St("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([W6]),Gn]});let t=e;return t})();function sF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oF(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var K6=class extends yg{constructor(e=null,n,i){super(wF(n),bF(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(oF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q6=t=>t instanceof K6;var Y6={provide:wl,useExisting:ql(()=>ED)},ED=(()=>{let e=class e extends wl{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ue,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return yD(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){rF(i.control||null,i,!1),G6(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,xF(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(rF(r||null,i),Q6(s)&&(yD(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);CF(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&q6(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wD(this.form,this),this._oldForm&&wg(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(M(lF,10),M(cF,10),M(EF,8))},e.\u0275dir=Me({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&St("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([Y6]),Gn,mn]});let t=e;return t})();var ID=class{constructor(e){this._box=e,this._destroyed=new z,this._resizeSubject=new z,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new $(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(ke(n=>n.some(i=>i.target===e)),ps({bufferSize:1,refCount:!0}),_t(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},TF=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=T(j),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new ID(s)),this._observers.get(s).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X6=["notch"],J6=["matFormFieldNotchedOutline",""],e8=["*"],t8=["textField"],n8=["iconPrefixContainer"],i8=["textPrefixContainer"];function r8(t,e){t&1&&Rn(0,"span",16)}function s8(t,e){if(t&1&&(_e(0,"label",14),it(1,1),nt(2,r8,1,0,"span",15),ve()),t&2){let n=mi(2);wt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),sn("for",n._control.id),Re(2),Ht(2,!n.hideRequiredMarker&&n._control.required?2:-1)}}function o8(t,e){if(t&1&&nt(0,s8,3,5,"label",14),t&2){let n=mi();Ht(0,n._hasFloatingLabel()?0:-1)}}function a8(t,e){t&1&&Rn(0,"div",17)}function l8(t,e){}function c8(t,e){if(t&1&&nt(0,l8,0,0,"ng-template",9),t&2){mi(2);let n=Ms(1);wt("ngTemplateOutlet",n)}}function u8(t,e){if(t&1&&(_e(0,"div",5),nt(1,c8,1,1,null,9),ve()),t&2){let n=mi();wt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),Re(1),Ht(1,n._forceDisplayInfixLabel()?-1:1)}}function d8(t,e){t&1&&(_e(0,"div",18,19),it(2,2),ve())}function h8(t,e){t&1&&(_e(0,"div",20,21),it(2,3),ve())}function f8(t,e){}function p8(t,e){if(t&1&&nt(0,f8,0,0,"ng-template",9),t&2){mi();let n=Ms(1);wt("ngTemplateOutlet",n)}}function m8(t,e){t&1&&(_e(0,"div",22),it(1,4),ve())}function g8(t,e){t&1&&(_e(0,"div",23),it(1,5),ve())}function y8(t,e){t&1&&Rn(0,"div",12)}function _8(t,e){if(t&1&&(_e(0,"div",24),it(1,6),ve()),t&2){let n=mi();wt("@transitionMessages",n._subscriptAnimationState)}}function v8(t,e){if(t&1&&(_e(0,"mat-hint",26),gi(1),ve()),t&2){let n=mi(2);wt("id",n._hintLabelId),Re(1),Rs(n.hintLabel)}}function w8(t,e){if(t&1&&(_e(0,"div",25),nt(1,v8,2,2,"mat-hint",26),it(2,7),Rn(3,"div",27),it(4,8),ve()),t&2){let n=mi();wt("@transitionMessages",n._subscriptAnimationState),Re(1),Ht(1,n.hintLabel?1:-1)}}var b8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],E8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"],Ig=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Me({type:e,selectors:[["mat-label"]]});let t=e;return t})();var I8=new C("MatError");var D8=0,SF=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${D8++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Me({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,s){r&2&&(aa("id",s.id),sn("align",null),We("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"}});let t=e;return t})(),C8=new C("MatPrefix");var x8=new C("MatSuffix");var FF=new C("FloatingLabelParent"),AF=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=T(TF),this._ngZone=T(j),this._parent=T(FF),this._resizeSubscription=new ge}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return T8(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(M(Ee))},e.\u0275dir=Me({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,s){r&2&&We("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}});let t=e;return t})();function T8(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var MF="mdc-line-ripple--active",Eg="mdc-line-ripple--deactivating",RF=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{let o=this._elementRef.nativeElement.classList,a=o.contains(Eg);s.propertyName==="opacity"&&a&&o.remove(MF,Eg)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Eg),i.add(MF)}deactivate(){this._elementRef.nativeElement.classList.add(Eg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(j))},e.\u0275dir=Me({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]});let t=e;return t})(),PF=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + ${8+1}px)`}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(j))},e.\u0275cmp=$t({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,s){if(r&1&&yi(X6,5),r&2){let o;je(o=Be())&&(s._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,s){r&2&&We("mdc-notched-outline--notched",s.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:J6,ngContentSelectors:e8,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,s){r&1&&(Kn(),Rn(0,"div",0),_e(1,"div",1,2),it(3),ve(),Rn(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),S8={transitionMessages:Zk("transitionMessages",[eO("enter",ml({opacity:1,transform:"translateY(0%)"})),tO("void => enter",[ml({opacity:0,transform:"translateY(-5px)"}),Xk("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},DD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Me({type:e});let t=e;return t})();var CD=new C("MatFormField"),A8=new C("MAT_FORM_FIELD_DEFAULT_OPTIONS"),NF=0,kF="fill",M8="auto",OF="fixed",R8="translateY(-50%)",LF=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Qi(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||M8}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,s=i||this._defaults?.appearance||kF;this._appearance=s,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||OF}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||OF}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,o,a,l,c,u){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=o,this._platform=a,this._defaults=l,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance=kF,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${NF++}`,this._hintLabelId=`mat-mdc-hint-${NF++}`,this._subscriptAnimationState="",this._destroyed=new z,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(_t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Un(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_t(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(_t(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,s=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,a=s?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",c=`${o+a}px`,d=`calc(${l} * (${c} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${R8} translateX(${d})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(Mn),M(j),M(kc),M(At),M(A8,8),M(Cs,8),M(ae))},e.\u0275cmp=$t({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,s,o){if(r&1&&(qt(o,Ig,5),qt(o,Ig,7),qt(o,DD,5),qt(o,C8,5),qt(o,x8,5),qt(o,I8,5),qt(o,SF,5)),r&2){let a;je(a=Be())&&(s._labelChildNonStatic=a.first),je(a=Be())&&(s._labelChildStatic=a.first),je(a=Be())&&(s._formFieldControl=a.first),je(a=Be())&&(s._prefixChildren=a),je(a=Be())&&(s._suffixChildren=a),je(a=Be())&&(s._errorChildren=a),je(a=Be())&&(s._hintChildren=a)}},viewQuery:function(r,s){if(r&1&&(yi(t8,5),yi(n8,5),yi(i8,5),yi(AF,5),yi(PF,5),yi(RF,5)),r&2){let o;je(o=Be())&&(s._textField=o.first),je(o=Be())&&(s._iconPrefixContainer=o.first),je(o=Be())&&(s._textPrefixContainer=o.first),je(o=Be())&&(s._floatingLabel=o.first),je(o=Be())&&(s._notchedOutline=o.first),je(o=Be())&&(s._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,s){r&2&&We("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_n([{provide:CD,useExisting:e},{provide:FF,useExisting:e}])],ngContentSelectors:E8,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,s){if(r&1&&(Kn(b8),nt(0,o8,1,1,"ng-template",null,0,mA),_e(2,"div",1,2),St("click",function(a){return s._control.onContainerClick(a)}),nt(4,a8,1,0,"div",3),_e(5,"div",4),nt(6,u8,2,2,"div",5)(7,d8,3,0,"div",6)(8,h8,3,0,"div",7),_e(9,"div",8),nt(10,p8,1,1,null,9),it(11),ve(),nt(12,m8,2,0,"div",10)(13,g8,2,0,"div",11),ve(),nt(14,y8,1,0,"div",12),ve(),_e(15,"div",13),nt(16,_8,2,1)(17,w8,5,2),ve()),r&2){let o;Re(2),We("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),Re(2),Ht(4,!s._hasOutline()&&!s._control.disabled?4:-1),Re(2),Ht(6,s._hasOutline()?6:-1),Re(1),Ht(7,s._hasIconPrefix?7:-1),Re(1),Ht(8,s._hasTextPrefix?8:-1),Re(2),Ht(10,!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),Re(2),Ht(12,s._hasTextSuffix?12:-1),Re(1),Ht(13,s._hasIconSuffix?13:-1),Re(1),Ht(14,s._hasOutline()?-1:14),Re(1),We("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),Re(1),Ht(16,(o=s._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[OA,SF,AF,PF,RF],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[S8.transitionMessages]},changeDetection:0});let t=e;return t})(),xD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Yt,ua,nR,Yt]});let t=e;return t})();var N8=new C("MAT_INPUT_VALUE_ACCESSOR"),k8=["button","checkbox","file","hidden","image","radio","range","reset","submit"],O8=0,F8=jO(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i,this.stateChanges=new z}}),VF=(()=>{let e=class e extends F8{get disabled(){return this._disabled}set disabled(i){this._disabled=Qi(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(fg.required)??!1}set required(i){this._required=Qi(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&ww().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Qi(i)}constructor(i,r,s,o,a,l,c,u,d,h){super(l,o,a,s),this._elementRef=i,this._platform=r,this._autofillMonitor=u,this._formField=h,this._uid=`mat-input-${O8++}`,this.focused=!1,this.stateChanges=new z,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>ww().has(m)),this._iOSKeyupListener=m=>{let g=m.target;!g.value&&g.selectionStart===0&&g.selectionEnd===0&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))};let f=this._elementRef.nativeElement,p=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&d.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect=p==="select",this._isTextarea=p==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){k8.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}};e.\u0275fac=function(r){return new(r||e)(M(Ee),M(At),M(gg,10),M(bD,8),M(ED,8),M(BO),M(N8,10),M(JO),M(j),M(CD,8))},e.\u0275dir=Me({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,s){r&1&&St("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),r&2&&(aa("id",s.id)("disabled",s.disabled)("required",s.required),sn("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),We("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[_n([{provide:DD,useExisting:e}]),Gn,mn]});let t=e;return t})(),jF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Yt,xD,xD,eF,Yt]});let t=e;return t})();function V8(t,e){if(t&1&&(_e(0,"mat-card",9),gi(1),ve()),t&2){let n=e.$implicit;Re(1),Rs(n)}}function j8(t,e){if(t&1&&(_e(0,"mat-card",9),gi(1),ve()),t&2){let n=e.$implicit;Re(1),Rs(n)}}function B8(t,e){if(t&1&&(_e(0,"mat-card",9),gi(1),ve()),t&2){let n=e.$implicit;Re(1),Rs(n)}}var TD=(t,e)=>[t,e],BF=(()=>{let e=class e{constructor(){this.firestore=T(vo),this.todo=["TODO 1"],this.inProgress=["IP 1"],this.done=["DONE 1"];let i=Qk(this.firestore,"items");this.items$=Kk(i)}drop(i){i.container.id===i.previousContainer.id?Pw(i.container.data,i.previousIndex,i.currentIndex):DR(i.previousContainer.data,i.container.data,i.previousIndex,i.currentIndex)}addItem(i){let r=i.target;this.todo.push(r.value),r.value=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$t({type:e,selectors:[["app-root"]],decls:20,vars:18,consts:[["color","primary"],[1,"content-wrapper"],["matInput","",3,"keydown.enter"],[1,"container-wrapper"],["cdkDropList","",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["backlogList","cdkDropList"],["cdkDrag","","class","item",4,"ngFor","ngForOf"],["inProgressList","cdkDropList"],["doneList","cdkDropList"],["cdkDrag","",1,"item"]],template:function(r,s){if(r&1&&(_e(0,"mat-toolbar",0)(1,"mat-icon"),gi(2,"local_fire_deparment"),ve(),_e(3,"span"),gi(4,"KanbanFire"),ve()(),_e(5,"div",1)(6,"mat-form-field")(7,"mat-label"),gi(8,"Task name"),ve(),_e(9,"input",2),St("keydown.enter",function(a){return s.addItem(a)}),ve()(),_e(10,"div",3)(11,"mat-card",4,5),St("cdkDropListDropped",function(a){return s.drop(a)}),nt(13,V8,2,1,"mat-card",6),ve(),_e(14,"mat-card",4,7),St("cdkDropListDropped",function(a){return s.drop(a)}),nt(16,j8,2,1,"mat-card",6),ve(),_e(17,"mat-card",4,8),St("cdkDropListDropped",function(a){return s.drop(a)}),nt(19,B8,2,1,"mat-card",6),ve()()()),r&2){let o=Ms(12),a=Ms(15),l=Ms(18);Re(11),wt("cdkDropListData",s.todo)("cdkDropListConnectedTo",sf(9,TD,a,l)),Re(2),wt("ngForOf",s.todo),Re(1),wt("cdkDropListData",s.inProgress)("cdkDropListConnectedTo",sf(12,TD,o,l)),Re(2),wt("ngForOf",s.inProgress),Re(1),wt("cdkDropListData",s.done)("cdkDropListConnectedTo",sf(15,TD,o,a)),Re(2),wt("ngForOf",s.done)}},dependencies:[kA,UO,KO,YO,RR,MR,VF,LF,Ig],styles:[".container-wrapper[_ngcontent-%COMP%]{display:flex;margin-top:20px}.list[_ngcontent-%COMP%]{width:400px;margin-right:25px;border:1px solid #ccc;min-height:60px}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer;box-sizing:border-box}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.content-wrapper[_ngcontent-%COMP%]{width:1000px;margin:auto}"]});let t=e;return t})();var U8="firebase",$8="10.7.1";Jt.registerVersion(U8,$8,"app-compat");var z8=["ngOnDestroy"],$F=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{if(t[s])return i?.spy?.get&&i.spy.get(s,t[s]),t[s];if(z8.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,d),d})})})});var Dg=class{constructor(e){return e}},bl=new C("angularfire2.app.options"),El=new C("angularfire2.app.name");function dd(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let o=Jt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Jt.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;H8("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Dg(o)}var H8=(t,...e)=>{lv()&&typeof console<"u"&&console[t](...e)},q8={provide:Dg,useFactory:dd,deps:[bl,j,[new zt,El]]},zF=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:bl,useValue:n},{provide:El,useValue:i}]}}constructor(n){Jt.registerVersion("angularfire",Nn.full,"core"),Jt.registerVersion("angularfire",Nn.full,"app-compat"),Jt.registerVersion("angular",ic.full,n.toString())}static \u0275fac=function(i){return new(i||t)(v(ct))};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[q8]})}return t})();function Cg(t,e,n,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return G8(r,o)||(UF("error",`${e} was already initialized on the ${n} Firebase App with different settings.${W8?" You may need to reload as Firebase is not HMR aware.":""}`),UF("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function G8(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var W8=typeof module<"u"&&!!module.hot,UF=(t,...e)=>{lv()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var K8=new Map,Q8={activated:!1,tokenObservers:[]},Y8={initialized:!1,enabled:!1};function ii(t){return K8.get(t)||Object.assign({},Q8)}function KF(){return Y8}var Z8="https://content-firebaseappcheck.googleapis.com/v1";var X8="exchangeDebugToken",HF={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Kle=24*60*60*1e3;var AD=class{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Fg,this.pending.promise.catch(n=>{}),yield J8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Fg,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function J8(t){return new Promise(e=>{setTimeout(e,t)})}var eK={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},is=new cC("appCheck","AppCheck",eK);function QF(t){if(!ii(t).activated)throw is.create("use-before-activation",{appName:t.name})}function YF(i,r){return w(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(f){throw is.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw is.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw is.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function ZF(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Z8}/projects/${n}/apps/${i}:${X8}?key=${r}`,body:{debug_token:e}}}var tK="firebase-app-check-database",nK=1,MD="firebase-app-check-store";var xg=null;function iK(){return xg||(xg=new Promise((t,e)=>{try{let n=indexedDB.open(tK,nK);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(is.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(MD,{keyPath:"compositeKey"})}}}catch(n){e(is.create("storage-open",{originalErrorMessage:n?.message}))}}),xg)}function rK(t,e){return sK(oK(t),e)}function sK(t,e){return w(this,null,function*(){let i=(yield iK()).transaction(MD,"readwrite"),s=i.objectStore(MD).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(is.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function oK(t){return`${t.options.appId}-${t.name}`}var RD=new _d("@firebase/app-check");function SD(t,e){return yd()?rK(t,e).catch(n=>{RD.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function XF(){return KF().enabled}function JF(){return w(this,null,function*(){let t=KF();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var aK={error:"UNKNOWN_ERROR"};function lK(t){return rC.encodeString(JSON.stringify(t),!1)}function PD(t,e=!1){return w(this,null,function*(){let n=t.app;QF(n);let i=ii(n),r=i.token,s;if(r&&!hd(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(hd(l)?r=l:yield SD(n,void 0))}if(!e&&r&&hd(r))return{token:r.token};let o=!1;if(XF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=YF(ZF(n,yield JF()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield SD(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield ii(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?RD.warn(l.message):RD.error(l),s=l}let a;return r?s?hd(r)?a={token:r.token,internalError:s}:a=GF(s):(a={token:r.token},i.token=r,yield SD(n,r)):a=GF(s),o&&hK(n,a),a})}function cK(t){return w(this,null,function*(){let e=t.app;QF(e);let{provider:n}=ii(e);if(XF()){let i=yield JF(),{token:r}=yield YF(ZF(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function uK(t,e,n,i){let{app:r}=t,s=ii(r),o={next:n,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&hd(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),qF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>qF(t))}function eL(t,e){let n=ii(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function qF(t){let{app:e}=t,n=ii(e),i=n.tokenRefresher;i||(i=dK(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function dK(t){let{app:e}=t;return new AD(()=>w(this,null,function*(){let n=ii(e),i;if(n.token?i=yield PD(t,!0):i=yield PD(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=ii(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},HF.RETRIAL_MIN_WAIT,HF.RETRIAL_MAX_WAIT)}function hK(t,e){let n=ii(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function hd(t){return t.expireTimeMillis-Date.now()>0}function GF(t){return{token:lK(aK),error:t}}var ND=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ii(this.app);for(let n of e)eL(this.app,n.next);return Promise.resolve()}};function fK(t,e){return new ND(t,e)}function pK(t){return{getToken:e=>PD(t,e),getLimitedUseToken:()=>cK(t),addTokenListener:e=>uK(t,"INTERNAL",e),removeTokenListener:e=>eL(t.app,e)}}var mK="@firebase/app-check",gK="0.8.1";var yK="app-check",WF="app-check-internal";function _K(){Tl(new os(yK,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return fK(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(WF).initialize()})),Tl(new os(WF,t=>{let e=t.getProvider("app-check").getImmediate();return pK(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),kt(mK,gK)}_K();var vK=["localhost","0.0.0.0","127.0.0.1"],oce=typeof window<"u"&&vK.includes(window.location.hostname);var kD=new C("angularfire2.auth.use-emulator"),OD=new C("angularfire2.auth.settings"),FD=new C("angularfire2.auth.tenant-id"),LD=new C("angularfire2.auth.langugage-code"),VD=new C("angularfire2.auth.use-device-language"),jD=new C("angularfire.auth.persistence"),BD=(t,e,n,i,r,s,o,a)=>Cg(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,u]of Object.entries(o))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]),nL=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,s,o,a,l,c,u,d,h,f){let p=new z,m=V(void 0).pipe(cn(o.outsideAngular),Se(()=>s.runOutsideAngular(()=>import("./chunk-QT3T3XDR.js"))),F(()=>dd(n,s,i)),F(g=>BD(g,s,a,c,u,d,l,h)),ps({bufferSize:1,refCount:!1}));if(ks(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{m.pipe(un()).subscribe();let g=m.pipe(Se(D=>D.getRedirectResult().then(O=>O,()=>null)),Gt,ps({bufferSize:1,refCount:!1})),b=m.pipe(Se(D=>new $(O=>({unsubscribe:s.runOutsideAngular(()=>D.onAuthStateChanged(K=>O.next(K),K=>O.error(K),()=>O.complete()))})))),A=m.pipe(Se(D=>new $(O=>({unsubscribe:s.runOutsideAngular(()=>D.onIdTokenChanged(K=>O.next(K),K=>O.error(K),()=>O.complete()))}))));this.authState=g.pipe(Xd(b),Tn(o.outsideAngular),cn(o.insideAngular)),this.user=g.pipe(Xd(A),Tn(o.outsideAngular),cn(o.insideAngular)),this.idToken=this.user.pipe(Se(D=>D?he(D.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(Se(D=>D?he(D.getIdTokenResult()):V(null))),this.credential=Un(g,p,this.authState.pipe(ke(D=>!D))).pipe(F(D=>D?.user?D:null),Tn(o.outsideAngular),cn(o.insideAngular))}return $F(this,m,s,{spy:{apply:(g,b,A)=>{(g.startsWith("signIn")||g.startsWith("createUser"))&&A.then(D=>p.next(D))}}})}static \u0275fac=function(i){return new(i||t)(v(bl),v(El,8),v(ct),v(j),v(Zi),v(kD,8),v(OD,8),v(FD,8),v(LD,8),v(VD,8),v(jD,8),v(bi,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var bK="@firebase/firestore-compat",EK="0.3.23";function GD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new E("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function iL(){if(typeof Uint8Array>"u")throw new E("unimplemented","Uint8Arrays are not available in this environment.")}function rL(){if(!f1())throw new E("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Tg=class t{constructor(e){this._delegate=e}static fromBase64String(e){return rL(),new t(Ni.fromBase64String(e))}static fromUint8Array(e){return iL(),new t(Ni.fromUint8Array(e))}toBase64(){return rL(),this._delegate.toBase64()}toUint8Array(){return iL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function UD(t){return IK(t,["next","error","complete"])}function IK(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var $D=class{enableIndexedDbPersistence(e,n){return iI(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return rI(e._delegate)}clearIndexedDbPersistence(e){return sI(e._delegate)}},Sg=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){Fm(this._delegate,e,n,i)}enableNetwork(){return aI(this._delegate)}disableNetwork(){return lI(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,tI("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return oI(this._delegate)}onSnapshotsInSync(e){return RI(this._delegate,e)}get app(){if(!this._appCompat)throw new E("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cl(this,Qu(this._delegate,e))}catch(n){throw Zt(n,"collection()","Firestore.collection()")}}doc(e){try{return new Li(this,hl(this._delegate,e))}catch(n){throw Zt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,nI(this._delegate,e))}catch(n){throw Zt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return NI(this._delegate,n=>e(new Ag(this,n)))}batch(){return ut(this._delegate),new Mg(new Rm(this._delegate,e=>pl(this._delegate,e)))}loadBundle(e){return cI(this._delegate,e)}namedQuery(e){return uI(this._delegate,e).then(n=>n?new To(this,n):null)}},Il=class extends sl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tg(new Ni(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Li.forKey(n,this.firestore,null)}};function DK(t){T0(t)}var Ag=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Il(e)}get(e){let n=Do(e);return this._delegate.get(n).then(i=>new Co(this._firestore,new Vn(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Do(e);return i?(GD("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=Do(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=Do(e);return this._delegate.delete(n),this}},Mg=class{constructor(e){this._delegate=e}set(e,n,i){let r=Do(e);return i?(GD("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let s=Do(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){let n=Do(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Dl=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new jr(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xo(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new t(e,new Il(e),n),r.set(n,s)),s}};Dl.INSTANCES=new WeakMap;var Li=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Il(e)}static forPath(e,n,i){if(e.length%2!==0)throw new E("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Oe(n._delegate,i,new R(e)))}static forKey(e,n,i){return new t(n,new Oe(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Cl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cl(this.firestore,Qu(this._delegate,e))}catch(n){throw Zt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ze(e),e instanceof Oe?Yu(this._delegate,e):!1}set(e,n){n=GD("DocumentReference.set",n);try{return n?$m(this._delegate,e,n):$m(this._delegate,e)}catch(i){throw Zt(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?zm(this._delegate,e):zm(this._delegate,e,n,...i)}catch(r){throw Zt(r,"updateDoc()","DocumentReference.update()")}}delete(){return AI(this._delegate)}onSnapshot(...e){let n=sL(e),i=oL(e,r=>new Co(this.firestore,new Vn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return fl(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=DI(this._delegate):e?.source==="server"?n=CI(this._delegate):n=II(this._delegate),n.then(i=>new Co(this.firestore,new Vn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Zt(t,e,n){return t.message=t.message.replace(e,n),t}function sL(t){for(let e of t)if(typeof e=="object"&&!UD(e))return e;return{}}function oL(t,e){var n,i;let r;return UD(t[0])?r=t[0]:UD(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:s=>{r.next&&r.next(e(s))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Co=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Li(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Um(this._delegate,e._delegate)}},xo=class extends Co{data(e){let n=this._delegate.data(e);return this._delegate._converter||n1(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},To=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Il(e)}where(e,n,i){try{return new t(this.firestore,ki(this._delegate,mI(e,n,i)))}catch(r){throw Zt(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,ki(this._delegate,gI(e,n)))}catch(i){throw Zt(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,ki(this._delegate,yI(e)))}catch(n){throw Zt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,ki(this._delegate,_I(e)))}catch(n){throw Zt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,ki(this._delegate,vI(...e)))}catch(n){throw Zt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,ki(this._delegate,wI(...e)))}catch(n){throw Zt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,ki(this._delegate,bI(...e)))}catch(n){throw Zt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,ki(this._delegate,EI(...e)))}catch(n){throw Zt(n,"endAt()","Query.endAt()")}}isEqual(e){return Lm(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=TI(this._delegate):e?.source==="server"?n=SI(this._delegate):n=xI(this._delegate),n.then(i=>new fd(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=sL(e),i=oL(e,r=>new fd(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return fl(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},zD=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new xo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},fd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zD(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new xo(this._firestore,i))})}isEqual(e){return Um(this._delegate,e._delegate)}},Cl=class t extends To{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Li(this.firestore,e):null}doc(e){try{return e===void 0?new Li(this.firestore,hl(this._delegate)):new Li(this.firestore,hl(this._delegate,e))}catch(n){throw Zt(n,"doc()","CollectionReference.doc()")}}add(e){return MI(this._delegate,e).then(n=>new Li(this.firestore,n))}isEqual(e){return Yu(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Dl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Do(t){return pe(t,Oe)}var HD=class t{constructor(...e){this._delegate=new ei(...e)}static documentId(){return new t(et.keyField().canonicalString())}isEqual(e){return e=ze(e),e instanceof ei?this._delegate._internalPath.isEqual(e._internalPath):!1}};var qD=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=OI();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=kI();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=FI(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=LI(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=VI(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var CK={Firestore:Sg,GeoPoint:fo,Timestamp:qe,Blob:Tg,Transaction:Ag,WriteBatch:Mg,DocumentReference:Li,DocumentSnapshot:Co,Query:To,QueryDocumentSnapshot:xo,QuerySnapshot:fd,CollectionReference:Cl,FieldPath:HD,FieldValue:qD,setLogLevel:DK,CACHE_SIZE_UNLIMITED:Sk};function xK(t,e){t.INTERNAL.registerComponent(new os("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},CK)))}function TK(t){xK(t,(e,n)=>new Sg(e,n,new $D)),t.registerVersion(bK,EK)}TK(Jt);function SK(t,e=xn){return new $(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function aL(t,e){return SK(t,e)}function AK(t,e){return aL(t,e).pipe(Lt(void 0),hs(),F(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function QD(t,e){return aL(t,e).pipe(F(n=>({payload:n,type:"query"})))}var Rg=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:s}=hL(i,n);return new Ng(r,s,this.afs)}snapshotChanges(){return AK(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt)}valueChanges(e={}){return this.snapshotChanges().pipe(F(({payload:n})=>e.idField?be(P({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return he(this.ref.get(e)).pipe(Gt)}};function Pg(t,e){return QD(t,e).pipe(Lt(void 0),hs(),F(n=>{let[i,r]=n,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let c=s.find(d=>d.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(d=>d.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function lL(t,e,n){return Pg(t,n).pipe(yr((i,r)=>MK(i,r.map(s=>s.payload),e),[]),ds(),F(i=>i.map(r=>({type:r.type,payload:r}))))}function MK(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=RK(t,i))}),t}function WD(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function RK(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return WD(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return WD(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WD(t,e.oldIndex,1);break}return t}function cL(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Ng=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=Pg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(F(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Lt(void 0),hs(),ke(([i,r])=>r.length>0||!i),F(([,i])=>i),Gt)}auditTrail(e){return this.stateChanges(e).pipe(yr((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=cL(e);return lL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gt)}valueChanges(e={}){return QD(this.query,this.afs.schedulers.outsideAngular).pipe(F(n=>n.payload.docs.map(i=>e.idField?be(P({},i.data()),{[e.idField]:i.id}):i.data())),Gt)}get(e){return he(this.query.get(e)).pipe(Gt)}add(e){return this.ref.add(e)}doc(e){return new Rg(this.ref.doc(e),this.afs)}},KD=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Pg(this.query,this.afs.schedulers.outsideAngular).pipe(Gt):Pg(this.query,this.afs.schedulers.outsideAngular).pipe(F(n=>n.filter(i=>e.indexOf(i.type)>-1)),ke(n=>n.length>0),Gt)}auditTrail(e){return this.stateChanges(e).pipe(yr((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=cL(e);return lL(this.query,n,this.afs.schedulers.outsideAngular).pipe(Gt)}valueChanges(e={}){return QD(this.query,this.afs.schedulers.outsideAngular).pipe(F(i=>i.payload.docs.map(r=>e.idField?P({[e.idField]:r.id},r.data()):r.data())),Gt)}get(e){return he(this.query.get(e)).pipe(Gt)}},uL=new C("angularfire2.enableFirestorePersistence"),dL=new C("angularfire2.firestore.persistenceSettings"),PK=new C("angularfire2.firestore.settings"),NK=new C("angularfire2.firestore.use-emulator");function hL(t,e=n=>n){return{query:e(t),ref:t}}var kK=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,s,o,a,l,c,u,d,h,f,p,m,g,b,A){this.schedulers=l;let D=dd(n,a,i),O=u;d&&BD(D,a,h,p,m,g,f,b),[this.firestore,this.persistenceEnabled$]=Cg(`${D.name}.firestore`,"AngularFirestore",D.name,()=>{let K=a.runOutsideAngular(()=>D.firestore());if(s&&K.settings(s),O&&K.useEmulator(...O),r&&!ks(o)){let q=()=>{try{return he(K.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(ne){return typeof console<"u"&&console.warn(ne),V(!1)}};return[K,a.runOutsideAngular(q)]}else return[K,V(!1)]},[s,O,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:s,query:o}=hL(r,i),a=this.schedulers.ngZone.run(()=>s);return new Ng(a,o,this)}collectionGroup(n,i){let r=i||(o=>o),s=this.firestore.collectionGroup(n);return new KD(r(s),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new Rg(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(v(bl),v(El,8),v(uL,8),v(PK,8),v(ct),v(j),v(Zi),v(dL,8),v(NK,8),v(nL,8),v(kD,8),v(OD,8),v(FD,8),v(LD,8),v(VD,8),v(jD,8),v(bi,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),fL=(()=>{class t{constructor(){Jt.registerVersion("angularfire",Nn.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:uL,useValue:!0},{provide:dL,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[kK]})}return t})();var pL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e,bootstrap:[BF]}),e.\u0275inj=Y({providers:[oM()],imports:[bf,QM,PO,$O,QO,ZO,PR,jF,kR(()=>OR({projectId:"pokerparty-a1760",appId:"1:327148006791:web:d9b3681a6adbd683b3f722",databaseURL:"https://pokerparty-a1760-default-rtdb.firebaseio.com",storageBucket:"pokerparty-a1760.appspot.com",apiKey:"AIzaSyDWeJRQAeSyg-3JfBBIjTkmxRTDHkQPP58",authDomain:"pokerparty-a1760.firebaseapp.com",messagingSenderId:"327148006791",measurementId:"G-3SLXJ6ZBLZ"})),Wk(()=>Yk()),zF.initializeApp({}),fL]});let t=e;return t})();rM().bootstrapModule(pL).catch(t=>console.error(t));
